(this["webpackJsonpmatx-react-pro"]=this["webpackJsonpmatx-react-pro"]||[]).push([[102],{1351:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(14),i=n(5),s=n(155),o=n(7),l=n(154),d=n.n(l),u=n(1376),j=n(1383),b=n(119),m=n(121),h=n(30),p=n(512),x=n(1382),O=n(1231),g=n(1368),f=n(1354),v=n(1371),S=n(1346),y=n(562),w=n(3),D=Object(b.a)(m.a)((function(e){e.theme;return{display:"flex",height:"100%",marginBottom:"-10px",flexDirection:"column",position:"relative"}})),T=S.a.RangePicker,C=function(e){var t=e.startDate,n=e.endDate,a=e.setStartDate,r=e.setEndDate;return Object(w.jsx)(D,{style:{width:"100%"},children:Object(w.jsx)(T,{size:"large",showTime:{hideDisabledOptions:!0},defaultValue:[y(t),y(n)],value:[y(t),y(n)],format:"YYYY-MM-DD HH:mm",onCalendarChange:function(e,c,i){if(a(c[0]),c[0]!==t){var s=y(c[1]).add(1,"M").add(24,"H").add(60,"minute");r(s.format("YYYY-MM-DD HH:mm"))}else c[1]!==n&&r(c[1])},disabledDate:function(e){return e&&(e<y.utc([2015,0,14])||e>y.utc([2023,12,31]))},allowClear:!1})})},B=n(1379),k=n(1367),I=n(1349),E=n(1363),L=n(1369),M=n(129),W=n(20),q=n(62),F=n(1191),V=n.n(F),A=n(1366),R=n(1377),Y=n(1378),P=n(536),z=Object(b.a)(A.a)((function(){return{"& .MuiAccordionSummary-content":{display:"none"},"& .Mui-expanded":{display:"none",height:0,minHeight:0}}})),N=Object(b.a)(m.a)((function(){return{display:"flex",marginTop:"10px",alignItems:"center","&:hover":{cursor:"pointer"}}})),G=function(e){var t=e.selectedValue,n=e.currType,r=Object(a.useRef)(null);return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(N,{onClick:function(){r.current.click()},children:[Object(w.jsx)(u.a,{children:Object(w.jsx)(V.a,{})}),"Spec"===t&&Object(w.jsxs)(P.c,{sx:{ml:"-2px",fontWeight:"400"},children:["How is the ",n," graph generated?"]}),"Broad"===t&&Object(w.jsx)(P.c,{sx:{ml:"-2px",fontWeight:"400"},children:"How is the Broadband Spectrogram graph generated?"}),"CTD"===t&&Object(w.jsx)(P.c,{sx:{ml:"-2px",fontWeight:"400"},children:"How is CTD generated?"}),"Mete"===t&&Object(w.jsx)(P.c,{sx:{ml:"-2px",fontWeight:"400"},children:"How are wind Graph and rain graph generated?"})]}),Object(w.jsxs)(z,{sx:{color:"success.main","& .MuiSlider-thumb":{borderRadius:"1px"},mb:3},children:[Object(w.jsx)(R.a,{"aria-controls":"panel1a-content",ref:r,id:"panel1a-header",sx:{height:0,minHeight:0,maxHeight:0,"& .MuiSlider-thumb":{borderRadius:"1px"}}}),Object(w.jsxs)(Y.a,{sx:{mt:-2},children:["Spec"===t&&"Spectrogram"===n&&Object(w.jsx)(P.c,{sx:{color:"#696665"},children:"Low frequency spectrograms are calculated using a 1 hour Welch-median PSD estimate using a Hann window, 1024 FFT points, and 50% overlap."}),"Spec"===t&&"ST Spectrogram"===n&&Object(w.jsx)(P.c,{sx:{color:"#696665"},children:"Short term spectrogram is generated by pulling the raw acoustic data directly from OOI. This means that it shouldn't be used for visualizing longer time spans. For longer time span visualizations, use the long-term spectrogram option."}),"Broad"===t&&"Broadband"===n&&Object(w.jsx)(P.c,{sx:{color:"#696665"},children:"Spectrograms for broadband hydrophone data are well suited for shorter time durations. For some locations, there might be multiple depth options that need selection. Choose the appropriate parameters, ensure the date range is ideally within one hour for quickest results. More information to be added."}),"Spec"===t&&"SPDF"===n&&Object(w.jsx)(P.c,{sx:{color:"#696665"},children:"SPDFs are calculated from the long-term spectrograms by computing histograms for each frequency bin. Plotting the histogram values as a function of frequency and spectral level gives the desired SPDFs."}),"Spec"===t&&"Octave Band"===n&&Object(w.jsx)(P.c,{sx:{color:"#696665"},children:"The boxes of the plot are generated by using the minimum, first quartile value(lower line), median, third quartile value(upper line), maximum. Outliers(values that are above the upper line and below the lower line are hidden)"}),"Mete"===t&&Object(w.jsxs)(P.c,{sx:{color:"#696665"},children:["Wind Graph (at zero degree, wind direction is eastward): ",Object(w.jsx)("br",{}),'1. If "Wind Magnitude" is selected, the wind speed is calculated throught the following formula:',Object(w.jsx)("br",{}),"wind magnitude = np.sqrt((eastward_wind_velocity)**2 + (northward_wind_velocity)**2)",Object(w.jsx)("br",{}),'2. If "Wind Angle" is selected, the wind speed is calculated throught the following formula:',Object(w.jsx)("br",{}),"wind angle = np.arctan2(northward_wind_velocity, eastward_wind_velocity)",Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),"Rain Graph: ",Object(w.jsx)("br",{}),"for the precipitation rate, two major operations are performed:",Object(w.jsx)("br",{}),"1. Time frames where sampling period changes are removed",Object(w.jsx)("br",{}),"2. Siphoning events are removed",Object(w.jsx)("br",{})]}),Object(w.jsx)("br",{}),Object(w.jsx)(P.c,{sx:{color:"#696665"}})]})]})]})},H=n(695),_=n.n(H),U=n(22),J=n.n(U),Z=n(950),$=n.n(Z),K=Object(b.a)(v.a)((function(e){var t=e.theme;return Object(o.a)({width:"150px",marginRight:"10px",backgroundColor:"#008255",marginBottom:"10px"},t.breakpoints.down("sm"),{fontSize:"12px"})})),Q=function(e){var t=e.error,n=e.startDate,r=e.endDate,c=e.location,i=e.frequency,s=e.currType,o=e.setLoading,l=(e.currentLocation,e.selectedValue),d=e.loading,u=e.meteGrahphType,j=function(e){return"0"===e.charAt(0)&&(e=e.slice(1)),e},b=function(e){var t=e.split("-");return{year:t[0],month:j(t[1]),date:j(t[2])}};return Object(w.jsx)(a.Fragment,{children:Object(w.jsxs)(K,{disabled:!("error"!==t&&!d),variant:"contained",component:"span",onClick:function(){o(!0),"WindSpeed"!==u&&"RainRate"!==u||"oregon_shelf"!==c&&"oregon_offshore"!==c||(n=b(n),r=b(r)),console.log("meteGrahphType",u),J.a.post("/api/downloads",{startDate:n,endDate:r,location:c,currType:s,frequency:i,selectedValue:l,meteGrahphType:u},{responseType:"blob"}).then((function(e){console.log("res data",e.data);var t=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=t,a.setAttribute("download",s+"_"+c+"-_"+n+"-_"+r+".csv"),document.body.appendChild(a),a.click(),o(!1)}))},sx:{backgroundColor:"#008255"},children:[Object(w.jsx)($.a,{sx:{mr:1}}),"CSV"]})})},X=n(1193),ee=n.n(X),te=Object(b.a)(v.a)((function(e){var t=e.theme;return Object(o.a)({width:"150px",marginRight:"10px",marginBottom:"10px",backgroundColor:"#008255"},t.breakpoints.down("sm"),{fontSize:"12px"})})),ne=function(e){var t=e.currType,n=e.image,a=e.loading,r=e.setLoading,c=e.startDate,i=e.endDate,s=e.location,o=e.frequency,l=e.selectedValue,d=e.name,u=e.ctdType,j=e.ctdRightDate,b=e.meteGrahphType,m=Object(p.c)(s,c,i,l),h=function(e){return"0"===e.charAt(0)&&(e=e.slice(1)),e},x=function(e){var t=e.split("-");return{year:t[0],month:h(t[1]),date:h(t[2])}};return Object(w.jsxs)(te,{variant:"contained",disabled:!0===a,onClick:function(){if("SPDF"===t){var e="data:image/jpeg;base64,".concat(n),a=document.createElement("a");a.href=e,a.download="".concat(m,".png"),a.click()}else"CTD"===l&&(t="CTD"),r(!0),"oregon_shelf"!==s&&"oregon_offshore"!==s||(c=x(c),i=x(i)),J()({method:"post",url:"/api/downloadPng",responseType:"blob",data:{startDate:c,endDate:i,location:s,currType:t,frequency:o,ctdType:u,ctdRightDate:j,meteGrahphType:b}}).then((function(e){r(!1),ee()(e.data,"".concat(m,".png"))}))},children:[Object(w.jsx)($.a,{sx:{mr:1}}),d]})},ae=Object(b.a)(m.a)((function(){return{display:"flex",alignItems:"center",flexWrap:"wrap",marginTop:"-10px","&:hover":{cursor:"pointer"}}})),re=Object(b.a)(v.a)((function(e){var t=e.theme;return Object(o.a)({width:"150px",marginRight:"10px",marginBottom:"10px",backgroundColor:"#008255"},t.breakpoints.down("sm"),{fontSize:"12px"})})),ce=Object(b.a)(m.a)((function(e){var t=e.theme;return Object(o.a)({display:"flex",alignItems:"center",justifyContent:"center"},t.breakpoints.down("xl"),{justifyContent:"flex-start"})})),ie=Object(b.a)("img")((function(e){var t=e.theme;return Object(o.a)({borderRadius:"4px"},t.breakpoints.down("sm"),{width:"110%"})})),se=["Axial Base","Central Caldera","Eastern Caldera","Slope Base","Southern Hydrate"],oe=function(e){var t=e.currentLocation,n=e.selectedValue,r=Object(a.useState)("2020-01-01T00:00"),i=Object(c.a)(r,2),o=i[0],l=i[1],u=Object(a.useState)("2020-02-01T01:00:00"),j=Object(c.a)(u,2),b=j[0],h=j[1],x=Object(a.useState)("Spectrogram"),g=Object(c.a)(x,2),f=g[0],v=g[1],S=Object(a.useState)(50),y=Object(c.a)(S,2),D=y[0],T=y[1],F=Object(a.useState)(3600),V=Object(c.a)(F,2),A=V[0],R=V[1],Y=Object(a.useState)(1024),P=Object(c.a)(Y,2),z=P[0],N=P[1],H=Object(a.useState)(50),U=Object(c.a)(H,2),J=U[0],Z=U[1],$=Object(a.useState)(!1),K=Object(c.a)($,2),X=K[0],ee=K[1],te=Object(a.useState)(""),oe=Object(c.a)(te,2),le=oe[0],de=oe[1],ue=Object(a.useState)("Spectrogram"),je=Object(c.a)(ue,2),be=je[0],me=je[1],he=Object(a.useState)("Seafloor"),pe=Object(c.a)(he,2),xe=pe[0],Oe=(pe[1],Object(q.b)()),ge=Object(q.c)((function(e){return e.graph})).initSpecGraph,fe=Object(p.b)(t),ve=function(){var e=Object(s.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe(Object(W.j)(o,b,fe));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Se=function(){return D<1||D>80},ye=function(){return A<1||A>3600},we=function(){return 200*A<=z},De=function(){return z<1||z>1024},Te=function(){return J<1||J>100};return Object(a.useEffect)((function(){se.includes(t)&&ve()}),[t]),Object(a.useEffect)((function(){if("Spectrogram"===be||"Octave Band"===be||"ST Spectrogram"===be){if(0!==Object.keys(ge).length){ee(!1);var e=document.getElementById("outer"),t=document.createElement("div");return t.setAttribute("id","graphBox"),e.appendChild(t),window.Bokeh.embed.embed_item(ge,"graphBox"),function(){document.getElementById("graphBox")&&document.getElementById("graphBox").remove()}}}else if("SPDF"===be){ee(!1);var n=ge.image.split("'")[1];de(n)}}),[ge]),Object(w.jsxs)(w.Fragment,{children:[se.includes(t)&&Object(w.jsx)(O.a,{item:!0,lg:4,md:10,sm:12,xs:12,display:"flex",alignItems:"center",pt:0,sx:{height:"70px"},children:Object(w.jsx)(C,{startDate:o,endDate:b,setStartDate:l,setEndDate:h})}),se.includes(t)&&Object(w.jsx)(O.a,{item:!0,lg:3,md:3,sm:6,xs:12,children:Object(w.jsxs)(B.a,{fullWidth:!0,sx:{mb:1,width:"100%"},children:[Object(w.jsx)(k.a,{id:"demo-simple-select-label",children:"Type"}),Object(w.jsxs)(I.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:f,label:"Type",defaultValue:"Spectrogram",onChange:function(e){v(e.target.value)},children:[Object(w.jsx)(E.a,{value:"Spectrogram",children:"Spectrogram"}),Object(w.jsx)(E.a,{value:"ST Spectrogram",children:"Short Term Spectrogram"}),Object(w.jsx)(E.a,{value:"SPDF",children:"SPDF"}),Object(w.jsx)(E.a,{value:"Octave Band",children:"Octave Band"})]})]})}),se.includes(t)&&Object(w.jsx)(O.a,{item:!0,lg:3,md:3,sm:6,xs:12,children:Object(w.jsx)(L.a,{error:Se(),helperText:Se()&&"Frequency not in valid range",disabled:"Octave Band"!==f,required:!0,value:D,id:"outlined-required",label:"Required frequency 1-90",onChange:function(e){T(e.target.value)}})}),se.includes(t)&&Object(w.jsx)(O.a,{item:!0,lg:3,md:3,sm:6,xs:12,children:Object(w.jsx)(L.a,{error:ye()||we(),helperText:ye()?"Averaging Time not in valid range":we()&&"Avg Time x 200 > nperseg not met",disabled:"ST Spectrogram"!==f,required:!0,value:A,id:"outlined-required",label:"Averaging Time (in secs) : 1-3600",onChange:function(e){R(e.target.value)}})}),se.includes(t)&&Object(w.jsx)(O.a,{item:!0,lg:3,md:3,sm:6,xs:12,children:Object(w.jsx)(L.a,{error:De(),helperText:De()&&"Nperseg not in valid range",disabled:"ST Spectrogram"!==f,required:!0,value:z,id:"outlined-required",label:"Nperseg : 1-1024",onChange:function(e){N(e.target.value)}})}),se.includes(t)&&Object(w.jsx)(O.a,{item:!0,lg:3,md:3,sm:6,xs:12,children:Object(w.jsx)(L.a,{error:Te(),helperText:Te()&&"Overlap not in valid range",disabled:"ST Spectrogram"!==f,required:!0,value:J,id:"outlined-required",label:"Overlap : 1-100",onChange:function(e){Z(e.target.value)}})}),se.includes(t)&&Object(w.jsx)(O.a,{container:!0,p:1,pt:3,pb:0,children:Object(w.jsxs)(O.a,{item:!0,lg:12,md:12,sm:12,xs:12,children:[Object(w.jsxs)(ae,{children:[Object(w.jsxs)(re,{disabled:Se(),variant:"contained",component:"span",onClick:"ST Spectrogram"===f?function(){ee(!0),me(f),Oe(Object(W.k)(o,b,f,fe,xe,J,z,A))}:function(){ee(!0),me(f),Oe(Object(W.l)(o,b,f,fe,D))},children:[Object(w.jsx)(_.a,{sx:{mr:1}}),"Update"]}),Object(w.jsx)(Q,{loading:X,startDate:o,endDate:b.substring(0,10),frequency:D,currType:be,setLoading:ee,location:fe,selectedValue:n,currentLocation:t}),Object(w.jsx)(ne,{loading:X,currType:be,image:le,setLoading:ee,startDate:o,endDate:b,location:fe,frequency:D,selectedValue:"Spec",name:"PNG",ctdType:"left"})]}),Object(w.jsx)(G,{selectedValue:"Spec",currType:be})]})}),Object(w.jsxs)(O.a,{container:!0,children:[X&&Object(w.jsx)(O.a,{item:!0,lg:12,md:12,sm:12,xs:12,alignItems:"center",justifyContent:"center",textAlign:"center",mb:"20px",children:Object(w.jsx)(M.a,{size:24,className:"buttonProgress"})}),"SPDF"===be&&""!==le&&Object(w.jsx)(O.a,{item:!0,lg:12,md:12,sm:12,xs:12,children:Object(w.jsx)(ce,{children:Object(w.jsx)(ie,{src:"data:image/jpg;base64,".concat(le)})})})]}),Object(w.jsx)(O.a,{container:!0,children:Object(w.jsx)(O.a,{item:!0,lg:12,md:12,sm:12,xs:12,children:Object(w.jsx)(ce,{style:{overflow:"auto"},children:Object(w.jsx)(m.a,{id:"outer"})})})})]})},le=r.a.memo(oe),de=Object(b.a)(m.a)((function(e){e.theme;return{display:"flex",height:"100%",marginBottom:"-10px",flexDirection:"column",position:"relative"}})),ue=S.a.RangePicker,je=function(e){var t=e.startDate,n=e.endDate,a=e.setStartDate,r=e.setEndDate;return Object(w.jsx)(de,{style:{width:"100%"},children:Object(w.jsx)(ue,{size:"large",showTime:{hideDisabledOptions:!0},defaultValue:[y(t),y(n)],value:[y(t),y(n)],format:"YYYY-MM-DD",onCalendarChange:function(e,c,i){if(a(c[0]),c[0]!==t){var s=y(c[1]).add(1,"M");r(s.format("YYYY-MM-DD"))}else c[1]!==n&&r(c[1])},disabledDate:function(e){return e&&(e<y.utc([2015,0,1])||e>y.utc([2022,0,2]))},allowClear:!1})})},be=n(42),me=Object(b.a)(m.a)((function(e){e.theme;return{display:"flex",height:"100%",marginBottom:"-10px",flexDirection:"column",position:"relative","& .ant-picker-input input":{fontSize:"17px !important"}}})),he="YYYY-MM-DD",pe=function(e){var t=e.setRightPanelDate;return Object(w.jsx)(me,{style:{width:"100%"},children:Object(w.jsx)(S.a,{disabledDate:function(e){return e&&(e<y.utc([2015,0,1])||e>y.utc([2022,0,2]))},defaultValue:y("2015/01/01",he),format:he,style:{height:"45px"},onChange:function(e){e&&t(e)}})})},xe=Object(b.a)(m.a)((function(){return{display:"flex",alignItems:"center",flexWrap:"wrap",marginTop:"-10px","&:hover":{cursor:"pointer"}}})),Oe=Object(b.a)(v.a)((function(e){var t=e.theme;return Object(o.a)({width:"150px",marginRight:"10px",marginBottom:"10px",backgroundColor:"#008255"},t.breakpoints.down("sm"),{fontSize:"12px"})})),ge=Object(b.a)(m.a)((function(e){e.theme;return{display:"flex",alignItems:"center",justifyContent:"center"}})),fe=["Oregon Offshore","Oregon Slope","Oregon Shelf","Axial Base"],ve=function(e){var t=e.currentLocation,n=e.selectedValue,r=Object(a.useState)("2020-01-01"),i=Object(c.a)(r,2),o=i[0],l=i[1],u=Object(a.useState)("2020-02-02"),j=Object(c.a)(u,2),b=j[0],h=j[1],x=Object(a.useState)(!1),g=Object(c.a)(x,2),f=g[0],v=g[1],S=Object(a.useState)("CTD"),y=Object(c.a)(S,2),D=y[0],T=(y[1],Object(p.b)(t)),C=Object(a.useState)("Longterm"),L=Object(c.a)(C,2),F=L[0],V=L[1],A=Object(q.c)((function(e){return e.graph})).initCtpGraph,R=Object(q.c)((function(e){return e.graph})).initCtpGraphLine,Y=Object(a.useState)("2015-01-01"),P=Object(c.a)(Y,2),z=P[0],N=P[1],H=Object(q.b)(),U=function(){var e=Object(s.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H(Object(W.h)(T,o,b));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(s.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H(Object(W.i)(T,"2015-01-01"));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){fe.includes(t)&&(v(!0),U(),J())}),[t]),Object(a.useEffect)((function(){if(0!==Object.keys(A).length){var e=document.getElementById("outer2"),t=document.createElement("div");return t.setAttribute("id","graphBox2"),e.appendChild(t),window.Bokeh.embed.embed_item(A,"graphBox2"),v(!1),function(){document.getElementById("graphBox2")&&document.getElementById("graphBox2").remove()}}}),[A]),Object(a.useEffect)((function(){if(0!==Object.keys(R).length){var e=document.getElementById("outer3"),t=document.createElement("div");return t.setAttribute("id","graphBox3"),e.appendChild(t),window.Bokeh.embed.embed_item(R,"graphBox3"),v(!1),function(){document.getElementById("graphBox3")&&document.getElementById("graphBox3").remove()}}}),[R]),Object(w.jsxs)(w.Fragment,{children:[fe.includes(t)&&Object(w.jsx)(O.a,{item:!0,lg:3,md:3,sm:6,xs:12,children:Object(w.jsxs)(B.a,{fullWidth:!0,sx:{mb:1,width:"100%"},children:[Object(w.jsx)(k.a,{id:"demo-simple-select-label",children:"Type"}),Object(w.jsxs)(I.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:F,label:"Type",defaultValue:"Longterm",onChange:function(e){V(e.target.value)},children:[Object(w.jsx)(E.a,{value:"Longterm",children:"Long term"}),Object(w.jsx)(E.a,{value:"Shortterm",children:"Short term"})]})]})}),fe.includes(t)&&"Longterm"===F&&Object(w.jsx)(O.a,{item:!0,lg:4,md:10,sm:12,xs:12,display:"flex",alignItems:"center",pt:0,sx:{height:"70px"},children:Object(w.jsx)(je,{startDate:o,endDate:b,setStartDate:l,setEndDate:h})}),"Shortterm"===F&&Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(O.a,{item:!0,lg:4,md:10,sm:12,xs:12,display:"flex",alignItems:"center",pt:0,sx:{height:"70px"},children:Object(w.jsx)(pe,{setRightPanelDate:N})})}),fe.includes(t)&&Object(w.jsx)(O.a,{container:!0,p:1,pt:3,pb:0,children:Object(w.jsxs)(O.a,{item:!0,lg:12,md:12,sm:12,xs:12,children:[Object(w.jsxs)(xe,{children:[Object(w.jsxs)(Oe,{variant:"contained",component:"span",onClick:function(){if(v(!0),"CTD"===n&&"Longterm"===F){var e=b.substring(0,10);H(Object(W.h)(T,o,e))}else"CTD"===n&&"Shortterm"===F&&H(Object(W.i)(T,z))},children:[Object(w.jsx)(_.a,{sx:{mr:1}}),"Update"]}),Object(w.jsx)(Q,{loading:f,startDate:o,endDate:b.substring(0,10),currType:D,setLoading:v,location:T,selectedValue:n,currentLocation:t}),Object(w.jsx)(ne,{loading:f,currType:D,setLoading:v,startDate:o,endDate:b,location:T,selectedValue:"CTD",name:"PNG",ctdType:"left"})]}),Object(w.jsx)(G,{selectedValue:"CTD",currType:D})]})}),Object(w.jsx)(O.a,{container:!0,children:f&&Object(w.jsx)(O.a,{item:!0,lg:12,md:12,sm:12,xs:12,alignItems:"center",justifyContent:"center",textAlign:"center",mb:"20px",children:Object(w.jsx)(M.a,{size:24,className:"buttonProgress"})})}),Object(w.jsx)(O.a,{container:!0,children:Object(w.jsx)(O.a,{item:!0,lg:12,md:12,sm:12,xs:12,children:Object(w.jsxs)(ge,{children:[Object(w.jsx)(m.a,{id:"outer2",className:Object(be.a)("CTD"===n&&"Longterm"===F?"showGraph":"hideGraph")}),Object(w.jsx)(m.a,{id:"outer3",className:Object(be.a)("CTD"===n&&"Shortterm"===F?"showGraph":"hideGraph")})]})})})]})},Se=r.a.memo(ve),ye=Object(b.a)(m.a)((function(e){e.theme;return{display:"flex",height:"100%",marginBottom:"-10px",flexDirection:"column",position:"relative"}})),we=S.a.RangePicker,De=function(e){var t=e.startDate,n=e.endDate,a=e.setStartDate,r=e.setEndDate;return Object(w.jsx)(ye,{style:{width:"100%"},children:Object(w.jsx)(we,{size:"large",showTime:{hideDisabledOptions:!0},defaultValue:[y(t),y(n)],value:[y(t),y(n)],format:"YYYY-MM-DD",onCalendarChange:function(e,c,i){if(a(c[0]),c[0]!==t){var s=y(c[1]).add(1,"M");r(s.format("YYYY-MM-DD"))}else c[1]!==n&&r(c[1])},disabledDate:function(e){var t=y("2015-05-01T00:00:00.000Z"),n=y("2022-10-25T12:00:00.000Z");return e&&(e.isBefore(t)||e.isAfter(n))},allowClear:!1})})},Te=Object(b.a)(m.a)((function(){return{display:"flex",alignItems:"center",flexWrap:"wrap",marginTop:"-10px","&:hover":{cursor:"pointer"}}})),Ce=Object(b.a)(v.a)((function(e){var t=e.theme;return Object(o.a)({width:"150px",marginRight:"10px",marginBottom:"10px",backgroundColor:"#008255"},t.breakpoints.down("sm"),{fontSize:"12px"})})),Be=Object(b.a)(m.a)((function(e){var t=e.theme;return Object(o.a)({display:"flex",alignItems:"center",justifyContent:"center"},t.breakpoints.down("xl"),{justifyContent:"flex-start"})})),ke=function(e){var t=e.currentLocation,n=e.selectedValue,r=Object(a.useState)("2020-01-01"),i=Object(c.a)(r,2),o=i[0],l=i[1],u=Object(a.useState)("2020-02-02"),j=Object(c.a)(u,2),b=j[0],h=j[1],x=Object(a.useState)(50),g=Object(c.a)(x,2),f=g[0],v=(g[1],Object(a.useState)(!1)),S=Object(c.a)(v,2),y=S[0],D=S[1],T=Object(a.useState)(""),C=Object(c.a)(T,2),L=C[0],F=(C[1],Object(a.useState)("WindSpeed")),V=Object(c.a)(F,2),A=V[0],R=V[1],Y=Object(a.useState)("WindMagnitude"),P=Object(c.a)(Y,2),z=P[0],N=P[1],H=Object(q.b)(),U=Object(q.c)((function(e){return e.graph})).initWindRainGraph,J=Object(p.b)(t),Z=function(e){return"0"===e.charAt(0)&&(e=e.slice(1)),e},$=function(e){var t=e.split("-");return{year:t[0],month:Z(t[1]),date:Z(t[2])}},K=function(){var e=Object(s.a)(d.a.mark((function e(){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=$(o),a=$(b),e.next=4,H(Object(W.m)(A,n,a,t,z));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){R("WindSpeed"),D(!0),K()}),[t]),Object(a.useEffect)((function(){var e=document.getElementById("outer4"),t=document.createElement("div");return t.setAttribute("id","graphBox4"),e.appendChild(t),window.Bokeh.embed.embed_item(U,"graphBox4"),D(!1),function(){document.getElementById("graphBox4")&&document.getElementById("graphBox4").remove()}}),[U]),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(O.a,{item:!0,lg:4,md:10,sm:12,xs:12,display:"flex",alignItems:"center",pt:0,sx:{height:"70px"},children:Object(w.jsx)(De,{startDate:o,endDate:b,setStartDate:l,setEndDate:h})}),Object(w.jsx)(O.a,{item:!0,lg:3,md:3,sm:6,xs:12,children:Object(w.jsxs)(B.a,{fullWidth:!0,sx:{mb:1,width:"100%"},children:[Object(w.jsx)(k.a,{id:"demo-simple-select-label",children:"Type"}),Object(w.jsxs)(I.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:A,label:"Type",defaultValue:"WindSpeed",onChange:function(e){R(e.target.value)},children:[Object(w.jsx)(E.a,{value:"WindSpeed",children:"Wind Speed"}),Object(w.jsx)(E.a,{value:"RainRate",children:"Precipitation Rate"})]})]})}),"WindSpeed"===A&&Object(w.jsx)(O.a,{item:!0,lg:3,md:3,sm:6,xs:12,children:Object(w.jsxs)(B.a,{fullWidth:!0,sx:{mb:1,width:"100%"},children:[Object(w.jsx)(k.a,{id:"demo-simple-select-label",children:"Wind Speed Type"}),Object(w.jsxs)(I.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:z,label:"Type",defaultValue:"WindMagnitude",onChange:function(e){N(e.target.value)},children:[Object(w.jsx)(E.a,{value:"WindMagnitude",children:"Wind Magnitude"}),Object(w.jsx)(E.a,{value:"WindAngle",children:"Wind Angle"})]})]})}),Object(w.jsx)(O.a,{container:!0,p:1,pt:3,pb:0,children:Object(w.jsxs)(O.a,{item:!0,lg:12,md:12,sm:12,xs:12,children:[Object(w.jsxs)(Te,{children:[Object(w.jsxs)(Ce,{variant:"contained",component:"span",onClick:function(){D(!0),K()},children:[Object(w.jsx)(_.a,{sx:{mr:1}}),"Update"]}),Object(w.jsx)(Q,{loading:y,startDate:o,endDate:b.substring(0,10),frequency:f,setLoading:D,location:J,selectedValue:n,currentLocation:t,currType:A,meteGrahphType:A}),Object(w.jsx)(ne,{loading:y,image:L,setLoading:D,startDate:o,endDate:b,location:J,frequency:f,selectedValue:"Spec",name:"PNG",ctdType:"left",meteGrahphType:A})]}),Object(w.jsx)(G,{selectedValue:"Mete",currType:A})]})}),Object(w.jsx)(O.a,{container:!0,children:y&&Object(w.jsx)(O.a,{item:!0,lg:12,md:12,sm:12,xs:12,alignItems:"center",justifyContent:"center",textAlign:"center",mb:"20px",children:Object(w.jsx)(M.a,{size:24,className:"buttonProgress"})})}),Object(w.jsx)(O.a,{container:!0,children:Object(w.jsx)(O.a,{item:!0,lg:12,md:12,sm:12,xs:12,children:Object(w.jsx)(Be,{children:Object(w.jsx)(m.a,{id:"outer4"})})})})]})},Ie=r.a.memo(ke),Ee=Object(b.a)(m.a)((function(){return{display:"flex",alignItems:"center",flexWrap:"wrap",marginTop:"-10px","&:hover":{cursor:"pointer"}}})),Le=Object(b.a)(v.a)((function(e){var t=e.theme;return Object(o.a)({width:"150px",marginRight:"10px",marginBottom:"10px",backgroundColor:"#008255"},t.breakpoints.down("sm"),{fontSize:"12px"})})),Me=Object(b.a)(m.a)((function(e){var t=e.theme;return Object(o.a)({display:"flex",alignItems:"center",justifyContent:"center"},t.breakpoints.down("xl"),{justifyContent:"flex-start"})})),We=(Object(b.a)("img")((function(e){var t=e.theme;return Object(o.a)({borderRadius:"4px"},t.breakpoints.down("sm"),{width:"110%"})})),["Oregon Shelf","Oregon Slope","Slope Base","Axial Base","Oregon Offshore"]),qe=["Oregon Slope","Slope Base","Axial Base"],Fe=function(e){var t=e.currentLocation,n=(e.selectedValue,Object(a.useState)("2021-09-01T00:00")),r=Object(c.a)(n,2),i=r[0],o=r[1],l=Object(a.useState)("2021-09-01T00:05"),u=Object(c.a)(l,2),j=u[0],b=u[1],h=Object(a.useState)("Broadband"),x=Object(c.a)(h,2),g=x[0],f=(x[1],Object(a.useState)(1)),v=Object(c.a)(f,2),S=v[0],y=v[1],D=Object(a.useState)(4096),T=Object(c.a)(D,2),F=T[0],V=T[1],A=Object(a.useState)(50),R=Object(c.a)(A,2),Y=R[0],P=R[1],z=Object(a.useState)(!1),N=Object(c.a)(z,2),H=N[0],U=N[1],J=Object(a.useState)(""),Z=Object(c.a)(J,2),$=(Z[0],Z[1],Object(a.useState)("Broadband")),K=Object(c.a)($,2),Q=K[0],X=K[1],ee=Object(a.useState)("Seafloor"),te=Object(c.a)(ee,2),ne=te[0],ae=te[1],re=Object(q.b)(),ce=Object(q.c)((function(e){return e.graph})).initSpecGraph,ie=Object(p.b)(t),se=function(){var e=Object(s.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(Object(W.j)(i,j,ie));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(){return S<1||S>3600},le=function(){return Y<1||Y>100};return Object(a.useEffect)((function(){We.includes(t)&&se()}),[t]),Object(a.useEffect)((function(){if("Broadband"===Q&&0!==Object.keys(ce).length){U(!1);var e=document.getElementById("outer"),t=document.createElement("div");return t.setAttribute("id","graphBox"),e.appendChild(t),window.Bokeh.embed.embed_item(ce,"graphBox"),function(){document.getElementById("graphBox")&&document.getElementById("graphBox").remove()}}}),[ce]),Object(w.jsxs)(w.Fragment,{children:[We.includes(t)&&Object(w.jsx)(O.a,{item:!0,lg:4,md:10,sm:12,xs:12,display:"flex",alignItems:"center",pt:0,sx:{height:"70px"},children:Object(w.jsx)(C,{startDate:i,endDate:j,setStartDate:o,setEndDate:b})}),qe.includes(t)&&Object(w.jsx)(O.a,{item:!0,lg:3,md:3,sm:6,xs:12,children:Object(w.jsxs)(B.a,{fullWidth:!0,sx:{mb:1,width:"100%"},children:[Object(w.jsx)(k.a,{id:"demo-simple-select-label",children:"Hydrophone Depth"}),Object(w.jsxs)(I.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:ne,label:"Type",defaultValue:"Seafloor",onChange:function(e){ae(e.target.value)},children:[Object(w.jsx)(E.a,{value:"Seafloor",children:"Seafloor"}),Object(w.jsx)(E.a,{value:"Shallow",children:"Shallow"})]})]})}),We.includes(t)&&Object(w.jsx)(O.a,{item:!0,lg:3,md:3,sm:6,xs:12,children:Object(w.jsx)(L.a,{error:oe(),helperText:oe()&&"Averaging Time not in valid range",disabled:"Broadband"!==g,required:!0,value:S,id:"outlined-required",label:"Averaging Time (in secs) : 1-3600",onChange:function(e){y(e.target.value)}})}),We.includes(t)&&Object(w.jsx)(O.a,{item:!0,lg:3,md:3,sm:6,xs:12,children:Object(w.jsx)(L.a,{disabled:"Broadband"!==g,required:!0,value:F,id:"outlined-required",label:"N per segment for FFT",onChange:function(e){V(e.target.value)}})}),We.includes(t)&&Object(w.jsx)(O.a,{item:!0,lg:3,md:3,sm:6,xs:12,children:Object(w.jsx)(L.a,{error:le(),helperText:le()&&"Overlap not in valid range",disabled:"Broadband"!==g,required:!0,value:Y,id:"outlined-required",label:"Overlap : 1-100",onChange:function(e){P(e.target.value)}})}),We.includes(t)&&Object(w.jsx)(O.a,{container:!0,p:1,pt:3,pb:0,children:Object(w.jsxs)(O.a,{item:!0,lg:12,md:12,sm:12,xs:12,children:[Object(w.jsx)(Ee,{children:Object(w.jsxs)(Le,{disabled:oe(),variant:"contained",component:"span",onClick:function(){U(!0),X(g),re(Object(W.k)(i,j,g,ie,ne,Y,F,S))},children:[Object(w.jsx)(_.a,{sx:{mr:1}}),"Update"]})}),Object(w.jsx)(G,{selectedValue:"Broad",currType:Q})]})}),Object(w.jsx)(O.a,{container:!0,children:H&&Object(w.jsx)(O.a,{item:!0,lg:12,md:12,sm:12,xs:12,alignItems:"center",justifyContent:"center",textAlign:"center",mb:"20px",children:Object(w.jsx)(M.a,{size:24,className:"buttonProgress"})})}),Object(w.jsx)(O.a,{container:!0,children:Object(w.jsx)(O.a,{item:!0,lg:12,md:12,sm:12,xs:12,children:Object(w.jsx)(Me,{style:{overflow:"auto"},children:Object(w.jsx)(m.a,{id:"outer"})})})})]})},Ve=r.a.memo(Fe),Ae=Object(b.a)(m.a)((function(e){var t=e.theme;return{position:"fixed",display:"flex",zIndex:200,backgroundColor:"#FFFFFF",alignItems:"center",width:"inherit",padding:".8rem 1.25rem",justifyContent:"space-between",borderBottom:"1px solid ".concat("rgba(".concat(Object(p.a)(t.palette.text.disabled),", 0.2)"))}})),Re=Object(b.a)(x.a)((function(e){var t,n=e.theme;return t={},Object(o.a)(t,n.breakpoints.down("lg"),{width:"90%",height:"80%"}),Object(o.a)(t,n.breakpoints.down("md"),{width:"95%",height:"80%"}),Object(o.a)(t,n.breakpoints.down("sm"),{width:"90vw",height:"85vh"}),Object(o.a)(t,"& .showGraph",{display:"block"}),Object(o.a)(t,"& .hideGraph",{display:"none"}),t})),Ye=Object(b.a)("div")((function(){return{fontSize:"16px",fontWeight:"500",lineHeight:"1.5"}})),Pe=["Oregon Offshore","Oregon Slope","Oregon Shelf","Axial Base"],ze=["Axial Base","Central Caldera","Eastern Caldera","Slope Base","Southern Hydrate"],Ne=["Oregon Shelf","Oregon Slope","Slope Base","Axial Base","Oregon Offshore"],Ge=["Oregon Offshore","Oregon Shelf"],He=function(e){var t=e.currentLocation,n=e.open,a=e.handleClose,o=Object(h.a)().palette.text.primary,l=r.a.useState("Spec"),b=Object(c.a)(l,2),p=b[0],x=b[1],v=function(){var e=Object(s.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(t.target.value);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(e){return{checked:p===e,onChange:v,value:e,name:"color-radio-button-demo",inputProps:{"aria-label":e}}};return console.log("dd",t),Object(w.jsx)(g.a,{open:n,sx:{zIndex:101},children:Object(w.jsxs)(Re,{sx:{width:"85%",height:"80%",overflow:"scroll"},children:[Object(w.jsxs)(Ae,{children:[Object(w.jsxs)(Ye,{children:[t," Hydrophone Visualization"]}),Object(w.jsx)(u.a,{onClick:a,children:Object(w.jsx)(j.a,{sx:{color:o},children:"close"})})]}),Object(w.jsxs)(O.a,{container:!0,spacing:1,p:4,pb:0,mt:7,mb:2,sx:{"& .MuiTextField-root":{width:"100%"}},children:[Object(w.jsxs)(O.a,{item:!0,lg:12,md:12,sm:12,xs:12,children:[Object(w.jsx)(f.a,Object(i.a)({},S("Spec")))," Low Frequency Hydrophone Data",Object(w.jsx)(f.a,Object(i.a)({},S("CTD")))," CTD Data",Object(w.jsx)(f.a,Object(i.a)({},S("Broad")))," Broadband Hydrophone Data",Ge.includes(t)&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(f.a,Object(i.a)({},S("Mete")))," Meteorology Data"]})]}),"Spec"===p&&ze.includes(t)&&Object(w.jsx)(le,{currentLocation:t,selectedValue:"Spec"}),!ze.includes(t)&&"Spec"===p&&Object(w.jsx)(m.a,{p:3,children:"This location doesn't have a low frequency hydrophone"}),"Broad"===p&&Ne.includes(t)&&Object(w.jsx)(Ve,{currentLocation:t,selectedValue:"Broad"}),!Ne.includes(t)&&"Broad"===p&&Object(w.jsx)(m.a,{p:3,children:"This location doesn't have a broadband hydrophone"}),"CTD"===p&&Pe.includes(t)&&Object(w.jsx)(Se,{currentLocation:t,selectedValue:"CTD"}),!Pe.includes(t)&&"CTD"===p&&Object(w.jsx)(m.a,{p:3,children:"This location doesn't have CTD."}),"Mete"===p&&Ge.includes(t)&&Object(w.jsx)(Ie,{currentLocation:t,selectedValue:"Mete"})]})]})})},_e=r.a.memo(He),Ue=Object(b.a)(m.a)((function(){return{padding:0,margin:0,height:"100%",width:"100%"}})),Je=Object(b.a)("div")((function(){return{position:"absolute",width:"700px",left:"5%",right:"5%",bottom:"20px"}}));function Ze(){var e=Object(a.useRef)(),t=Object(q.c)((function(e){return e.graph})).graphList,r=void 0===t?[]:t,i=Object(a.useState)(!1),s=Object(c.a)(i,2),o=s[0],l=s[1],d=Object(a.useState)(""),u=Object(c.a)(d,2),j=u[0],b=u[1],m=Object(q.b)(),h=Object(a.useCallback)((function(e,t){l(e),b(t)}),[]);return Object(a.useEffect)((function(t){var a;return Promise.all([n.e(47),n.e(115)]).then(n.bind(null,1271)).then((function(t){return a=t.initialize(e.current,b,h)})),function(){return a&&a()}}),[]),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(Ue,{className:"viewDiv",ref:e}),Object(w.jsx)(Je,{id:"timeSlider"}),o&&Object(w.jsx)(_e,{currentLocation:j,graphData:r,handleClose:function(){l(!1),m({type:W.c,payload:{}})},open:o})]})}t.default=function(){return Object(w.jsx)(Ze,{})}},512:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return c}));n(1365);var a=function(e){var t;return e.match("rgba")?e.slice(5).split(",").slice(0,-1).join(","):/^#([A-Fa-f0-9]{3}){1,2}$/.test(e)?(3===(t=e.substring(1).split("")).length&&(t=[t[0],t[0],t[1],t[1],t[2],t[2]]),[(t="0x"+t.join(""))>>16&255,t>>8&255,255&t].join(",")):void 0};var r=function(e){return e.replace(" ","_").toLowerCase()},c=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return"CTD"===a?e+"-CTD-"+t+"-"+n:e+"-"+t+"-"+n}},536:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return x})),n.d(t,"d",(function(){return O}));var a=n(5),r=n(7),c=n(514),i=n(42),s=(n(0),n(41)),o=n(1188),l=n(3),d=["children","className","ellipsis","textTransform"],u=["children","className","ellipsis","textTransform"],j=["children","className","ellipsis","textTransform"],b=["children","className","ellipsis","textTransform"],m=Object(s.a)(o.a)((function(e){e.theme;var t=e.textTransformStyle,n=e.ellipsis;return{textTransform:t||"none",whiteSpace:n?"nowrap":"normal",overflow:n?"hidden":"",textOverflow:n?"ellipsis":""}})),h=function(e){var t=e.children,n=e.className,s=e.ellipsis,o=e.textTransform,u=Object(c.a)(e,d);return Object(l.jsx)(m,Object(a.a)(Object(a.a)({textTransformStyle:o,ellipsis:s,className:Object(i.a)(Object(r.a)({},n||"",!0)),component:"h1",mb:0,mt:0,fontSize:"28px",fontWeight:"500",lineHeight:"1.5"},u),{},{children:t}))},p=function(e){var t=e.children,n=e.className,s=e.ellipsis,o=e.textTransform,d=Object(c.a)(e,u);return Object(l.jsx)(m,Object(a.a)(Object(a.a)({textTransformStyle:o,ellipsis:s,className:Object(i.a)(Object(r.a)({},n||"",!0)),component:"h4",mb:0,mt:0,fontSize:"16px",fontWeight:"500",lineHeight:"1.5"},d),{},{children:t}))},x=function(e){var t=e.children,n=e.className,s=e.ellipsis,o=e.textTransform,d=Object(c.a)(e,j);return Object(l.jsx)(m,Object(a.a)(Object(a.a)({textTransformStyle:o,ellipsis:s,className:Object(i.a)(Object(r.a)({},n||"",!0)),component:"p",mb:0,mt:0,fontSize:"14px"},d),{},{children:t}))},O=function(e){var t=e.children,n=e.className,s=e.ellipsis,o=e.textTransform,d=Object(c.a)(e,b);return Object(l.jsx)(m,Object(a.a)(Object(a.a)({textTransformStyle:o,ellipsis:s,className:Object(i.a)(Object(r.a)({},n||"",!0)),component:"span",lineHeight:"1.5"},d),{},{children:t}))}}}]);
//# sourceMappingURL=102.5b7535e6.chunk.js.map