(this["webpackJsonpmatx-react-pro"]=this["webpackJsonpmatx-react-pro"]||[]).push([[75],{1065:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return be}));var n=r(155),i=r(5),a=r(142),o=r(143),l=r(164),u=r(163),c=r(144),s=r(145),f=r(154),_=r.n(f),p=r(148),E=r(186),A=r(159),d=r(161),T=r(146),O=r(272),R=r(162),h=r(183),S=r(151),y=(r(150),r(189)),v=r(149),b=r(192),N=r(176),C=r(185),m=r(286),I=r(479),L=r(628),g=r(444),P=r(336),D=r(480),U=r(304),M=r(306),B=r(307),j=null;function G(e){if(j)return j;var t={lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"};return j=new Promise((function(r){var n=new Image;n.onload=function(){n.onload=n.onerror=null,r(n.width>0&&n.height>0)},n.onerror=function(){n.onload=n.onerror=null,r(!1)},n.src="data:image/webp;base64,"+t[e]}))}var F=r(14),w=r(156).a.getLogger("esri.layers.support.SpriteSource"),x=function(){function e(t,r,n,i){Object(a.a)(this,e),this.baseURL=t,this.devicePixelRatio=r,this.maxTextureSize=n,this._spriteImageFormat=i,this._isRetina=!1,this._spritesData={},this.image=null,this.width=null,this.height=null,this.loadStatus="not-loaded"}return Object(o.a)(e,[{key:"spriteNames",get:function(){var e=[];for(var t in this._spritesData)e.push(t);return e.sort(),e}},{key:"getSpriteInfo",value:function(e){return this._spritesData[e]}},{key:"load",value:function(){var e=Object(n.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.baseURL){e.next=13;break}return this.loadStatus="loading",e.prev=2,e.next=5,this._loadSprites(t);case 5:this.loadStatus="loaded",e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),this.loadStatus="failed";case 11:e.next=14;break;case 13:this.loadStatus="failed";case 14:case"end":return e.stop()}}),e,this,[[2,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_loadSprites",value:function(e){var t=this;this._isRetina=this.devicePixelRatio>1.15;var r=Object(h.M)(this.baseURL),n=r.query?"?"+Object(h.G)(r.query):"",a=this._isRetina?"@2x":"",o="".concat(r.path).concat(a,".").concat(this._spriteImageFormat).concat(n),l="".concat(r.path).concat(a,".json").concat(n);return Promise.all([Object(E.default)(l,e),Object(E.default)(o,Object(i.a)({responseType:"image"},e))]).then((function(e){var n=Object(F.a)(e,2),i=n[0],a=n[1],o=Object.keys(i.data);if(!o||0===o.length||1===o.length&&"_ssl"===o[0]||!a||!a.data)return t._spritesData=t.image=null,t.width=t.height=0,null;t._spritesData=i.data;var l=a.data,u=Math.max(t.maxTextureSize,4096);if(l.width>u||l.height>u){var c="Sprite resource for style ".concat(r.path," is bigger than the maximum allowed of ").concat(u," pixels}");throw w.error(c),new A.a("SpriteSource",c)}t.width=l.width,t.height=l.height;var s=document.createElement("canvas"),f=s.getContext("2d");s.width=l.width,s.height=l.height,f.drawImage(l,0,0,l.width,l.height);for(var _,p=f.getImageData(0,0,l.width,l.height),E=new Uint8Array(p.data),d=0;d<E.length;d+=4)_=E[d+3]/255,E[d]=E[d]*_,E[d+1]=E[d+1]*_,E[d+2]=E[d+2]*_;t.image=E}))}}]),e}(),k=r(296),H=r(60),V=r(355),Y=r(520),W=r(532),X=r(241),q=function(){function e(t){Object(a.a)(this,e),this.url=t}return Object(o.a)(e,[{key:"fetchTileIndex",value:function(){var e=Object(n.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(this._tileIndexPromise||(this._tileIndexPromise=Object(E.default)(this.url).then((function(e){return e.data.index}))),this._tileIndexPromise));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dataKey",value:function(){var e=Object(n.a)(_.a.mark((function e(t,r){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchTileIndex();case 2:return n=e.sent,e.abrupt("return",(Object(R.p)(r),this._getIndexedDataKey(n,t)));case 4:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"_getIndexedDataKey",value:function(e,t){var r=[t];if(t.level<0||t.row<0||t.col<0||t.row>>t.level>0||t.col>>t.level>0)return null;for(var n=t;0!==n.level;)n=new X.a(n.level-1,n.row>>1,n.col>>1,n.world),r.push(n);var i,a,o=e,l=r.pop();if(1===o)return l;for(;r.length;)if(a=(1&(i=r.pop()).col)+((1&i.row)<<1),o){if(0===o[a]){l=null;break}if(1===o[a]){l=i;break}l=i,o=o[a]}return l}}]),e}(),z=function(){function e(t,r){Object(a.a)(this,e),this._tilemap=t,this._tileIndexUrl=r}return Object(o.a)(e,[{key:"fetchTileIndex",value:function(){var e=Object(n.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(this._tileIndexPromise||(this._tileIndexPromise=Object(E.default)(this._tileIndexUrl,{query:Object(i.a)({},null===t||void 0===t?void 0:t.query)}).then((function(e){return e.data.index}))),this._tileIndexPromise));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"dataKey",value:function(e,t){var r=e.level,n=e.row,i=e.col,a=new X.a(e);return this._tilemap.fetchAvailabilityUpsample(r,n,i,a,t).then((function(){return a.world=e.world,a})).catch((function(e){if(Object(R.j)(e))throw e;return null}))}}]),e}(),J=new Map;function K(e,t,r,n,a){return function(e,t){var r=J.get(e);if(r)return r.then((function(e){return Object(d.a)(e)}));var n=Object(E.default)(e,Object(i.a)({responseType:"array-buffer"},t)).then((function(t){var r=t.data;return J.delete(e),r})).catch((function(t){throw J.delete(e),t}));return J.set(e,n),n}(e.replace(/\{z\}/gi,t.toString()).replace(/\{y\}/gi,r.toString()).replace(/\{x\}/gi,n.toString()),a)}var Q=function(){function e(t,r,n){Object(a.a)(this,e),this.tilemap=null,this.tileInfo=null,this.capabilities=null,this.fullExtent=null,this.name=t,this.sourceUrl=r;var o=Object(h.M)(this.sourceUrl),l=Object(d.a)(n),u=l.tiles;if(o)for(var c=0;c<u.length;c++){var s=Object(h.M)(u[c]);s&&(Object(h.u)(s.path)||(s.path=Object(h.B)(o.path,s.path)),u[c]=Object(h.e)(s.path,Object(i.a)(Object(i.a)({},o.query),s.query)))}this.tileServers=u;var f=n.capabilities&&n.capabilities.split(",").map((function(e){return e.toLowerCase().trim()})),_=!0===(null===n||void 0===n?void 0:n.exportTilesAllowed),p=!0===(null===f||void 0===f?void 0:f.includes("tilemap")),E=_&&n.hasOwnProperty("maxExportTilesCount")?n.maxExportTilesCount:0;this.capabilities={operations:{supportsExportTiles:_,supportsTileMap:p},exportTiles:_?{maxExportTilesCount:+E}:null},this.tileInfo=Object(Y.a)(l.tileInfo,l,null,{ignoreMinMaxLOD:!0});var A=n.tileMap?Object(h.e)(Object(h.B)(o.path,n.tileMap),o.query):null;p?(this.type="vector-tile",this.tilemap=new z(new W.a({layer:{parsedUrl:o,tileInfo:this.tileInfo,type:"vector-tile",tileServers:this.tileServers}}),A)):A&&(this.tilemap=new q(A)),this.fullExtent=N.a.fromJSON(n.fullExtent)}return Object(o.a)(e,[{key:"destroy",value:function(){}},{key:"getRefKey",value:function(){var e=Object(n.a)(_.a.mark((function e(t,r){var n,i;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null!==(n=null===(i=this.tilemap)||void 0===i?void 0:i.dataKey(t,r))&&void 0!==n?n:t);case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"requestTile",value:function(e,t,r,n){return K(this.tileServers[t%this.tileServers.length],e,t,r,n)}},{key:"isCompatibleWith",value:function(e){var t=this.tileInfo,r=e.tileInfo;if(!t.spatialReference.equals(r.spatialReference))return!1;if(!t.origin.equals(r.origin))return!1;if(Math.round(t.dpi)!==Math.round(r.dpi))return!1;for(var n=t.lods,i=r.lods,a=Math.min(n.length,i.length),o=0;o<a;o++){var l=n[o],u=i[o];if(l.level!==u.level||Math.round(l.scale)!==Math.round(u.scale))return!1}return!0}}]),e}(),Z=V.a.defaults&&V.a.defaults.io.corsEnabledServers;function $(e,t){return ee.apply(this,arguments)}function ee(){return(ee=Object(n.a)(_.a.mark((function e(t,r){var n,i,a,o,l,u;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={source:null,sourceBase:null,sourceUrl:null,validatedSource:null,style:null,styleBase:null,styleUrl:null,sourceNameToSource:{},primarySourceName:"",spriteFormat:"png"},i="string"==typeof t?[t,null]:[null,t.jsonUrl],a=Object(F.a)(i,2),o=a[0],l=a[1],e.next=3,ne(n,"esri",t,l,r);case 3:return u={layerDefinition:n.validatedSource,url:o,serviceUrl:n.sourceUrl,style:n.style,styleUrl:n.styleUrl,spriteUrl:n.style.sprite&&re(n.styleBase,n.style.sprite),spriteFormat:n.spriteFormat,glyphsUrl:n.style.glyphs&&re(n.styleBase,n.style.glyphs),sourceNameToSource:n.sourceNameToSource,primarySourceName:n.primarySourceName},e.abrupt("return",(te(u.spriteUrl),te(u.glyphsUrl),u));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(e){if(e){var t=Object(h.o)(e);Z&&!Z.includes(t)&&Z.push(t)}}function re(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];for(var i=0;i<r.length;++i)if(Object(h.y)(r[i])){if(e){var a=e.split("://")[0];e=a+":"+r[i].trim()}}else e=Object(h.u)(r[i])?r[i]:Object(h.B)(e,r[i]);return Object(h.K)(e)}function ne(e,t,r,n,i){return ie.apply(this,arguments)}function ie(){return(ie=Object(n.a)(_.a.mark((function e(t,r,n,a,o){var l,u,c,s,f;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(R.p)(o),"string"!=typeof n){e.next=11;break}return te(s=Object(h.F)(n)),e.next=5,Object(E.default)(s,Object(i.a)(Object(i.a)({},o),{},{responseType:"json",query:Object(i.a)({f:"json"},null===o||void 0===o?void 0:o.query)}));case 5:(c=e.sent).ssl&&(l&&(l=l.replace(/^http:/i,"https:")),u&&(u=u.replace(/^http:/i,"https:"))),l=s,u=s,e.next=12;break;case 11:c={data:n},l=n.jsonUrl||null,u=a;case 12:if(!ae(f=c.data)){e.next=15;break}return e.abrupt("return",(t.styleUrl=l||null,le(t,f,u,o)));case 15:if(!oe(f)){e.next=17;break}return e.abrupt("return",t.sourceUrl?ce(t,f,u,!1,r,o):(t.sourceUrl=l||null,ce(t,f,u,!0,r,o)));case 17:throw new Error("You must specify the URL or the JSON for a service or for a style.");case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e){return!!e.sources}function oe(e){return!ae(e)}function le(e,t,r,n){return ue.apply(this,arguments)}function ue(){return(ue=Object(n.a)(_.a.mark((function e(t,r,n,i){var a,o,l,u,c,s;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n?Object(h.I)(n):Object(h.k)(),t.styleBase=a,t.style=r,t.styleUrl&&te(t.styleUrl),r["sprite-format"]&&"webp"===r["sprite-format"].toLowerCase()&&(t.spriteFormat="webp"),o=[],!r.sources||!r.sources.esri){e.next=11;break}if(!(l=r.sources.esri).url){e.next=10;break}return e.next=8,ne(t,"esri",re(a,l.url),void 0,i);case 8:e.next=11;break;case 10:o.push(ne(t,"esri",l,a,i));case 11:for(u=0,c=Object.keys(r.sources);u<c.length;u++)"esri"!==(s=c[u])&&"vector"===r.sources[s].type&&(r.sources[s].url?o.push(ne(t,s,re(a,r.sources[s].url),void 0,i)):r.sources[s].tiles&&o.push(ne(t,s,r.sources[s],a,i)));return e.next=14,Promise.all(o);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(e,t,r,n,i,a){return se.apply(this,arguments)}function se(){return(se=Object(n.a)(_.a.mark((function e(t,r,n,i,a,o){var l,u,c,s;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=n?Object(h.K)(n)+"/":Object(h.k)(),u=fe(r,l),c=new Q(a,Object(h.e)(l,null===o||void 0===o?void 0:o.query),u),i||!(t.primarySourceName in t.sourceNameToSource)){e.next=6;break}if((s=t.sourceNameToSource[t.primarySourceName]).isCompatibleWith(c)){e.next=5;break}return e.abrupt("return");case 5:null!=c.fullExtent&&(null!=s.fullExtent?s.fullExtent.union(c.fullExtent):s.fullExtent=c.fullExtent.clone()),s.tileInfo.lods.length<c.tileInfo.lods.length&&(s.tileInfo=c.tileInfo);case 6:if(i?(t.sourceBase=l,t.source=r,t.validatedSource=u,t.primarySourceName=a,t.sourceUrl&&te(t.sourceUrl)):te(l),t.sourceNameToSource[a]=c,t.style){e.next=10;break}if(null!=r.defaultStyles){e.next=9;break}throw new Error;case 9:return e.abrupt("return","string"==typeof r.defaultStyles?ne(t,"",re(l,r.defaultStyles,"root.json"),void 0,o):ne(t,"",r.defaultStyles,re(l,"root.json"),o));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fe(e,t){if(e.hasOwnProperty("tileInfo"))return e;for(var r={xmin:-20037507.067161843,ymin:-20037507.067161843,xmax:20037507.067161843,ymax:20037507.067161843,spatialReference:{wkid:102100}},n=78271.51696400007,i=295828763.7957775,a=[],o=e.hasOwnProperty("minzoom")?+e.minzoom:0,l=e.hasOwnProperty("maxzoom")?+e.maxzoom:22,u=0;u<=l;u++)u>=o&&a.push({level:u,scale:i,resolution:n}),n/=2,i/=2;var c,s=Object(H.a)(e.tiles);try{for(s.s();!(c=s.n()).done;){te(re(t,c.value))}}catch(f){s.e(f)}finally{s.f()}return{capabilities:"TilesOnly",initialExtent:r,fullExtent:r,minScale:0,maxScale:0,tiles:e.tiles,tileInfo:{rows:512,cols:512,dpi:96,format:"pbf",origin:{x:-20037508.342787,y:20037508.342787},lods:a,spatialReference:{wkid:102100}}}}var _e=r(627),pe=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,Ee={customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},Ae={customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},de={customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"};var Te=r(287),Oe=1e-6;function Re(e,t){if(e===t)return!0;if(!e&&null!=t)return!1;if(null!=e&&!t)return!1;if(!e.spatialReference.equals(t.spatialReference)||e.dpi!==t.dpi)return!1;var r,n,i=e.origin,a=t.origin;if(Math.abs(i.x-a.x)>=Oe||Math.abs(i.y-a.y)>=Oe)return!1;e.lods[0].scale>t.lods[0].scale?(r=e,n=t):(n=e,r=t);for(var o=r.lods[0].scale;o>=n.lods[n.lods.length-1].scale-Oe;o/=2)if(Math.abs(o-n.lods[0].scale)<Oe)return!0;return!1}function he(e,t){if(e===t)return e;if(!e&&null!=t)return t;if(null!=e&&!t)return e;for(var r=e.size[0],n=e.format,i=e.dpi,a={x:e.origin.x,y:e.origin.y},o=e.spatialReference.toJSON(),l=e.lods[0].scale>t.lods[0].scale?e.lods[0]:t.lods[0],u=e.lods[e.lods.length-1].scale<=t.lods[t.lods.length-1].scale?e.lods[e.lods.length-1]:t.lods[t.lods.length-1],c=l.scale,s=l.resolution,f=u.scale,_=[],p=c,E=s,A=0;p>f;)_.push({level:A,resolution:E,scale:p}),A++,p/=2,E/=2;return new k.a({size:[r,r],dpi:i,format:n||"pbf",origin:a,lods:_,spatialReference:o})}var Se=r(736),ye=r(269),ve=function(e){Object(c.a)(r,e);var t=Object(s.a)(r);function r(){var e;Object(a.a)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i)))._spriteSourceMap=new Map,e.currentStyleInfo=null,e.style=null,e.isReference=null,e.operationalLayerType="VectorTileLayer",e.type="vector-tile",e.url=null,e.symbolCollisionBoxesVisible=!1,e.path=null,e}return Object(o.a)(r,[{key:"normalizeCtorArgs",value:function(e,t){return"string"==typeof e?Object(i.a)({url:e},t):e}},{key:"destroy",value:function(){if(this.sourceNameToSource)for(var e=0,t=Object.values(this.sourceNameToSource);e<t.length;e++){var r=t[e];null===r||void 0===r||r.destroy()}this._spriteSourceMap.clear()}},{key:"prefetchResources",value:function(){var e=Object(n.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadSpriteSource(globalThis.devicePixelRatio||1,t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"load",value:function(e){var t=this,r=this.loadFromPortal({supportedTypes:["Vector Tile Service"],supportsData:!1},e).catch(R.o).then(Object(n.a)(_.a.mark((function r(){var n;return _.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t.portalItem&&t.portalItem.id){r.next=2;break}return r.abrupt("return");case 2:return n="".concat(t.portalItem.itemUrl,"/resources/styles/root.json"),r.next=5,Object(E.default)(n,Object(i.a)(Object(i.a)({},e),{},{query:Object(i.a)(Object(i.a)({f:"json"},t.customParameters),{},{token:t.apiKey})}));case 5:if(r.t0=r.sent.data,!r.t0){r.next=8;break}t.read({url:n},Object(_e.a)(t.portalItem));case 8:case"end":return r.stop()}}),r)})))).catch(R.o).then((function(){return t._loadStyle(e)}));return this.addResolvingPromise(r),Promise.resolve(this)}},{key:"attributionDataUrl",get:function(){var e=this.currentStyleInfo,t=e&&e.serviceUrl&&Object(h.M)(e.serviceUrl);if(!t)return null;var r=this._getDefaultAttribution(t.path);return r?Object(h.e)(r,Object(i.a)(Object(i.a)({},this.customParameters),{},{token:this.apiKey})):null}},{key:"capabilities",get:function(){var e=this.primarySource;return e?e.capabilities:{operations:{supportsExportTiles:!1,supportsTileMap:!1},exportTiles:null}}},{key:"fullExtent",get:function(){var e;return(null===(e=this.primarySource)||void 0===e?void 0:e.fullExtent)||null}},{key:"parsedUrl",get:function(){return this.serviceUrl?Object(h.M)(this.serviceUrl):null}},{key:"serviceUrl",get:function(){return this.currentStyleInfo&&this.currentStyleInfo.serviceUrl||null}},{key:"spatialReference",get:function(){return this.tileInfo&&this.tileInfo.spatialReference||null}},{key:"styleUrl",get:function(){return this.currentStyleInfo&&this.currentStyleInfo.styleUrl||null}},{key:"writeStyleUrl",value:function(e,t){e&&Object(h.y)(e)&&(e="https:".concat(e));var r=Object(T.q)(function(e){var t=null===e||void 0===e?void 0:e.match(pe);if(!t)return null;var r=Object(F.a)(t,4),n=r[1],i=r[2],a=r[3];if(!n)return null;var o=null,l=null,u=null,c=Ee,s=Ae,f=de;if(i)if(o=n,a)switch(a.toLowerCase()){case"devext":l=c.customBaseUrl,u=c.portalHostname;break;case"qa":l=s.customBaseUrl,u=s.portalHostname;break;default:return null}else l=f.customBaseUrl,u=f.portalHostname;else switch(n.toLowerCase()){case"devext":l=c.customBaseUrl,u=c.portalHostname;break;case"qaext":l=s.customBaseUrl,u=s.portalHostname;break;case"www":l=f.customBaseUrl,u=f.portalHostname;break;default:return null}return{customBaseUrl:l,isPortal:!1,portalHostname:u,urlKey:o}}(e));t.styleUrl=Object(Te.b)(e,r)}},{key:"tileInfo",get:function(){var e,t=[];for(var r in this.sourceNameToSource)t.push(this.sourceNameToSource[r]);var n=(null===(e=this.primarySource)||void 0===e?void 0:e.tileInfo)||new k.a;if(t.length>1)for(var i=0;i<t.length;i++)Re(n,t[i].tileInfo)&&(n=he(n,t[i].tileInfo));return n}},{key:"readVersion",value:function(e,t){return t.version?parseFloat(t.version):parseFloat(t.currentVersion)}},{key:"loadSpriteSource",value:function(){var e=Object(n.a)(_.a.mark((function e(){var t,r,n,a,o,l,u=arguments;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]?u[0]:1,r=u.length>1?u[1]:void 0,this._spriteSourceMap.has(t)){e.next=7;break}return a=Object(ye.a)("2d").maxTextureSize,o=null!==(n=this.currentStyleInfo)&&void 0!==n&&n.spriteUrl?Object(h.e)(this.currentStyleInfo.spriteUrl,Object(i.a)(Object(i.a)({},this.customParameters),{},{token:this.apiKey})):null,l=new x(o,t,a,this.currentStyleInfo.spriteFormat),e.next=6,l.load(r);case 6:this._spriteSourceMap.set(t,l);case 7:return e.abrupt("return",this._spriteSourceMap.get(t));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setSpriteSource",value:function(){var e=Object(n.a)(_.a.mark((function e(t){var r,n,a,o,l,u,c=arguments;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.length>1&&void 0!==c[1]?c[1]:"png",n=c.length>2&&void 0!==c[2]?c[2]:1,a=c.length>3?c[3]:void 0,o=Object(ye.a)("2d").maxTextureSize,l=t?Object(h.e)(t,Object(i.a)(Object(i.a)({},this.customParameters),{},{token:this.apiKey})):null){e.next=6;break}return e.abrupt("return",null);case 6:return u=new x(l,n,o,r),e.prev=7,e.next=10,u.load(a);case 10:return this._spriteSourceMap.clear(),this._spriteSourceMap.set(n,u),this.currentStyleInfo.spriteUrl=l,this.emit("spriteSource-change",{spriteSource:u}),e.abrupt("return",u);case 17:e.prev=17,e.t0=e.catch(7),Object(R.o)(e.t0);case 20:return e.abrupt("return",null);case 21:case"end":return e.stop()}}),e,this,[[7,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:"loadStyle",value:function(){var e=Object(n.a)(_.a.mark((function e(t,r){var n,i,a=this;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t||this.style||this.url,e.abrupt("return",(this._loadingTask&&"string"==typeof i&&this.url===i||(null!==(n=this._loadingTask)&&void 0!==n&&n.abort(),this._loadingTask=Object(R.e)((function(e){return a._spriteSourceMap.clear(),a._getSourceAndStyle(i,{signal:e})}),r)),this._loadingTask.promise));case 2:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getStyleLayerId",value:function(e){return this.styleRepository.getStyleLayerId(e)}},{key:"getStyleLayerIndex",value:function(e){return this.styleRepository.getStyleLayerIndex(e)}},{key:"getPaintProperties",value:function(e){return Object(d.a)(this.styleRepository.getPaintProperties(e))}},{key:"setPaintProperties",value:function(e,t){var r=this.styleRepository.isPainterDataDriven(e);this.styleRepository.setPaintProperties(e,t);var n=this.styleRepository.isPainterDataDriven(e);this.emit("paint-change",{layer:e,paint:t,isDataDriven:r||n})}},{key:"getStyleLayer",value:function(e){return Object(d.a)(this.styleRepository.getStyleLayer(e))}},{key:"setStyleLayer",value:function(e,t){this.styleRepository.setStyleLayer(e,t),this.emit("style-layer-change",{layer:e,index:t})}},{key:"deleteStyleLayer",value:function(e){this.styleRepository.deleteStyleLayer(e),this.emit("delete-style-layer",{layer:e})}},{key:"getLayoutProperties",value:function(e){return Object(d.a)(this.styleRepository.getLayoutProperties(e))}},{key:"setLayoutProperties",value:function(e,t){this.styleRepository.setLayoutProperties(e,t),this.emit("layout-change",{layer:e,layout:t})}},{key:"setStyleLayerVisibility",value:function(e,t){this.styleRepository.setStyleLayerVisibility(e,t),this.emit("style-layer-visibility-change",{layer:e,visibility:t})}},{key:"getStyleLayerVisibility",value:function(e){return this.styleRepository.getStyleLayerVisibility(e)}},{key:"write",value:function(e,t){return null!==t&&void 0!==t&&t.origin&&!this.styleUrl?(t.messages&&t.messages.push(new A.a("vectortilelayer:unsupported","VectorTileLayer (".concat(this.title,", ").concat(this.id,") with style defined by JSON only are not supported"),{layer:this})),null):Object(l.a)(Object(u.a)(r.prototype),"write",this).call(this,e,t)}},{key:"getTileUrl",value:function(e,t,r){return null}},{key:"_getSourceAndStyle",value:function(){var e=Object(n.a)(_.a.mark((function e(t,r){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("invalid style!");case 2:return e.next=4,$(t,Object(i.a)(Object(i.a)({},r),{},{query:Object(i.a)(Object(i.a)({},this.customParameters),{},{token:this.apiKey})}));case 4:if("webp"!==(n=e.sent).spriteFormat){e.next=11;break}return e.next=8,G("lossy");case 8:if(e.t0=e.sent,e.t0){e.next=11;break}n.spriteFormat="png";case 11:this._set("currentStyleInfo",Object(i.a)({},n)),"string"==typeof t?(this.url=t,this.style=null):(this.url=null,this.style=t),this._set("sourceNameToSource",n.sourceNameToSource),this._set("primarySource",n.sourceNameToSource[n.primarySourceName]),this._set("styleRepository",new Se.a(n.style)),this.read(n.layerDefinition,{origin:"service"}),this.emit("load-style");case 12:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"_getDefaultAttribution",value:function(e){var t=e.match(/^https?:\/\/(?:basemaps|basemapsbeta|basemapsdev)(?:-api)?\.arcgis\.com(\/[^\/]+)?\/arcgis\/rest\/services\/([^\/]+(\/[^\/]+)*)\/vectortileserver/i);if(t){var r=t[2]&&t[2].toLowerCase();if(r)for(var n=t[1]||"",i=0,a=["OpenStreetMap_v2","OpenStreetMap_Daylight_v2","OpenStreetMap_Export_v2","OpenStreetMap_FTS_v2","OpenStreetMap_GCS_v2","World_Basemap","World_Basemap_v2","World_Basemap_Export_v2","World_Basemap_GCS_v2","World_Basemap_WGS84","World_Contours_v2"];i<a.length;i++){var o=a[i];if(o.toLowerCase().includes(r))return Object(h.F)("//static.arcgis.com/attribution/Vector".concat(n,"/").concat(o))}}}},{key:"_loadStyle",value:function(){var e=Object(n.a)(_.a.mark((function e(t){var r,n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null!==(r=null===(n=this._loadingTask)||void 0===n?void 0:n.promise)&&void 0!==r?r:this.loadStyle(null,t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(Object(P.a)(Object(B.a)(Object(L.a)(Object(g.a)(Object(U.a)(Object(M.a)(Object(D.a)(Object(I.a)(Object(O.a)(m.a))))))))));Object(p.a)([Object(S.b)({readOnly:!0})],ve.prototype,"attributionDataUrl",null),Object(p.a)([Object(S.b)({type:["show","hide"]})],ve.prototype,"listMode",void 0),Object(p.a)([Object(S.b)({json:{read:!0,write:!0}})],ve.prototype,"blendMode",void 0),Object(p.a)([Object(S.b)({readOnly:!0,json:{read:!1}})],ve.prototype,"capabilities",null),Object(p.a)([Object(S.b)({readOnly:!0})],ve.prototype,"currentStyleInfo",void 0),Object(p.a)([Object(S.b)({json:{read:!1},readOnly:!0,type:N.a})],ve.prototype,"fullExtent",null),Object(p.a)([Object(S.b)()],ve.prototype,"style",void 0),Object(p.a)([Object(S.b)({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:function(){return{enabled:!1}}}}})],ve.prototype,"isReference",void 0),Object(p.a)([Object(S.b)({type:["VectorTileLayer"]})],ve.prototype,"operationalLayerType",void 0),Object(p.a)([Object(S.b)({readOnly:!0})],ve.prototype,"parsedUrl",null),Object(p.a)([Object(S.b)({readOnly:!0})],ve.prototype,"serviceUrl",null),Object(p.a)([Object(S.b)({type:C.a,readOnly:!0})],ve.prototype,"spatialReference",null),Object(p.a)([Object(S.b)({readOnly:!0})],ve.prototype,"styleRepository",void 0),Object(p.a)([Object(S.b)({readOnly:!0})],ve.prototype,"sourceNameToSource",void 0),Object(p.a)([Object(S.b)({readOnly:!0})],ve.prototype,"primarySource",void 0),Object(p.a)([Object(S.b)({type:String,readOnly:!0,json:{write:{ignoreOrigin:!0},origins:{"web-document":{write:{ignoreOrigin:!0,isRequired:!0}}}}})],ve.prototype,"styleUrl",null),Object(p.a)([Object(b.a)(["portal-item","web-document"],"styleUrl")],ve.prototype,"writeStyleUrl",null),Object(p.a)([Object(S.b)({json:{read:!1,origins:{service:{read:!1}}},readOnly:!0,type:k.a})],ve.prototype,"tileInfo",null),Object(p.a)([Object(S.b)({json:{read:!1},readOnly:!0,value:"vector-tile"})],ve.prototype,"type",void 0),Object(p.a)([Object(S.b)({json:{origins:{"web-document":{read:{source:"styleUrl"}},"portal-item":{read:{source:"url"}}},write:!1,read:!1}})],ve.prototype,"url",void 0),Object(p.a)([Object(S.b)({readOnly:!0})],ve.prototype,"version",void 0),Object(p.a)([Object(y.a)("version",["version","currentVersion"])],ve.prototype,"readVersion",null),Object(p.a)([Object(S.b)({type:Boolean})],ve.prototype,"symbolCollisionBoxesVisible",void 0),Object(p.a)([Object(S.b)({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],ve.prototype,"path",void 0);var be=ve=Object(p.a)([Object(v.a)("esri.layers.VectorTileLayer")],ve)},153:function(e,t,r){"use strict";var n,i,a,o,l,u,c,s,f,_,p,E,A,d,T,O,R,h,S,y,v,b;r.d(t,"a",(function(){return m})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return l})),r.d(t,"e",(function(){return n})),r.d(t,"f",(function(){return D})),r.d(t,"g",(function(){return C})),r.d(t,"h",(function(){return f})),r.d(t,"i",(function(){return I})),r.d(t,"j",(function(){return c})),r.d(t,"k",(function(){return s})),r.d(t,"l",(function(){return B})),r.d(t,"m",(function(){return b})),r.d(t,"n",(function(){return u})),r.d(t,"o",(function(){return y})),r.d(t,"p",(function(){return d})),r.d(t,"q",(function(){return O})),r.d(t,"r",(function(){return i})),r.d(t,"s",(function(){return R})),r.d(t,"t",(function(){return N})),r.d(t,"u",(function(){return S})),r.d(t,"v",(function(){return T})),r.d(t,"w",(function(){return _})),r.d(t,"x",(function(){return U})),r.d(t,"y",(function(){return v})),r.d(t,"z",(function(){return p})),r.d(t,"A",(function(){return A})),r.d(t,"B",(function(){return E})),r.d(t,"C",(function(){return L})),r.d(t,"D",(function(){return h})),function(e){e[e.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",e[e.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",e[e.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT"}(n||(n={})),function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(i||(i={})),function(e){e[e.ZERO=0]="ZERO",e[e.ONE=1]="ONE",e[e.SRC_COLOR=768]="SRC_COLOR",e[e.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",e[e.SRC_ALPHA=770]="SRC_ALPHA",e[e.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",e[e.DST_ALPHA=772]="DST_ALPHA",e[e.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",e[e.DST_COLOR=774]="DST_COLOR",e[e.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",e[e.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",e[e.CONSTANT_COLOR=32769]="CONSTANT_COLOR",e[e.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",e[e.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",e[e.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA"}(a||(a={})),function(e){e[e.ADD=32774]="ADD",e[e.SUBTRACT=32778]="SUBTRACT",e[e.REVERSE_SUBTRACT=32779]="REVERSE_SUBTRACT"}(o||(o={})),function(e){e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",e[e.PIXEL_PACK_BUFFER=35051]="PIXEL_PACK_BUFFER",e[e.PIXEL_UNPACK_BUFFER=35052]="PIXEL_UNPACK_BUFFER",e[e.COPY_READ_BUFFER=36662]="COPY_READ_BUFFER",e[e.COPY_WRITE_BUFFER=36663]="COPY_WRITE_BUFFER"}(l||(l={})),function(e){e[e.FRONT=1028]="FRONT",e[e.BACK=1029]="BACK",e[e.FRONT_AND_BACK=1032]="FRONT_AND_BACK"}(u||(u={})),function(e){e[e.CW=2304]="CW",e[e.CCW=2305]="CCW"}(c||(c={})),function(e){e[e.BYTE=5120]="BYTE",e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.SHORT=5122]="SHORT",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.INT=5124]="INT",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.FLOAT=5126]="FLOAT"}(s||(s={})),function(e){e[e.NEVER=512]="NEVER",e[e.LESS=513]="LESS",e[e.EQUAL=514]="EQUAL",e[e.LEQUAL=515]="LEQUAL",e[e.GREATER=516]="GREATER",e[e.NOTEQUAL=517]="NOTEQUAL",e[e.GEQUAL=518]="GEQUAL",e[e.ALWAYS=519]="ALWAYS"}(f||(f={})),function(e){e[e.ZERO=0]="ZERO",e[e.KEEP=7680]="KEEP",e[e.REPLACE=7681]="REPLACE",e[e.INCR=7682]="INCR",e[e.DECR=7683]="DECR",e[e.INVERT=5386]="INVERT",e[e.INCR_WRAP=34055]="INCR_WRAP",e[e.DECR_WRAP=34056]="DECR_WRAP"}(_||(_={})),function(e){e[e.NEAREST=9728]="NEAREST",e[e.LINEAR=9729]="LINEAR",e[e.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",e[e.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",e[e.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",e[e.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR"}(p||(p={})),function(e){e[e.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(E||(E={})),function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_3D=32879]="TEXTURE_3D",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY"}(A||(A={})),function(e){e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e[e.ALPHA=6406]="ALPHA",e[e.RGB=6407]="RGB",e[e.RGBA=6408]="RGBA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.RED=6403]="RED",e[e.RG=33319]="RG",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER"}(d||(d={})),function(e){e[e.RGBA4=32854]="RGBA4",e[e.R16F=33325]="R16F",e[e.RG16F=33327]="RG16F",e[e.RGB32F=34837]="RGB32F",e[e.RGBA16F=34842]="RGBA16F",e[e.R32F=33326]="R32F",e[e.RG32F=33328]="RG32F",e[e.RGBA32F=34836]="RGBA32F",e[e.R11F_G11F_B10F=35898]="R11F_G11F_B10F",e[e.RGB8=32849]="RGB8",e[e.RGBA8=32856]="RGBA8",e[e.RGB5_A1=32855]="RGB5_A1",e[e.R8=33321]="R8",e[e.RG8=33323]="RG8",e[e.R8I=33329]="R8I",e[e.R8UI=33330]="R8UI",e[e.R16I=33331]="R16I",e[e.R16UI=33332]="R16UI",e[e.R32I=33333]="R32I",e[e.R32UI=33334]="R32UI",e[e.RG8I=33335]="RG8I",e[e.RG8UI=33336]="RG8UI",e[e.RG16I=33337]="RG16I",e[e.RG16UI=33338]="RG16UI",e[e.RG32I=33339]="RG32I",e[e.RG32UI=33340]="RG32UI",e[e.RGB16F=34843]="RGB16F",e[e.RGB9_E5=35901]="RGB9_E5",e[e.SRGB8=35905]="SRGB8",e[e.SRGB8_ALPHA8=35907]="SRGB8_ALPHA8",e[e.RGB565=36194]="RGB565",e[e.RGBA32UI=36208]="RGBA32UI",e[e.RGB32UI=36209]="RGB32UI",e[e.RGBA16UI=36214]="RGBA16UI",e[e.RGB16UI=36215]="RGB16UI",e[e.RGBA8UI=36220]="RGBA8UI",e[e.RGB8UI=36221]="RGB8UI",e[e.RGBA32I=36226]="RGBA32I",e[e.RGB32I=36227]="RGB32I",e[e.RGBA16I=36232]="RGBA16I",e[e.RGB16I=36233]="RGB16I",e[e.RGBA8I=36238]="RGBA8I",e[e.RGB8I=36239]="RGB8I",e[e.R8_SNORM=36756]="R8_SNORM",e[e.RG8_SNORM=36757]="RG8_SNORM",e[e.RGB8_SNORM=36758]="RGB8_SNORM",e[e.RGBA8_SNORM=36759]="RGBA8_SNORM",e[e.RGB10_A2=32857]="RGB10_A2",e[e.RGB10_A2UI=36975]="RGB10_A2UI"}(T||(T={})),function(e){e[e.FLOAT=5126]="FLOAT",e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.BYTE=5120]="BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.SHORT=5122]="SHORT",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.INT=5124]="INT",e[e.HALF_FLOAT=5131]="HALF_FLOAT",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV"}(O||(O={})),function(e){e[e.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",e[e.STENCIL_INDEX8=36168]="STENCIL_INDEX8",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e[e.DEPTH_COMPONENT24=33190]="DEPTH_COMPONENT24",e[e.DEPTH_COMPONENT32F=36012]="DEPTH_COMPONENT32F",e[e.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",e[e.DEPTH32F_STENCIL8=36013]="DEPTH32F_STENCIL8"}(R||(R={})),function(e){e[e.STATIC_DRAW=35044]="STATIC_DRAW",e[e.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",e[e.STREAM_DRAW=35040]="STREAM_DRAW",e[e.STATIC_READ=35045]="STATIC_READ",e[e.DYNAMIC_READ=35049]="DYNAMIC_READ",e[e.STREAM_READ=35041]="STREAM_READ",e[e.STATIC_COPY=35046]="STATIC_COPY",e[e.DYNAMIC_COPY=35050]="DYNAMIC_COPY",e[e.STREAM_COPY=35042]="STREAM_COPY"}(h||(h={})),function(e){e[e.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",e[e.VERTEX_SHADER=35633]="VERTEX_SHADER"}(S||(S={})),function(e){e[e.FRAMEBUFFER=36160]="FRAMEBUFFER",e[e.READ_FRAMEBUFFER=36008]="READ_FRAMEBUFFER",e[e.DRAW_FRAMEBUFFER=36009]="DRAW_FRAMEBUFFER"}(y||(y={})),function(e){e[e.TEXTURE=0]="TEXTURE",e[e.RENDER_BUFFER=1]="RENDER_BUFFER",e[e.CUBEMAP=2]="CUBEMAP"}(v||(v={})),function(e){e[e.NONE=0]="NONE",e[e.DEPTH_RENDER_BUFFER=1]="DEPTH_RENDER_BUFFER",e[e.STENCIL_RENDER_BUFFER=2]="STENCIL_RENDER_BUFFER",e[e.DEPTH_STENCIL_RENDER_BUFFER=3]="DEPTH_STENCIL_RENDER_BUFFER",e[e.DEPTH_STENCIL_TEXTURE=4]="DEPTH_STENCIL_TEXTURE"}(b||(b={}));var N,C,m=33984;!function(e){e[e.Texture=0]="Texture",e[e.BufferObject=1]="BufferObject",e[e.VertexArrayObject=2]="VertexArrayObject",e[e.Shader=3]="Shader",e[e.Program=4]="Program",e[e.FramebufferObject=5]="FramebufferObject",e[e.Renderbuffer=6]="Renderbuffer",e[e.Sync=7]="Sync",e[e.COUNT=8]="COUNT"}(N||(N={})),function(e){e[e.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",e[e.COLOR_ATTACHMENT1=36065]="COLOR_ATTACHMENT1",e[e.COLOR_ATTACHMENT2=36066]="COLOR_ATTACHMENT2",e[e.COLOR_ATTACHMENT3=36067]="COLOR_ATTACHMENT3",e[e.COLOR_ATTACHMENT4=36068]="COLOR_ATTACHMENT4",e[e.COLOR_ATTACHMENT5=36069]="COLOR_ATTACHMENT5",e[e.COLOR_ATTACHMENT6=36070]="COLOR_ATTACHMENT6",e[e.COLOR_ATTACHMENT7=36071]="COLOR_ATTACHMENT7",e[e.COLOR_ATTACHMENT8=36072]="COLOR_ATTACHMENT8",e[e.COLOR_ATTACHMENT9=36073]="COLOR_ATTACHMENT9",e[e.COLOR_ATTACHMENT10=36074]="COLOR_ATTACHMENT10",e[e.COLOR_ATTACHMENT11=36075]="COLOR_ATTACHMENT11",e[e.COLOR_ATTACHMENT12=36076]="COLOR_ATTACHMENT12",e[e.COLOR_ATTACHMENT13=36077]="COLOR_ATTACHMENT13",e[e.COLOR_ATTACHMENT14=36078]="COLOR_ATTACHMENT14",e[e.COLOR_ATTACHMENT15=36079]="COLOR_ATTACHMENT15"}(C||(C={}));var I,L,g,P,D,U,M,B=33306;!function(e){e[e.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",e[e.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",e[e.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",e[e.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",e[e.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",e[e.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",e[e.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",e[e.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",e[e.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC"}(I||(I={})),function(e){e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_VEC2=35664]="FLOAT_VEC2",e[e.FLOAT_VEC3=35665]="FLOAT_VEC3",e[e.FLOAT_VEC4=35666]="FLOAT_VEC4",e[e.INT=5124]="INT",e[e.INT_VEC2=35667]="INT_VEC2",e[e.INT_VEC3=35668]="INT_VEC3",e[e.INT_VEC4=35669]="INT_VEC4",e[e.BOOL=35670]="BOOL",e[e.BOOL_VEC2=35671]="BOOL_VEC2",e[e.BOOL_VEC3=35672]="BOOL_VEC3",e[e.BOOL_VEC4=35673]="BOOL_VEC4",e[e.FLOAT_MAT2=35674]="FLOAT_MAT2",e[e.FLOAT_MAT3=35675]="FLOAT_MAT3",e[e.FLOAT_MAT4=35676]="FLOAT_MAT4",e[e.SAMPLER_2D=35678]="SAMPLER_2D",e[e.SAMPLER_CUBE=35680]="SAMPLER_CUBE",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_VEC2=36294]="UNSIGNED_INT_VEC2",e[e.UNSIGNED_INT_VEC3=36295]="UNSIGNED_INT_VEC3",e[e.UNSIGNED_INT_VEC4=36296]="UNSIGNED_INT_VEC4",e[e.FLOAT_MAT2x3=35685]="FLOAT_MAT2x3",e[e.FLOAT_MAT2x4=35686]="FLOAT_MAT2x4",e[e.FLOAT_MAT3x2=35687]="FLOAT_MAT3x2",e[e.FLOAT_MAT3x4=35688]="FLOAT_MAT3x4",e[e.FLOAT_MAT4x2=35689]="FLOAT_MAT4x2",e[e.FLOAT_MAT4x3=35690]="FLOAT_MAT4x3",e[e.SAMPLER_3D=35679]="SAMPLER_3D",e[e.SAMPLER_2D_SHADOW=35682]="SAMPLER_2D_SHADOW",e[e.SAMPLER_2D_ARRAY=36289]="SAMPLER_2D_ARRAY",e[e.SAMPLER_2D_ARRAY_SHADOW=36292]="SAMPLER_2D_ARRAY_SHADOW",e[e.SAMPLER_CUBE_SHADOW=36293]="SAMPLER_CUBE_SHADOW",e[e.INT_SAMPLER_2D=36298]="INT_SAMPLER_2D",e[e.INT_SAMPLER_3D=36299]="INT_SAMPLER_3D",e[e.INT_SAMPLER_CUBE=36300]="INT_SAMPLER_CUBE",e[e.INT_SAMPLER_2D_ARRAY=36303]="INT_SAMPLER_2D_ARRAY",e[e.UNSIGNED_INT_SAMPLER_2D=36306]="UNSIGNED_INT_SAMPLER_2D",e[e.UNSIGNED_INT_SAMPLER_3D=36307]="UNSIGNED_INT_SAMPLER_3D",e[e.UNSIGNED_INT_SAMPLER_CUBE=36308]="UNSIGNED_INT_SAMPLER_CUBE",e[e.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311]="UNSIGNED_INT_SAMPLER_2D_ARRAY"}(L||(L={})),function(e){e[e.OBJECT_TYPE=37138]="OBJECT_TYPE",e[e.SYNC_CONDITION=37139]="SYNC_CONDITION",e[e.SYNC_STATUS=37140]="SYNC_STATUS",e[e.SYNC_FLAGS=37141]="SYNC_FLAGS"}(g||(g={})),function(e){e[e.UNSIGNALED=37144]="UNSIGNALED",e[e.SIGNALED=37145]="SIGNALED"}(P||(P={})),function(e){e[e.ALREADY_SIGNALED=37146]="ALREADY_SIGNALED",e[e.TIMEOUT_EXPIRED=37147]="TIMEOUT_EXPIRED",e[e.CONDITION_SATISFIED=37148]="CONDITION_SATISFIED",e[e.WAIT_FAILED=37149]="WAIT_FAILED"}(D||(D={})),function(e){e[e.SYNC_GPU_COMMANDS_COMPLETE=37143]="SYNC_GPU_COMMANDS_COMPLETE"}(U||(U={})),function(e){e[e.SYNC_FLUSH_COMMANDS_BIT=1]="SYNC_FLUSH_COMMANDS_BIT"}(M||(M={}))},158:function(e,t,r){"use strict";r.d(t,"a",(function(){return m})),r.d(t,"b",(function(){return g})),r.d(t,"c",(function(){return C})),r.d(t,"d",(function(){return I})),r.d(t,"e",(function(){return L})),r.d(t,"f",(function(){return f})),r.d(t,"g",(function(){return $})),r.d(t,"h",(function(){return K})),r.d(t,"i",(function(){return W})),r.d(t,"j",(function(){return Q})),r.d(t,"k",(function(){return q})),r.d(t,"l",(function(){return X})),r.d(t,"m",(function(){return z})),r.d(t,"n",(function(){return J})),r.d(t,"o",(function(){return Z})),r.d(t,"p",(function(){return l})),r.d(t,"q",(function(){return k})),r.d(t,"r",(function(){return o})),r.d(t,"s",(function(){return M})),r.d(t,"t",(function(){return U})),r.d(t,"u",(function(){return c})),r.d(t,"v",(function(){return D})),r.d(t,"w",(function(){return j})),r.d(t,"x",(function(){return u})),r.d(t,"y",(function(){return P})),r.d(t,"z",(function(){return V})),r.d(t,"A",(function(){return n})),r.d(t,"B",(function(){return H})),r.d(t,"C",(function(){return i})),r.d(t,"D",(function(){return Y})),r.d(t,"E",(function(){return x})),r.d(t,"F",(function(){return A})),r.d(t,"G",(function(){return d})),r.d(t,"H",(function(){return T})),r.d(t,"I",(function(){return O})),r.d(t,"J",(function(){return R})),r.d(t,"K",(function(){return h})),r.d(t,"L",(function(){return E})),r.d(t,"M",(function(){return p})),r.d(t,"N",(function(){return S})),r.d(t,"O",(function(){return y})),r.d(t,"P",(function(){return v})),r.d(t,"Q",(function(){return b})),r.d(t,"R",(function(){return N})),r.d(t,"S",(function(){return _})),r.d(t,"T",(function(){return s})),r.d(t,"U",(function(){return B})),r.d(t,"V",(function(){return a})),r.d(t,"W",(function(){return w})),r.d(t,"X",(function(){return F})),r.d(t,"Y",(function(){return G}));var n=1e-30,i=4294967295,a=512,o=8,l=10,u=29,c=24,s=8,f={metrics:{width:15,height:17,left:0,top:-7,advance:14}},_=0,p=0,E=0,A=1,d=2,T=3,O=4,R=5,h=6,S=12,y=5,v=6,b=5,N=6,C=0,m=1,I=2,L=3,g=4,P=2,D=1,U=2,M=4,B=1.05,j=3,G=5,F=6,w=1.15,x=2,k=8,H=500,V=10,Y=1024,W=2,X=0,q=1,z=4,J=8,K=16,Q=4,Z=1,$=4},170:function(e,t,r){"use strict";var n,i,a,o,l,u,c,s,f,_,p,E,A,d,T,O,R,h,S,y,v,b,N,C,m,I,L,g,P,D,U,M,B,j,G,F,w,x,k,H,V,Y,W,X,q,z,J,K,Q,Z,$,ee,te,re,ne,ie,ae,oe,le,ue,ce;r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return p})),r.d(t,"c",(function(){return R})),r.d(t,"d",(function(){return O})),r.d(t,"e",(function(){return n})),r.d(t,"f",(function(){return l})),r.d(t,"g",(function(){return c})),r.d(t,"h",(function(){return s})),r.d(t,"i",(function(){return f})),r.d(t,"j",(function(){return y})),r.d(t,"k",(function(){return v})),r.d(t,"l",(function(){return b})),r.d(t,"m",(function(){return m})),r.d(t,"n",(function(){return g})),r.d(t,"o",(function(){return P})),r.d(t,"p",(function(){return i})),r.d(t,"q",(function(){return F})),r.d(t,"r",(function(){return w})),r.d(t,"s",(function(){return H})),r.d(t,"t",(function(){return q})),r.d(t,"u",(function(){return z})),r.d(t,"v",(function(){return J})),r.d(t,"w",(function(){return K})),r.d(t,"x",(function(){return ie})),r.d(t,"y",(function(){return ae})),r.d(t,"z",(function(){return le})),function(e){e[e.BUTT=0]="BUTT",e[e.ROUND=1]="ROUND",e[e.SQUARE=2]="SQUARE",e[e.UNKNOWN=4]="UNKNOWN"}(n||(n={})),function(e){e[e.BEVEL=0]="BEVEL",e[e.ROUND=1]="ROUND",e[e.MITER=2]="MITER",e[e.UNKNOWN=4]="UNKNOWN"}(i||(i={})),function(e){e[e.SCREEN=0]="SCREEN",e[e.MAP=1]="MAP"}(a||(a={})),function(e){e[e.Tint=0]="Tint",e[e.Ignore=1]="Ignore",e[e.Multiply=99]="Multiply"}(o||(o={})),function(e){e.Both="Both",e.JustBegin="JustBegin",e.JustEnd="JustEnd",e.None="None"}(l||(l={})),function(e){e[e.Mosaic=0]="Mosaic",e[e.Centered=1]="Centered"}(u||(u={})),function(e){e[e.Normal=0]="Normal",e[e.Superscript=1]="Superscript",e[e.Subscript=2]="Subscript"}(c||(c={})),function(e){e[e.MSSymbol=0]="MSSymbol",e[e.Unicode=1]="Unicode"}(s||(s={})),function(e){e[e.Unspecified=0]="Unspecified",e[e.TrueType=1]="TrueType",e[e.PSOpenType=2]="PSOpenType",e[e.TTOpenType=3]="TTOpenType",e[e.Type1=4]="Type1"}(f||(f={})),function(e){e[e.Display=0]="Display",e[e.Map=1]="Map"}(_||(_={})),function(e){e.None="None",e.Loop="Loop",e.Oscillate="Oscillate"}(p||(p={})),function(e){e[e.Z=0]="Z",e[e.X=1]="X",e[e.Y=2]="Y"}(E||(E={})),function(e){e[e.XYZ=0]="XYZ",e[e.ZXY=1]="ZXY",e[e.YXZ=2]="YXZ"}(A||(A={})),function(e){e[e.Rectangle=0]="Rectangle",e[e.RoundedRectangle=1]="RoundedRectangle",e[e.Oval=2]="Oval"}(d||(d={})),function(e){e[e.None=0]="None",e[e.Alpha=1]="Alpha",e[e.Screen=2]="Screen",e[e.Multiply=3]="Multiply",e[e.Add=4]="Add"}(T||(T={})),function(e){e[e.TTB=0]="TTB",e[e.RTL=1]="RTL",e[e.BTT=2]="BTT"}(O||(O={})),function(e){e[e.None=0]="None",e[e.SignPost=1]="SignPost",e[e.FaceNearPlane=2]="FaceNearPlane"}(R||(R={})),function(e){e[e.Float=0]="Float",e[e.String=1]="String",e[e.Boolean=2]="Boolean"}(h||(h={})),function(e){e[e.Intersect=0]="Intersect",e[e.Subtract=1]="Subtract"}(S||(S={})),function(e){e.OpenEnded="OpenEnded",e.Block="Block",e.Crossed="Crossed"}(y||(y={})),function(e){e.FullGeometry="FullGeometry",e.PerpendicularFromFirstSegment="PerpendicularFromFirstSegment",e.ReversedFirstSegment="ReversedFirstSegment",e.PerpendicularToSecondSegment="PerpendicularToSecondSegment",e.SecondSegmentWithTicks="SecondSegmentWithTicks",e.DoublePerpendicular="DoublePerpendicular",e.OppositeToFirstSegment="OppositeToFirstSegment",e.TriplePerpendicular="TriplePerpendicular",e.HalfCircleFirstSegment="HalfCircleFirstSegment",e.HalfCircleSecondSegment="HalfCircleSecondSegment",e.HalfCircleExtended="HalfCircleExtended",e.OpenCircle="OpenCircle",e.CoverageEdgesWithTicks="CoverageEdgesWithTicks",e.GapExtentWithDoubleTicks="GapExtentWithDoubleTicks",e.GapExtentMidline="GapExtentMidline",e.Chevron="Chevron",e.PerpendicularWithArc="PerpendicularWithArc",e.ClosedHalfCircle="ClosedHalfCircle",e.TripleParallelExtended="TripleParallelExtended",e.ParallelWithTicks="ParallelWithTicks",e.Parallel="Parallel",e.PerpendicularToFirstSegment="PerpendicularToFirstSegment",e.ParallelOffset="ParallelOffset",e.OffsetOpposite="OffsetOpposite",e.OffsetSame="OffsetSame",e.CircleWithArc="CircleWithArc",e.DoubleJog="DoubleJog",e.PerpendicularOffset="PerpendicularOffset",e.LineExcludingLastSegment="LineExcludingLastSegment",e.MultivertexArrow="MultivertexArrow",e.CrossedArrow="CrossedArrow",e.ChevronArrow="ChevronArrow",e.ChevronArrowOffset="ChevronArrowOffset",e.PartialFirstSegment="PartialFirstSegment",e.Arch="Arch",e.CurvedParallelTicks="CurvedParallelTicks",e.Arc90Degrees="Arc90Degrees"}(v||(v={})),function(e){e.Mitered="Mitered",e.Bevelled="Bevelled",e.Rounded="Rounded",e.Square="Square",e.TrueBuffer="TrueBuffer"}(b||(b={})),function(e){e.ClosePath="ClosePath",e.ConvexHull="ConvexHull",e.RectangularBox="RectangularBox"}(N||(N={})),function(e){e.BeginningOfLine="BeginningOfLine",e.EndOfLine="EndOfLine"}(C||(C={})),function(e){e.Mitered="Mitered",e.Bevelled="Bevelled",e.Rounded="Rounded",e.Square="Square"}(m||(m={})),function(e){e.Fast="Fast",e.Accurate="Accurate"}(I||(I={})),function(e){e.BeginningOfLine="BeginningOfLine",e.EndOfLine="EndOfLine"}(L||(L={})),function(e){e.Sinus="Sinus",e.Square="Square",e.Triangle="Triangle",e.Random="Random"}(g||(g={})),function(e){e[e.None=0]="None",e[e.Default=1]="Default",e[e.Force=2]="Force"}(P||(P={})),function(e){e[e.Buffered=0]="Buffered",e[e.Left=1]="Left",e[e.Right=2]="Right",e[e.AlongLine=3]="AlongLine"}(D||(D={})),function(e){e[e.Linear=0]="Linear",e[e.Rectangular=1]="Rectangular",e[e.Circular=2]="Circular",e[e.Buffered=3]="Buffered"}(U||(U={})),function(e){e[e.Discrete=0]="Discrete",e[e.Continuous=1]="Continuous"}(M||(M={})),function(e){e[e.AcrossLine=0]="AcrossLine",e[e.AloneLine=1]="AloneLine"}(B||(B={})),function(e){e[e.Left=0]="Left",e[e.Right=1]="Right",e[e.Center=2]="Center",e[e.Justify=3]="Justify"}(j||(j={})),function(e){e[e.Base=0]="Base",e[e.MidPoint=1]="MidPoint",e[e.ThreePoint=2]="ThreePoint",e[e.FourPoint=3]="FourPoint",e[e.Underline=4]="Underline",e[e.CircularCW=5]="CircularCW",e[e.CircularCCW=6]="CircularCCW"}(G||(G={})),function(e){e.Butt="Butt",e.Round="Round",e.Square="Square"}(F||(F={})),function(e){e.NoConstraint="NoConstraint",e.HalfPattern="HalfPattern",e.HalfGap="HalfGap",e.FullPattern="FullPattern",e.FullGap="FullGap",e.Custom="Custom"}(w||(w={})),function(e){e[e.None=-1]="None",e[e.Custom=0]="Custom",e[e.Circle=1]="Circle",e[e.OpenArrow=2]="OpenArrow",e[e.ClosedArrow=3]="ClosedArrow",e[e.Diamond=4]="Diamond"}(x||(x={})),function(e){e[e.ExtraLeading=0]="ExtraLeading",e[e.Multiple=1]="Multiple",e[e.Exact=2]="Exact"}(k||(k={})),function(e){e.Bevel="Bevel",e.Round="Round",e.Miter="Miter"}(H||(H={})),function(e){e[e.Default=0]="Default",e[e.String=1]="String",e[e.Numeric=2]="Numeric"}(V||(V={})),function(e){e[e.InsidePolygon=0]="InsidePolygon",e[e.PolygonCenter=1]="PolygonCenter",e[e.RandomlyInsidePolygon=2]="RandomlyInsidePolygon"}(Y||(Y={})),function(e){e[e.Tint=0]="Tint",e[e.Replace=1]="Replace",e[e.Multiply=2]="Multiply"}(W||(W={})),function(e){e[e.ClipAtBoundary=0]="ClipAtBoundary",e[e.RemoveIfCenterOutsideBoundary=1]="RemoveIfCenterOutsideBoundary",e[e.DoNotTouchBoundary=2]="DoNotTouchBoundary",e[e.DoNotClip=3]="DoNotClip"}(X||(X={})),function(e){e.NoConstraint="NoConstraint",e.WithMarkers="WithMarkers",e.WithFullGap="WithFullGap",e.WithHalfGap="WithHalfGap",e.Custom="Custom"}(q||(q={})),function(e){e.Fixed="Fixed",e.Random="Random",e.RandomFixedQuantity="RandomFixedQuantity"}(z||(z={})),function(e){e.LineMiddle="LineMiddle",e.LineBeginning="LineBeginning",e.LineEnd="LineEnd",e.SegmentMidpoint="SegmentMidpoint"}(J||(J={})),function(e){e.OnPolygon="OnPolygon",e.CenterOfMass="CenterOfMass",e.BoundingBoxCenter="BoundingBoxCenter"}(K||(K={})),function(e){e[e.Low=0]="Low",e[e.Medium=1]="Medium",e[e.High=2]="High"}(Q||(Q={})),function(e){e[e.MarkerCenter=0]="MarkerCenter",e[e.MarkerBounds=1]="MarkerBounds"}(Z||(Z={})),function(e){e[e.None=0]="None",e[e.PropUniform=1]="PropUniform",e[e.PropNonuniform=2]="PropNonuniform",e[e.DifUniform=3]="DifUniform",e[e.DifNonuniform=4]="DifNonuniform"}($||($={})),function(e){e.Tube="Tube",e.Strip="Strip",e.Wall="Wall"}(ee||(ee={})),function(e){e[e.Random=0]="Random",e[e.Increasing=1]="Increasing",e[e.Decreasing=2]="Decreasing",e[e.IncreasingThenDecreasing=3]="IncreasingThenDecreasing"}(te||(te={})),function(e){e[e.Relative=0]="Relative",e[e.Absolute=1]="Absolute"}(re||(re={})),function(e){e[e.Normal=0]="Normal",e[e.LowerCase=1]="LowerCase",e[e.Allcaps=2]="Allcaps"}(ne||(ne={})),function(e){e[e.LTR=0]="LTR",e[e.RTL=1]="RTL"}(ie||(ie={})),function(e){e.Draft="Draft",e.Picture="Picture",e.Text="Text"}(ae||(ae={})),function(e){e[e.Top=0]="Top",e[e.Center=1]="Center",e[e.Baseline=2]="Baseline",e[e.Bottom=3]="Bottom"}(oe||(oe={})),function(e){e[e.Right=0]="Right",e[e.Upright=1]="Upright"}(le||(le={})),function(e){e[e.Small=0]="Small",e[e.Medium=1]="Medium",e[e.Large=2]="Large"}(ue||(ue={})),function(e){e[e.Calm=0]="Calm",e[e.Rippled=1]="Rippled",e[e.Slight=2]="Slight",e[e.Moderate=3]="Moderate"}(ce||(ce={}))},213:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(143),i=r(142),a=Object(n.a)((function e(t,r,n,a,o){var l=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;Object(i.a)(this,e),this.name=t,this.count=r,this.type=n,this.offset=a,this.stride=o,this.normalized=l,this.divisor=u}))},520:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return a}));var n=r(5),i=r(296),a={type:i.a,json:{origins:{service:{read:{source:["tileInfo","minScale","maxScale","minLOD","maxLOD"],reader:o}}}}};function o(e,t,r,a){if(!e)return null;var o=t.minScale,l=t.maxScale,u=t.minLOD,c=t.maxLOD;if(null!=u&&null!=c)return a&&a.ignoreMinMaxLOD?i.a.fromJSON(e):i.a.fromJSON(Object(n.a)(Object(n.a)({},e),{},{lods:e.lods.filter((function(e){var t=e.level;return null!=t&&t>=u&&t<=c}))}));if(0!==o&&0!==l){var s=function(e){return Math.round(1e4*e)/1e4},f=o?s(o):1/0,_=l?s(l):-1/0;return i.a.fromJSON(Object(n.a)(Object(n.a)({},e),{},{lods:e.lods.filter((function(e){var t=s(e.scale);return t<=f&&t>=_}))}))}return i.a.fromJSON(e)}},532:function(e,t,r){"use strict";r.d(t,"a",(function(){return U}));var n,i=r(155),a=r(5),o=r(142),l=r(143),u=r(144),c=r(145),s=r(154),f=r.n(s),_=r(148),p=r(186),E=r(181),A=r(482),d=r(159),T=r(215),O=r(156),R=r(408),h=r(456),S=r(162),y=r(175),v=r(371),b=r(183),N=r(151),C=r(152),m=(r(147),r(248)),I=r(149),L=r(161),g=function(){function e(){Object(o.a)(this,e),this.location={left:0,top:0,width:0,height:0},this._allAvailability="unknown",this.byteSize=40}return Object(l.a)(e,[{key:"getAvailability",value:function(e,t){if("unknown"!==this._allAvailability)return this._allAvailability;var r=(e-this.location.top)*this.location.width+(t-this.location.left),n=r%8,i=r>>3,a=this._tileAvailabilityBitSet;return i<0||i>a.length?"unknown":a[i]&1<<n?"available":"unavailable"}},{key:"_updateFromData",value:function(e){for(var t=this.location.width,r=this.location.height,n=!0,i=!0,a=Math.ceil(t*r/8),o=new Uint8Array(a),l=0,u=0;u<e.length;u++){var c=u%8;e[u]?(i=!1,o[l]|=1<<c):n=!1,7===c&&++l}i?this._allAvailability="unavailable":n?this._allAvailability="available":(this._allAvailability="unknown",this._tileAvailabilityBitSet=o,this.byteSize+=o.length)}}],[{key:"fromDefinition",value:function(t,r){var n=t.service.request||p.default,i=t.row,o=t.col,l=t.width,u=t.height,c={query:{f:"json"}};return r=r?Object(a.a)(Object(a.a)({},c),r):c,n(function(e){var t;if("vector-tile"===e.service.type)t="".concat(e.service.url,"/tilemap/").concat(e.level,"/").concat(e.row,"/").concat(e.col,"/").concat(e.width,"/").concat(e.height);else{var r=e.service.tileServers;t="".concat(r&&r.length?r[e.row%r.length]:e.service.url,"/tilemap/").concat(e.level,"/").concat(e.row,"/").concat(e.col,"/").concat(e.width,"/").concat(e.height)}var n=e.service.query;return n&&(t="".concat(t,"?").concat(n)),t}(t),r).then((function(e){return e.data})).catch((function(e){if(e&&e.details&&422===e.details.httpStatus)return{location:{top:i,left:o,width:l,height:u},valid:!0,data:Object(C.b)(l*u,0)};throw e})).then((function(t){if(t.location&&(t.location.top!==i||t.location.left!==o||t.location.width!==l||t.location.height!==u))throw new d.a("tilemap:location-mismatch","Tilemap response for different location than requested",{response:t,definition:{top:i,left:o,width:l,height:u}});return e.fromJSON(t)}))}},{key:"fromJSON",value:function(t){e._validateJSON(t);var r=new e;return r.location=Object.freeze(Object(L.a)(t.location)),r._updateFromData(t.data),Object.freeze(r)}},{key:"_validateJSON",value:function(e){if(!e||!e.location)throw new d.a("tilemap:missing-location","Location missing from tilemap response");if(!1===e.valid)throw new d.a("tilemap:invalid","Tilemap response was marked as invalid");if(!e.data)throw new d.a("tilemap:missing-data","Data missing from tilemap response");if(!Array.isArray(e.data))throw new d.a("tilemap:data-mismatch","Data must be an array of numbers");if(e.data.length!==e.location.width*e.location.height)throw new d.a("tilemap:data-mismatch","Number of data items does not match width/height of tilemap")}}]),e}();function P(e){return"".concat(e.level,"/").concat(e.row,"/").concat(e.col,"/").concat(e.width,"/").concat(e.height)}var D=O.a.getLogger("esri.layers.support.TilemapCache"),U=n=function(e){Object(u.a)(r,e);var t=Object(c.a)(r);function r(e){var n;return Object(o.a)(this,r),(n=t.call(this,e))._pendingTilemapRequests={},n._availableLevels={},n.levels=5,n.cacheByteSize=2*A.a.MEGABYTES,n.request=p.default,n._prefetchingEnabled=!0,n}return Object(l.a)(r,[{key:"initialize",value:function(){var e=this;this._tilemapCache=new R.a(this.cacheByteSize),this.own([Object(y.e)((function(){var t=e.layer;return[null===t||void 0===t?void 0:t.parsedUrl,null===t||void 0===t?void 0:t.tileServers,null===t||void 0===t?void 0:t.apiKey,null===t||void 0===t?void 0:t.customParameters]}),(function(){return e._initializeTilemapDefinition()})),Object(y.e)((function(){var t,r;return null===(t=e.layer)||void 0===t||null===(r=t.tileInfo)||void 0===r?void 0:r.lods}),(function(t){return e._initializeAvailableLevels(t)}),y.d)]),this._initializeTilemapDefinition()}},{key:"castLevels",value:function(e){return e<=2?(D.error("Minimum levels for Tilemap is 3, but got ",e),3):e}},{key:"size",get:function(){return 1<<this.levels}},{key:"fetchTilemap",value:function(e,t,r,n){var i=this;if(!this._availableLevels[e])return Promise.reject(new d.a("tilemap-cache:level-unavailable","Level ".concat(e," is unavailable in the service")));var o=this._tmpTilemapDefinition,l=this._tilemapFromCache(e,t,r,o);if(l)return Promise.resolve(l);var u=n&&n.signal;return n=Object(a.a)(Object(a.a)({},n),{},{signal:null}),new Promise((function(e,t){Object(S.m)(u,(function(){return t(Object(S.b)())}));var r=P(o),a=i._pendingTilemapRequests[r];if(!a){a=g.fromDefinition(o,n).then((function(e){return i._tilemapCache.put(r,e,e.byteSize),e}));var l=function(){return delete i._pendingTilemapRequests[r]};i._pendingTilemapRequests[r]=a,a.then(l,l)}a.then(e,t)}))}},{key:"getAvailability",value:function(e,t,r){if(!this._availableLevels[e])return"unavailable";var n=this._tilemapFromCache(e,t,r,this._tmpTilemapDefinition);return n?n.getAvailability(t,r):"unknown"}},{key:"fetchAvailability",value:function(e,t,r,n){return this._availableLevels[e]?this.fetchTilemap(e,t,r,n).catch((function(e){return e})).then((function(n){if(n instanceof g){var i=n.getAvailability(t,r);if("unavailable"===i)throw new d.a("tile-map:tile-unavailable","Tile is not available",{level:e,row:t,col:r});return i}if(Object(S.j)(n))throw n;return"unknown"})):Promise.reject(new d.a("tilemap-cache:level-unavailable","Level ".concat(e," is unavailable in the service")))}},{key:"fetchAvailabilityUpsample",value:function(e,t,r,n,i){var a=this;n.level=e,n.row=t,n.col=r;var o=this.layer.tileInfo;o.updateTileInfo(n);var l=this.fetchAvailability(e,t,r,i).catch((function(e){if(Object(S.j)(e))throw e;if(o.upsampleTile(n))return a.fetchAvailabilityUpsample(n.level,n.row,n.col,n);throw e}));return this._fetchAvailabilityUpsamplePrefetch(n.id,e,t,r,i,l),l}},{key:"_fetchAvailabilityUpsamplePrefetch",value:function(){var e=Object(i.a)(f.a.mark((function e(t,r,i,o,l,u){var c,s,_,p,E,A,d,T,O,R=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._prefetchingEnabled){e.next=2;break}return e.abrupt("return");case 2:if(c="prefetch-".concat(t),!this.handles.has(c)){e.next=5;break}return e.abrupt("return");case 5:return s=new AbortController,u.then((function(){return s.abort()}),(function(){return s.abort()})),_=!1,p={remove:function(){_||(_=!0,s.abort())}},this.handles.add(p,c),e.next=12,Object(v.c)(10,s.signal).catch((function(){}));case 12:if(_||(_=!0,this.handles.remove(c)),!Object(S.k)(s)){e.next=15;break}return e.abrupt("return");case 15:for(E={id:t,level:r,row:i,col:o},A=Object(a.a)(Object(a.a)({},l),{},{signal:s.signal}),d=this.layer.tileInfo,T=function(e){var t=R.fetchAvailability(E.level,E.row,E.col,A);n._prefetches.push(t);var r=function(){n._prefetches.removeUnordered(t)};t.then(r,r)},O=0;n._prefetches.length<n._maxPrefetch&&d.upsampleTile(E);++O)T();case 18:case"end":return e.stop()}}),e,this)})));return function(t,r,n,i,a,o){return e.apply(this,arguments)}}()},{key:"_initializeTilemapDefinition",value:function(){var e;if(this.layer.parsedUrl){var t=this.layer,r=t.parsedUrl,n=t.apiKey,i=t.customParameters;this._tilemapCache.clear(),this._tmpTilemapDefinition={service:{url:r.path,query:Object(b.G)(Object(a.a)(Object(a.a)(Object(a.a)({},r.query),i),{},{token:null!==n&&void 0!==n?n:null===(e=r.query)||void 0===e?void 0:e.token})),tileServers:this.layer.tileServers,request:this.request,type:this.layer.type},width:this.size,height:this.size,level:0,row:0,col:0}}}},{key:"_tilemapFromCache",value:function(e,t,r,n){n.level=e,n.row=t-t%this.size,n.col=r-r%this.size;var i=P(n);return this._tilemapCache.get(i)}},{key:"_initializeAvailableLevels",value:function(e){var t=this;this._availableLevels={},e&&e.forEach((function(e){return t._availableLevels[e.level]=!0}))}},{key:"test",get:function(){var e=this;return{get prefetchingEnabled(){return e._prefetchingEnabled},set prefetchingEnabled(t){e._prefetchingEnabled=t},hasTilemap:function(t,r,n){return!!e._tilemapFromCache(t,r,n,e._tmpTilemapDefinition)}}}}]),r}(Object(T.b)(E.a));U._maxPrefetch=4,U._prefetches=new h.a({initialSize:n._maxPrefetch}),Object(_.a)([Object(N.b)({constructOnly:!0,type:Number})],U.prototype,"levels",void 0),Object(_.a)([Object(m.a)("levels")],U.prototype,"castLevels",null),Object(_.a)([Object(N.b)({readOnly:!0,type:Number})],U.prototype,"size",null),Object(_.a)([Object(N.b)({constructOnly:!0,type:Number})],U.prototype,"cacheByteSize",void 0),Object(_.a)([Object(N.b)({constructOnly:!0})],U.prototype,"layer",void 0),Object(_.a)([Object(N.b)({constructOnly:!0})],U.prototype,"request",void 0),U=n=Object(_.a)([Object(I.a)("esri.layers.support.TilemapCache")],U)},627:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return o}));var n=r(183),i=r(276);function a(e){return{origin:"portal-item",url:Object(n.M)(e.itemUrl),portal:e.portal||i.a.getDefault(),portalItem:e,readResourcePaths:[]}}function o(e){return{origin:"portal-item",messages:[],writtenProperties:[],url:e.itemUrl?Object(n.M)(e.itemUrl):null,portal:e.portal||i.a.getDefault(),portalItem:e}}},628:function(e,t,r){"use strict";r.d(t,"a",(function(){return E}));var n=r(142),i=r(143),a=r(144),o=r(145),l=r(148),u=(r(177),r(151)),c=(r(152),r(147),r(150),r(189)),s=r(149),f=r(520),_=r(532),p=r(185),E=function(e){var t=function(e){Object(a.a)(r,e);var t=Object(o.a)(r);function r(){var e;return Object(n.a)(this,r),(e=t.apply(this,arguments)).copyright=null,e.minScale=0,e.maxScale=0,e.spatialReference=null,e.tileInfo=null,e.tilemapCache=null,e}return Object(i.a)(r,[{key:"readMinScale",value:function(e,t){return null!=t.minLOD&&null!=t.maxLOD?e:0}},{key:"readMaxScale",value:function(e,t){return null!=t.minLOD&&null!=t.maxLOD?e:0}},{key:"supportsBlankTile",get:function(){return this.version>=10.2}},{key:"readTilemapCache",value:function(e,t){return t.capabilities&&t.capabilities.includes("Tilemap")?new _.a({layer:this}):null}}]),r}(e);return Object(l.a)([Object(u.b)({json:{read:{source:"copyrightText"}}})],t.prototype,"copyright",void 0),Object(l.a)([Object(u.b)()],t.prototype,"minScale",void 0),Object(l.a)([Object(c.a)("service","minScale")],t.prototype,"readMinScale",null),Object(l.a)([Object(u.b)()],t.prototype,"maxScale",void 0),Object(l.a)([Object(c.a)("service","maxScale")],t.prototype,"readMaxScale",null),Object(l.a)([Object(u.b)({type:p.a})],t.prototype,"spatialReference",void 0),Object(l.a)([Object(u.b)({readOnly:!0})],t.prototype,"supportsBlankTile",null),Object(l.a)([Object(u.b)(f.b)],t.prototype,"tileInfo",void 0),Object(l.a)([Object(u.b)()],t.prototype,"tilemapCache",void 0),Object(l.a)([Object(c.a)("service","tilemapCache",["capabilities"])],t.prototype,"readTilemapCache",null),Object(l.a)([Object(u.b)()],t.prototype,"version",void 0),t=Object(l.a)([Object(s.a)("esri.layers.mixins.ArcGISCachedService")],t)}}}]);