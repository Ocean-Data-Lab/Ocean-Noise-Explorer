(this["webpackJsonpmatx-react-pro"]=this["webpackJsonpmatx-react-pro"]||[]).push([[116],{1069:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return G}));var r=n(155),i=n(142),a=n(143),o=n(144),c=n(145),s=n(154),l=n.n(s),u=n(148),b=n(60),p=n(181),j=n(239),O=n(277),y=n(160),f=n(146),v=n(151),d=(n(152),n(147),n(150),n(149)),h=0,g=function(t){Object(o.a)(n,t);var e=Object(c.a)(n);function n(t){var r;return Object(i.a)(this,n),(r=e.call(this,t)).id="".concat(Date.now().toString(16),"-analysis-").concat(h++),r.title=null,r}return Object(a.a)(n,[{key:"parent",get:function(){return this._get("parent")},set:function(t){var e=this.parent;if(Object(f.k)(e))switch(e.type){case"line-of-sight":e.removeAnalysis(this);break;case"2d":case"3d":e.analyses.includes(this)&&e.analyses.remove(this)}this._set("parent",t)}},{key:"isEditable",get:function(){return this.requiredPropertiesForEditing.every(f.k)}}]),n}(Object(y.b)(Object(j.b)(Object(O.a)(p.a))));Object(u.a)([Object(v.b)({type:String,constructOnly:!0,clonable:!1})],g.prototype,"id",void 0),Object(u.a)([Object(v.b)({type:String})],g.prototype,"title",void 0),Object(u.a)([Object(v.b)({constructOnly:!0})],g.prototype,"type",void 0),Object(u.a)([Object(v.b)({clonable:!1,value:null})],g.prototype,"parent",null),Object(u.a)([Object(v.b)({readOnly:!0})],g.prototype,"extent",void 0),Object(u.a)([Object(v.b)({readOnly:!0})],g.prototype,"isEditable",null),Object(u.a)([Object(v.b)({readOnly:!0})],g.prototype,"requiredPropertiesForEditing",void 0),Object(u.a)([Object(v.b)({readOnly:!0})],g.prototype,"nonEditableMessage",void 0);var m=g=Object(u.a)([Object(d.a)("esri.analysis.Analysis")],g);function k(t,e){return w(t)===w(e)}function w(t){if(Object(f.j)(t))return null;var e,n=null!=t.layer?t.layer.id:"";return null==(e=null!=t.objectId?t.objectId:null!=t.layer&&"objectIdField"in t.layer&&null!=t.layer.objectIdField&&null!=t.attributes?t.attributes[t.layer.objectIdField]:t.uid)?null:"o-".concat(n,"-").concat(e)}var I={json:{write:{writer:function(t,e){var n;Object(f.j)(t)||null==(null===(n=t.layer)||void 0===n?void 0:n.objectIdField)||null==t.attributes||(e.feature={layerId:t.layer.id,objectId:t.attributes[t.layer.objectIdField]})},target:{"feature.layerId":{type:[Number,String]},"feature.objectId":{type:[Number,String]}}},origins:{"web-scene":{read:function(t){if(null!=t.layerId&&null!=t.objectId)return{uid:null,layer:{id:t.layerId,objectIdField:"ObjectId"},attributes:{ObjectId:t.objectId}}}}}}};var x=n(560),E=n(197),S=n(602),F=function(t){Object(o.a)(n,t);var e=Object(c.a)(n);function n(t){var r;return Object(i.a)(this,n),(r=e.call(this,t)).position=null,r.elevationInfo=null,r.feature=null,r}return Object(a.a)(n,[{key:"equals",value:function(t){return Object(f.f)(this.position,t.position)&&Object(f.f)(this.elevationInfo,t.elevationInfo)&&k(this.feature,t.feature)}}]),n}(Object(y.b)(Object(j.b)(p.a)));Object(u.a)([Object(v.b)({type:E.a}),Object(x.a)()],F.prototype,"position",void 0),Object(u.a)([Object(v.b)({type:S.a}),Object(x.a)()],F.prototype,"elevationInfo",void 0),Object(u.a)([Object(v.b)(I)],F.prototype,"feature",void 0);var R=F=Object(u.a)([Object(d.a)("esri.analysis.LineOfSightAnalysisObserver")],F),z=function(t){Object(o.a)(n,t);var e=Object(c.a)(n);function n(t){var r;return Object(i.a)(this,n),(r=e.call(this,t)).position=null,r.elevationInfo=null,r.feature=null,r}return Object(a.a)(n,[{key:"equals",value:function(t){return Object(f.f)(this.position,t.position)&&Object(f.f)(this.elevationInfo,t.elevationInfo)&&k(this.feature,t.feature)}}]),n}(Object(y.b)(j.a));Object(u.a)([Object(v.b)({type:E.a}),Object(x.a)()],z.prototype,"position",void 0),Object(u.a)([Object(v.b)({type:S.a}),Object(x.a)()],z.prototype,"elevationInfo",void 0),Object(u.a)([Object(v.b)(I)],z.prototype,"feature",void 0);var L=z=Object(u.a)([Object(d.a)("esri.analysis.LineOfSightAnalysisTarget")],z),P=n(194),A=n(294),U=n(175),_=n(256),q=n(420);n(1004);function N(t,e){return function(t,e){return Object(f.j)(e)||!e.mode?t?"absolute-height":"on-the-ground":e.mode}(!!Object(f.k)(t)&&t.hasZ,e)}var T=P.a.ofType(L),J=function(t){Object(o.a)(n,t);var e=Object(c.a)(n);function n(t){var r;return Object(i.a)(this,n),(r=e.call(this,t)).type="line-of-sight",r.observer=null,r.extent=null,r.nonEditableMessage="Assign an observer location to the analysis to allow editing.",r}return Object(a.a)(n,[{key:"initialize",value:function(){var t=this;this.own(Object(U.e)((function(){return t._computeExtent()}),(function(e){(Object(f.j)(e)||Object(f.j)(e.pending))&&t._set("extent",Object(f.k)(e)?e.extent:null)}),U.d))}},{key:"targets",get:function(){return this._get("targets")||new T},set:function(t){this._set("targets",Object(A.b)(t,this.targets,T))}},{key:"spatialReference",get:function(){return Object(f.k)(this.observer)&&Object(f.k)(this.observer.position)?this.observer.position.spatialReference:null}},{key:"requiredPropertiesForEditing",get:function(){return[Object(f.b)(this.observer,(function(t){return t.position}))]}},{key:"waitComputeExtent",value:function(){var t=Object(r.a)(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this._computeExtent(),t.abrupt("return",Object(f.k)(e)?Object(f.q)(e.pending):null);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"_computeExtent",value:function(){var t=this.spatialReference;if(Object(f.j)(this.observer)||Object(f.j)(this.observer.position)||Object(f.j)(t))return null;var e,n=function(t){return"absolute-height"===N(t.position,t.elevationInfo)},r=this.observer.position,i=Object(q.i)(r.x,r.y,r.z,r.x,r.y,r.z),a=Object(b.a)(this.targets);try{for(a.s();!(e=a.n()).done;){var o=e.value;if(Object(f.k)(o.position)){var c=Object(_.j)(o.position,t);if(Object(f.k)(c.pending))return{pending:c.pending,extent:null};if(Object(f.k)(c.geometry)){var s=c.geometry,l=s.x,u=s.y,p=s.z;Object(q.g)(i,[l,u,p])}}}}catch(O){a.e(O)}finally{a.f()}var j=Object(q.n)(i,t);return n(this.observer)&&this.targets.every(n)||(j.zmin=null,j.zmax=null),{pending:null,extent:j}}},{key:"clear",value:function(){this.observer=null,this.targets.removeAll()}}]),n}(m);Object(u.a)([Object(v.b)({type:["line-of-sight"]})],J.prototype,"type",void 0),Object(u.a)([Object(v.b)({type:R,json:{read:!0,write:!0}})],J.prototype,"observer",void 0),Object(u.a)([Object(v.b)({cast:A.a,type:T,nonNullable:!0,json:{read:!0,write:!0}})],J.prototype,"targets",null),Object(u.a)([Object(v.b)({value:null,readOnly:!0})],J.prototype,"extent",void 0),Object(u.a)([Object(v.b)({readOnly:!0})],J.prototype,"spatialReference",null),Object(u.a)([Object(v.b)({readOnly:!0})],J.prototype,"requiredPropertiesForEditing",null),Object(u.a)([Object(v.b)({readOnly:!0})],J.prototype,"nonEditableMessage",void 0);var M=J=Object(u.a)([Object(d.a)("esri.analysis.LineOfSightAnalysis")],J),B=n(272),C=n(286),D=n(304),K=P.a.ofType(L),Z=function(t){Object(o.a)(n,t);var e=Object(c.a)(n);function n(t){var r;return Object(i.a)(this,n),(r=e.call(this,t)).type="line-of-sight",r.operationalLayerType="LineOfSightLayer",r.analysis=new M,r.opacity=1,r}return Object(a.a)(n,[{key:"initialize",value:function(){var t=this;this.own(Object(U.e)((function(){return t.analysis}),(function(e,n){Object(f.k)(n)&&n.parent===t&&(n.parent=null),Object(f.k)(e)&&(e.parent=t)}),U.d))}},{key:"load",value:function(){var t=Object(r.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(Object(f.k)(this.analysis)&&this.addResolvingPromise(this.analysis.waitComputeExtent()),this));case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"observer",get:function(){return Object(f.b)(this.analysis,(function(t){return t.observer}))},set:function(t){Object(f.b)(this.analysis,(function(e){return e.observer=t}))}},{key:"targets",get:function(){return Object(f.k)(this.analysis)?this.analysis.targets:null},set:function(t){Object(f.b)(this.analysis,(function(e){return e.targets=t}))}},{key:"fullExtent",get:function(){return Object(f.k)(this.analysis)?this.analysis.extent:null}},{key:"spatialReference",get:function(){return Object(f.k)(this.analysis)?this.analysis.spatialReference:null}},{key:"removeAnalysis",value:function(t){this.analysis===t&&(this.analysis=new M)}}]),n}(Object(D.a)(Object(B.a)(C.a)));Object(u.a)([Object(v.b)({json:{read:!1},readOnly:!0})],Z.prototype,"type",void 0),Object(u.a)([Object(v.b)({type:["LineOfSightLayer"]})],Z.prototype,"operationalLayerType",void 0),Object(u.a)([Object(v.b)({type:R,json:{read:!0,write:{ignoreOrigin:!0}}})],Z.prototype,"observer",null),Object(u.a)([Object(v.b)({type:K,json:{read:!0,write:{ignoreOrigin:!0}}})],Z.prototype,"targets",null),Object(u.a)([Object(v.b)({nonNullable:!0,json:{read:!1,write:!1}})],Z.prototype,"analysis",void 0),Object(u.a)([Object(v.b)({readOnly:!0})],Z.prototype,"fullExtent",null),Object(u.a)([Object(v.b)({readOnly:!0})],Z.prototype,"spatialReference",null),Object(u.a)([Object(v.b)({readOnly:!0,json:{read:!1,write:!1,origins:{service:{read:!1,write:!1},"portal-item":{read:!1,write:!1},"web-document":{read:!1,write:!1}}}})],Z.prototype,"opacity",void 0),Object(u.a)([Object(v.b)({type:["show","hide"]})],Z.prototype,"listMode",void 0);var G=Z=Object(u.a)([Object(d.a)("esri.layers.LineOfSightLayer")],Z)},560:function(t,e,n){"use strict";n.d(e,"a",(function(){return k}));var r=n(155),i=n(5),a=n(60),o=n(154),c=n.n(o),s=n(146),l=n(701),u=n(183),b=n(580),p=n(515),j=n(361),O=n(151);function y(t){return f[function(t){return t instanceof Blob?t.type:function(t){var e=Object(u.p)(t);return h[e]||v}(t.url)}(t)]||d}var f={},v="text/plain",d=f[v],h={png:"image/png",jpeg:"image/jpeg",jpg:"image/jpg",bmp:"image/bmp",gif:"image/gif",json:"application/json",txt:"text/plain",xml:"application/xml",svg:"image/svg+xml",zip:"application/zip",pbf:"application/vnd.mapbox-vector-tile",gz:"application/gzip"};for(var g in h)f[h[g]]=g;var m=n(287);function k(t){var e=Object(s.k)(t)&&t.origins?t.origins:[void 0];return function(n,r){var o,c=function(t,e,n){if(Object(s.k)(t)&&"resource"===t.type)return function(t,e,n){var r=Object(p.b)(e,n);return{type:String,read:function(t,e,n){var i=Object(m.f)(t,e,n);return r.type===String?i:"function"==typeof r.type?new r.type({url:i}):void 0},write:{writer:function(e,a,o,c){if(!c||!c.resources)return"string"==typeof e?void(a[o]=Object(m.g)(e,c)):void(a[o]=e.write({},c));var b=function(t){return Object(s.j)(t)?null:"string"==typeof t?t:t.url}(e),p=b?Object(m.g)(b,Object(i.a)(Object(i.a)({},c),{},{verifyItemRelativeUrls:c&&c.verifyItemRelativeUrls?{writtenUrls:c.verifyItemRelativeUrls.writtenUrls,rootPath:null}:null}),m.a.NO):null,O=r.type!==String&&(!Object(l.a)(this)||c&&c.origin&&this.originIdOf(n)>Object(j.e)(c.origin));c&&c.portalItem&&Object(s.k)(p)&&!Object(u.u)(p)?O?function(t,e,n,r,i,a,o,c){var s=o.portalItem.resourceFromPath(r),l=x(n,r,o);y(l)===Object(u.p)(s.path)?(I(t,e,s,l,o.resources.toUpdate),i[a]=r):w(t,e,n,r,i,a,o,c)}(this,n,e,p,a,o,c,t):function(t,e,n,r){r.resources.toKeep.push({resource:r.portalItem.resourceFromPath(t)}),e[n]=t}(p,a,o,c):c&&c.portalItem&&(Object(s.j)(p)||Object(s.k)(Object(m.d)(p))||Object(u.v)(p)||O)?w(this,n,e,p,a,o,c,t):a[o]=p}}}}(t,e,n);switch(Object(s.k)(t)&&t.type?t.type:"other"){case"other":return{read:!0,write:!0};case"url":return{read:m.e.read,write:m.e.write}}}(t,n,r),b=Object(a.a)(e);try{for(b.s();!(o=b.n()).done;){var f=o.value,v=Object(O.c)(n,f,r);for(var d in c)v[d]=c[d]}}catch(h){b.e(h)}finally{b.f()}}}function w(t,e,n,r,i,a,o,c){var l=Object(b.a)(),p=x(n,r,o),j=Object(u.B)(Object(s.i)(c,"prefix"),l),O="".concat(j,".").concat(y(p)),f=o.portalItem.resourceFromPath(O);Object(u.v)(r)&&o.resources.pendingOperations.push(function(t){return E.apply(this,arguments)}(r).then((function(t){f.path="".concat(j,".").concat(y(t)),i[a]=f.itemRelativeUrl})).catch((function(){}))),I(t,e,f,p,o.resources.toAdd),i[a]=f.itemRelativeUrl}function I(t,e,n,r,i){i.push({resource:n,content:r,finish:function(n){!function(t,e,n){"string"==typeof t[e]?t[e]=n.url:t[e].url=n.url}(t,e,n)}})}function x(t,e,n){return"string"==typeof t?{url:e}:new Blob([JSON.stringify(t.toJSON(n))],{type:"application/json"})}function E(){return(E=Object(r.a)(c.a.mark((function t(e){var r,i,a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.resolve().then(n.bind(null,186));case 2:return r=t.sent.default,t.next=5,r(e,{responseType:"blob"});case 5:return i=t.sent,a=i.data,t.abrupt("return",a);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=116.5e567c1b.chunk.js.map