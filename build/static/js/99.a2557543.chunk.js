(this["webpackJsonpmatx-react-pro"]=this["webpackJsonpmatx-react-pro"]||[]).push([[99],{1207:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return E}));var r=n(5),a=n(60),i=n(155),s=n(142),u=n(143),o=n(154),c=n.n(o),l=n(186),p=n(159),d=n(156),f=n(146),h=n(162),y=n(168),b=n(182),v=n(189),g=n(674),m=n(278),j=n(551),O=n(488),x=n(389),k=n(642),w=n(330),_=n(546),I=n(238),F={hasAttachments:!1,capabilities:"query, editing, create, delete, update",useStandardizedQueries:!0,supportsCoordinatesQuantization:!0,supportsReturningQueryGeometry:!0,advancedQueryCapabilities:{supportsQueryAttachments:!1,supportsStatistics:!0,supportsPercentileStatistics:!0,supportsReturningGeometryCentroid:!0,supportsQueryWithDistance:!0,supportsDistinct:!0,supportsReturningQueryExtent:!0,supportsReturningGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQueryWithResultType:!1,supportsSqlExpression:!0,supportsDisjointSpatialRel:!0}},E=function(){function e(){var t=this;Object(s.a)(this,e),this._queryEngine=null,this._snapshotFeatures=function(){var e=Object(i.a)(c.a.mark((function e(n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._fetch(n);case 2:return r=e.sent,e.abrupt("return",t._createFeatures(r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}return Object(u.a)(e,[{key:"destroy",value:function(){var e;null!==(e=this._queryEngine)&&void 0!==e&&e.destroy(),this._queryEngine=this._fieldsIndex=this._createDefaultAttributes=null}},{key:"load",value:function(){var e=Object(i.a)(c.a.mark((function e(t){var n,i,s,u,o,l,d,f,h,y,v,m,k,E,T,S,q,P,R,G,C,A,M,D,Q,Z,N,z=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=z.length>1&&void 0!==z[1]?z[1]:{},this.loadOptions={url:t.url,customParameters:t.customParameters},i=[],e.next=5,this._checkProjection(t.spatialReference);case 5:if(s=null,e.t0=t.url,!e.t0){e.next=11;break}return e.next=10,this._fetch(null===n||void 0===n?void 0:n.signal);case 10:s=e.sent;case 11:u=Object(O.c)(s,{geometryType:t.geometryType}),o=t.fields||u.fields||[],l=null!=t.hasZ?t.hasZ:u.hasZ,d=u.geometryType,f=t.objectIdField||u.objectIdFieldName||"__OBJECTID",h=t.spatialReference||b.b,y=t.timeInfo,o===u.fields&&u.unknownFields.length>0&&i.push({name:"geojson-layer:unknown-field-types",message:"Some fields types couldn't be inferred from the features and were dropped",details:{unknownFields:u.unknownFields}}),v=o.find((function(e){return e.name===f})),v?("esriFieldTypeString"!==v.type&&(v.type="esriFieldTypeOID"),v.editable=!1,v.nullable=!1):(v={alias:f,name:f,type:"string"===u.objectIdFieldType?"esriFieldTypeString":"esriFieldTypeOID",editable:!1,nullable:!1},o.unshift(v)),m={},k=Object(a.a)(o),e.prev=18,k.s();case 20:if((E=k.n()).done){e.next=29;break}if(null==(T=E.value).name&&(T.name=T.alias),null==T.alias&&(T.alias=T.name),T.name){e.next=24;break}throw new p.a("geojson-layer:invalid-field-name","field name is missing",{field:T});case 24:if(_.a.jsonValues.includes(T.type)){e.next=26;break}throw new p.a("geojson-layer:invalid-field-type",'invalid type for field "'.concat(T.name,'"'),{field:T});case 26:T.name!==v.name&&void 0!==(S=Object(I.o)(T))&&(m[T.name]=S);case 27:e.next=20;break;case 29:e.next=34;break;case 31:e.prev=31,e.t1=e.catch(18),k.e(e.t1);case 34:return e.prev=34,k.f(),e.finish(34);case 37:return this._fieldsIndex=new w.a(o),(q=this._fieldsIndex.requiredFields.indexOf(v))>-1&&this._fieldsIndex.requiredFields.splice(q,1),y&&(y.startTimeField&&((P=this._fieldsIndex.get(y.startTimeField))?(y.startTimeField=P.name,P.type="esriFieldTypeDate"):y.startTimeField=null),y.endTimeField&&((R=this._fieldsIndex.get(y.endTimeField))?(y.endTimeField=R.name,R.type="esriFieldTypeDate"):y.endTimeField=null),y.trackIdField&&((G=this._fieldsIndex.get(y.trackIdField))?y.trackIdField=G.name:(y.trackIdField=null,i.push({name:"geojson-layer:invalid-timeInfo-trackIdField",message:"trackIdField is missing",details:{timeInfo:y}}))),y.startTimeField||y.endTimeField||(i.push({name:"geojson-layer:invalid-timeInfo",message:"startTimeField and endTimeField are missing",details:{timeInfo:y}}),y=null)),C=d?Object(x.d)(d):null,A={warnings:i,featureErrors:[],layerDefinition:Object(r.a)(Object(r.a)({},F),{},{drawingInfo:C,templates:Object(x.c)(m),extent:null,geometryType:d,objectIdField:f,fields:o,hasZ:!!l,timeInfo:y})},this._queryEngine=new j.a({fields:o,geometryType:d,hasM:!1,hasZ:l,objectIdField:f,spatialReference:h,timeInfo:y,featureStore:new g.a({geometryType:d,hasM:!1,hasZ:l}),cacheSpatialQueries:!0}),this._createDefaultAttributes=Object(x.b)(m,f),e.next=44,this._createFeatures(s);case 44:return M=e.sent,this._objectIdGenerator=this._createObjectIdGenerator(this._queryEngine,M),D=this._normalizeFeatures(M,A.warnings,A.featureErrors),this._queryEngine.featureStore.addMany(D),A.layerDefinition.extent=this._queryEngine.fullExtent,A.layerDefinition.timeInfo&&(Q=this._queryEngine.timeExtent,Z=Q.start,N=Q.end,A.layerDefinition.timeInfo.timeExtent=[Z,N]),e.abrupt("return",A);case 49:case"end":return e.stop()}}),e,this,[[18,31,34,37]])})));return function(t){return e.apply(this,arguments)}}()},{key:"applyEdits",value:function(){var e=Object(i.a)(c.a.mark((function e(t){var n,r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._queryEngine,r=n.spatialReference,a=n.geometryType,e.next=3,Promise.all([Object(k.c)(r,a),Object(m.a)(t.adds,r),Object(m.a)(t.updates,r)]);case 3:return e.next=5,this._waitSnapshotComplete();case 5:return e.abrupt("return",this._applyEdits(t));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queryFeatures",value:function(){var e=Object(i.a)(c.a.mark((function e(){var t,n,r=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=4,this._waitSnapshotComplete();case 4:return e.abrupt("return",this._queryEngine.executeQuery(t,n.signal));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"queryFeatureCount",value:function(){var e=Object(i.a)(c.a.mark((function e(){var t,n,r=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=4,this._waitSnapshotComplete();case 4:return e.abrupt("return",this._queryEngine.executeQueryForCount(t,n.signal));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"queryObjectIds",value:function(){var e=Object(i.a)(c.a.mark((function e(){var t,n,r=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=4,this._waitSnapshotComplete();case 4:return e.abrupt("return",this._queryEngine.executeQueryForIds(t,n.signal));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"queryExtent",value:function(){var e=Object(i.a)(c.a.mark((function e(){var t,n,r=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=4,this._waitSnapshotComplete();case 4:return e.abrupt("return",this._queryEngine.executeQueryForExtent(t,n.signal));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"querySnapping",value:function(){var e=Object(i.a)(c.a.mark((function e(t){var n,r=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=3,this._waitSnapshotComplete();case 3:return e.abrupt("return",this._queryEngine.executeQueryForSnapping(t,n.signal));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"refresh",value:function(){var e=Object(i.a)(c.a.mark((function e(t){var n,r=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loadOptions.customParameters=t,null!==(n=this._snapshotTask)&&void 0!==n&&n.abort(),this._snapshotTask=Object(h.e)(this._snapshotFeatures),this._snapshotTask.promise.then((function(e){r._queryEngine.featureStore.clear(),r._objectIdGenerator=r._createObjectIdGenerator(r._queryEngine,e);var t=r._normalizeFeatures(e);t&&r._queryEngine.featureStore.addMany(t)}),(function(e){r._queryEngine.featureStore.clear(),Object(h.j)(e)||d.a.getLogger("esri.layers.GeoJSONLayer").error(new p.a("geojson-layer:refresh","An error occurred during refresh",{error:e}))})),e.next=6,this._waitSnapshotComplete();case 6:return e.abrupt("return",{extent:this._queryEngine.fullExtent,timeExtent:this._queryEngine.timeExtent});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_createFeatures",value:function(){var e=Object(i.a)(c.a.mark((function e(t){var n,r,i,s,u,o,l,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this._queryEngine,r=n.geometryType,i=n.hasZ,s=n.objectIdField,u=Object(O.a)(t,{geometryType:r,hasZ:i,objectIdField:s}),!Object(b.d)(this._queryEngine.spatialReference,b.b)){o=Object(a.a)(u);try{for(o.s();!(l=o.n()).done;)p=l.value,Object(f.k)(p.geometry)&&(p.geometry=Object(v.d)(Object(m.b)(Object(v.k)(p.geometry,this._queryEngine.geometryType,this._queryEngine.hasZ,!1),b.b,this._queryEngine.spatialReference)))}catch(c){o.e(c)}finally{o.f()}}return e.abrupt("return",u);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_waitSnapshotComplete",value:function(){var e=Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._snapshotTask||this._snapshotTask.finished){e.next=9;break}return e.prev=1,e.next=4,this._snapshotTask.promise;case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:return e.abrupt("return",this._waitSnapshotComplete());case 9:case"end":return e.stop()}}),e,this,[[1,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"_fetch",value:function(){var e=Object(i.a)(c.a.mark((function e(t){var n,a,i,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.loadOptions,a=n.url,i=n.customParameters,e.next=5,Object(l.default)(a,{responseType:"json",query:Object(r.a)({},i),signal:t});case 5:return s=e.sent.data,e.next=8,Object(O.d)(s);case 8:return e.abrupt("return",s);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_normalizeFeatures",value:function(e,t,n){var r,i=this._queryEngine.objectIdField,s=[],u=Object(a.a)(e);try{for(u.s();!(r=u.n()).done;){var o=r.value,c=this._createDefaultAttributes(),l=Object(k.d)(this._fieldsIndex,c,o.attributes,!0,t);l?null===n||void 0===n||n.push(l):(this._assignObjectId(c,o.attributes,!0),o.attributes=c,o.objectId=c[i],s.push(o))}}catch(p){u.e(p)}finally{u.f()}return s}},{key:"_applyEdits",value:function(e){var t=e.adds,n=e.updates,r=e.deletes,i={addResults:[],deleteResults:[],updateResults:[],uidToObjectId:{}};if(t&&t.length&&this._applyAddEdits(i,t),n&&n.length&&this._applyUpdateEdits(i,n),r&&r.length){var s,u=Object(a.a)(r);try{for(u.s();!(s=u.n()).done;){var o=s.value;i.deleteResults.push(Object(k.b)(o))}}catch(c){u.e(c)}finally{u.f()}this._queryEngine.featureStore.removeManyById(r)}return{extent:this._queryEngine.fullExtent,timeExtent:this._queryEngine.timeExtent,featureEditResults:i}}},{key:"_applyAddEdits",value:function(e,t){var n,r=e.addResults,i=this._queryEngine,s=i.geometryType,u=i.hasM,o=i.hasZ,c=i.objectIdField,l=i.spatialReference,p=i.featureStore,d=[],h=Object(a.a)(t);try{for(h.s();!(n=h.n()).done;){var b=n.value;if(b.geometry&&s!==Object(y.c)(b.geometry))r.push(Object(k.a)("Incorrect geometry type."));else{var g=this._createDefaultAttributes(),j=Object(k.d)(this._fieldsIndex,g,b.attributes);if(j)r.push(j);else{if(this._assignObjectId(g,b.attributes),b.attributes=g,null!=b.uid){var O=b.attributes[c];e.uidToObjectId[b.uid]=O}Object(f.k)(b.geometry)&&(b.geometry=Object(m.b)(Object(k.e)(b.geometry,l),b.geometry.spatialReference,l)),d.push(b),r.push(Object(k.b)(b.attributes[c]))}}}}catch(x){h.e(x)}finally{h.f()}p.addMany(Object(v.c)([],d,s,o,u,c))}},{key:"_applyUpdateEdits",value:function(e,t){var n,r=e.updateResults,i=this._queryEngine,s=i.geometryType,u=i.hasM,o=i.hasZ,c=i.objectIdField,l=i.spatialReference,p=i.featureStore,d=Object(a.a)(t);try{for(d.s();!(n=d.n()).done;){var h=n.value,b=h.attributes,g=h.geometry,j=b&&b[c];if(null!=j)if(p.has(j)){var O=Object(v.i)(p.getFeature(j),s,o,u);if(Object(f.k)(g)){if(s!==Object(y.c)(g)){r.push(Object(k.a)("Incorrect geometry type."));continue}O.geometry=Object(m.b)(Object(k.e)(g,l),g.spatialReference,l)}if(b){var x=Object(k.d)(this._fieldsIndex,O.attributes,b);if(x){r.push(x);continue}}p.add(Object(v.a)(O,s,o,u,c)),r.push(Object(k.b)(j))}else r.push(Object(k.a)("Feature with object id ".concat(j," missing")));else r.push(Object(k.a)("Identifier field ".concat(c," missing")))}}catch(w){d.e(w)}finally{d.f()}}},{key:"_createObjectIdGenerator",value:function(e,t){var n=e.fieldsIndex.get(e.objectIdField);if("esriFieldTypeString"===n.type)return function(){return n.name+"-"+Date.now().toString(16)};var r,i=Number.NEGATIVE_INFINITY,s=Object(a.a)(t);try{for(s.s();!(r=s.n()).done;){var u=r.value;u.objectId&&(i=Math.max(i,u.objectId))}}catch(o){s.e(o)}finally{s.f()}return i=Math.max(0,i)+1,function(){return i++}}},{key:"_assignObjectId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this._queryEngine.objectIdField;e[r]=n&&r in t?t[r]:this._objectIdGenerator()}},{key:"_checkProjection",value:function(){var e=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(m.a)(b.b,t);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),new p.a("geojson-layer","Projection not supported");case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()}]),e}()},389:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return c}));var r=n(7),a=n(5),i=n(147),s=n(161),u=n(390),o=n(365);function c(e){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===e||"esriGeometryMultipoint"===e?o.a:"esriGeometryPolyline"===e?o.c:o.b}}}var l=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/,p=1;function d(e,t){if(Object(i.a)("esri-csp-restrictions"))return function(){return Object(a.a)(Object(r.a)({},t,null),e)};try{var n="this.".concat(t," = null;");for(var s in e)n+="this".concat(l.test(s)?".".concat(s):'["'.concat(s,'"]')," = ").concat(JSON.stringify(e[s]),";");var u=new Function("\n      return class AttributesClass$".concat(p++," {\n        constructor() {\n          ").concat(n,";\n        }\n      }\n    "))();return function(){return new u}}catch(o){return function(){return Object(a.a)(Object(r.a)({},t,null),e)}}}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[{name:"New Feature",description:"",prototype:{attributes:Object(s.a)(e)}}]}function h(e,t){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:e},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:t,supportsDelete:t,supportsEditing:t,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:t,supportsExceedsLimitStatistics:!0},query:u.a,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},editing:{supportsGeometryUpdate:t,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1}}}},488:function(e,t,n){"use strict";n.d(t,"a",(function(){return q})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return S})),n.d(t,"d",(function(){return T}));var r=n(14),a=n(60),i=n(154),s=n.n(i),u=n(159),o=n(351),c=n(216),l=n(238),p=s.a.mark(b),d=s.a.mark(v),f=s.a.mark(g),h={LineString:"esriGeometryPolyline",MultiLineString:"esriGeometryPolyline",MultiPoint:"esriGeometryMultipoint",Point:"esriGeometryPoint",Polygon:"esriGeometryPolygon",MultiPolygon:"esriGeometryPolygon"};function y(e){return h[e]}function b(e){var t,n,r;return s.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:i.t0=e.type,i.next="Feature"===i.t0?3:"FeatureCollection"===i.t0?6:25;break;case 3:return i.next=5,e;case 5:return i.abrupt("break",25);case 6:t=Object(a.a)(e.features),i.prev=7,t.s();case 9:if((n=t.n()).done){i.next=17;break}if(r=n.value,i.t1=r,!i.t1){i.next=15;break}return i.next=15,r;case 15:i.next=9;break;case 17:i.next=22;break;case 19:i.prev=19,i.t2=i.catch(7),t.e(i.t2);case 22:return i.prev=22,t.f(),i.finish(22);case 25:case"end":return i.stop()}}),p,null,[[7,19,22,25]])}function v(e){var t,n,r,i,u,o,c,l,p;return s.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(e){s.next=2;break}return s.abrupt("return",null);case 2:s.t0=e.type,s.next="Point"===s.t0?5:"LineString"===s.t0||"MultiPoint"===s.t0?8:"MultiLineString"===s.t0||"Polygon"===s.t0?10:"MultiPolygon"===s.t0?27:58;break;case 5:return s.next=7,e.coordinates;case 7:return s.abrupt("break",58);case 8:return s.delegateYield(e.coordinates,"t1",9);case 9:return s.abrupt("break",58);case 10:t=Object(a.a)(e.coordinates),s.prev=11,t.s();case 13:if((n=t.n()).done){s.next=18;break}return r=n.value,s.delegateYield(r,"t2",16);case 16:s.next=13;break;case 18:s.next=23;break;case 20:s.prev=20,s.t3=s.catch(11),t.e(s.t3);case 23:return s.prev=23,t.f(),s.finish(23);case 26:return s.abrupt("break",58);case 27:i=Object(a.a)(e.coordinates),s.prev=28,i.s();case 30:if((u=i.n()).done){s.next=50;break}o=u.value,c=Object(a.a)(o),s.prev=33,c.s();case 35:if((l=c.n()).done){s.next=40;break}return p=l.value,s.delegateYield(p,"t4",38);case 38:s.next=35;break;case 40:s.next=45;break;case 42:s.prev=42,s.t5=s.catch(33),c.e(s.t5);case 45:return s.prev=45,c.f(),s.finish(45);case 48:s.next=30;break;case 50:s.next=55;break;case 52:s.prev=52,s.t6=s.catch(28),i.e(s.t6);case 55:return s.prev=55,i.f(),s.finish(55);case 58:case"end":return s.stop()}}),d,null,[[11,20,23,26],[28,52,55,58],[33,42,45,48]])}function g(e){var t,n,r,i,u,l,p,d,h,b,v,g,m,j=arguments;return s.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:t=j.length>1&&void 0!==j[1]?j[1]:{},n=t.geometryType,r=t.objectIdField,i=Object(a.a)(e),s.prev=3,i.s();case 5:if((u=i.n()).done){s.next=18;break}if(p=u.value,d=p.geometry,h=p.properties,b=p.id,!d||y(d.type)===n){s.next=10;break}return s.abrupt("continue",16);case 10:return g=null!==(l=(v=h||{})[r])&&void 0!==l?l:null,r&&null!=b&&!v[r]&&(v[r]=g=b),m=new o.a(d?x(new c.a,d,t):null,v,null,g),s.next=16,m;case 16:s.next=5;break;case 18:s.next=23;break;case 20:s.prev=20,s.t0=s.catch(3),i.e(s.t0);case 23:return s.prev=23,i.f(),s.finish(23);case 26:case"end":return s.stop()}}),f,null,[[3,20,23,26]])}function m(e){var t,n=Object(a.a)(e);try{for(n.s();!(t=n.n()).done;){if(t.value.length>2)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}function j(e){for(var t=0,n=0;n<e.length;n++){var r=e[n],a=e[(n+1)%e.length];t+=r[0]*a[1]-a[0]*r[1]}return t<=0}function O(e){var t=e[0],n=e[e.length-1];return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]||e.push(t),e}function x(e,t,n){switch(t.type){case"LineString":case"MultiPoint":return function(e,t,n){return _(e,t.coordinates,n),e}(e,t,n);case"MultiLineString":return function(e,t,n){var r,i=Object(a.a)(t.coordinates);try{for(i.s();!(r=i.n()).done;){_(e,r.value,n)}}catch(s){i.e(s)}finally{i.f()}return e}(e,t,n);case"MultiPolygon":return function(e,t,n){var r,i=Object(a.a)(t.coordinates);try{for(i.s();!(r=i.n()).done;){var s=r.value;k(e,s[0],n);for(var u=1;u<s.length;u++)w(e,s[u],n)}}catch(o){i.e(o)}finally{i.f()}return e}(e,t,n);case"Point":return function(e,t,n){return F(e,t.coordinates,n),e}(e,t,n);case"Polygon":return function(e,t,n){var r=t.coordinates;k(e,r[0],n);for(var a=1;a<r.length;a++)w(e,r[a],n);return e}(e,t,n)}}function k(e,t,n){var r=O(t);!function(e){return!j(e)}(r)?_(e,r,n):I(e,r,n)}function w(e,t,n){var r=O(t);!function(e){return j(e)}(r)?_(e,r,n):I(e,r,n)}function _(e,t,n){var r,i=Object(a.a)(t);try{for(i.s();!(r=i.n()).done;){F(e,r.value,n)}}catch(s){i.e(s)}finally{i.f()}e.lengths.push(t.length)}function I(e,t,n){for(var r=t.length-1;r>=0;r--)F(e,t[r],n);e.lengths.push(t.length)}function F(e,t,n){var a=Object(r.a)(t,3),i=a[0],s=a[1],u=a[2];e.coords.push(i,s),n.hasZ&&e.coords.push(u||0)}function E(e){switch(typeof e){case"string":return"esriFieldTypeString";case"number":return"esriFieldTypeDouble";default:return"unknown"}}function T(e){if(!e)throw new u.a("geojson-layer:empty","GeoJSON data is empty");if("Feature"!==e.type&&"FeatureCollection"!==e.type)throw new u.a("geojson-layer:unsupported-geojson-object","missing or not supported GeoJSON object type",{data:e});var t=e.crs;if(t){var n="string"==typeof t?t:"name"===t.type?t.properties.name:"EPSG"===t.type?t.properties.code:null,r=new RegExp(".*(CRS84H?|4326)$","i");if(!n||!r.test(n))throw new u.a("geojson-layer:unsupported-crs","unsupported GeoJSON 'crs' member",{crs:t})}}function S(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=[],s=new Set,u=new Set,o=!1,c=null,p=!1,d=r.geometryType,f=void 0===d?null:d,h=!1,g=Object(a.a)(b(e));try{var j=function(){var e=n.value,r=e.geometry,a=e.properties,l=e.id;if((!r||(f||(f=y(r.type)),y(r.type)===f))&&(o||(o=m(v(r))),p||(p=null!=l)&&(t=typeof l,c=Object.keys(a).filter((function(e){return a[e]===l}))),p&&null!=l&&(c.length>1?c=c.filter((function(e){return a[e]===l})):1===c.length&&(c=a[c[0]]===l?c:[])),!h&&a)){var d=!0;for(var b in a)if(!s.has(b)){var g=a[b];if(null!=g){var j=E(g);"unknown"!==j?(u.delete(b),s.add(b),i.push({name:b,alias:b,type:j})):u.add(b)}else d=!1,u.add(b)}h=d}};for(g.s();!(n=g.n()).done;)j()}catch(_){g.e(_)}finally{g.f()}var O=c&&1===c.length&&c[0]||null;if(O){var x,k=Object(a.a)(i);try{for(k.s();!(x=k.n()).done;){var w=x.value;if(w.name===O&&Object(l.p)(w)){w.type="esriFieldTypeOID";break}}}catch(_){k.e(_)}finally{k.f()}}return{fields:i,geometryType:f,hasZ:o,objectIdFieldName:O,objectIdFieldType:t,unknownFields:Array.from(u)}}function q(e,t){return Array.from(g(b(e),t))}},642:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return w})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return O}));var r=n(155),a=n(60),i=n(143),s=n(142),u=n(154),o=n.n(u),c=n(146),l=n(182),p=n(238),d=Object(i.a)((function e(){Object(s.a)(this,e),this.code=null,this.description=null})),f=Object(i.a)((function e(t){Object(s.a)(this,e),this.error=new d,this.globalId=null,this.objectId=null,this.success=!1,this.uniqueId=null,this.error.description=t}));function h(e){return new f(e)}var y=Object(i.a)((function e(t){Object(s.a)(this,e),this.globalId=null,this.success=!0,this.objectId=this.uniqueId=t}));function b(e){return new y(e)}var v,g=new Set;function m(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4?arguments[4]:void 0;for(var s in g.clear(),n){var u=e.get(s);if(u){var o=n[s],c=j(u,o);if(c!==o&&i&&i.push({name:"invalid-value-type",message:"attribute value was converted to match the field type",details:{field:u,originalValue:o,sanitizedValue:c}}),g.add(u.name),u&&(r||u.editable)){var l=Object(p.v)(u,c);if(l)return h(Object(p.w)(l,u,c));t[u.name]=c}}}var d,f=Object(a.a)(e.requiredFields);try{for(f.s();!(d=f.n()).done;){var y=d.value;if(!g.has(y.name))return h('missing required field "'.concat(y.name,'"'))}}catch(b){f.e(b)}finally{f.f()}return null}function j(e,t){var n=t;return"string"==typeof t&&Object(p.p)(e)?n=parseFloat(t):null!=t&&Object(p.r)(e)&&"string"!=typeof t&&(n=String(t)),Object(p.t)(n)}function O(e,t){if(!e||!Object(l.l)(t))return e;if("rings"in e||"paths"in e){if(Object(c.j)(v))throw new TypeError("geometry engine not loaded");return v.simplify(t,e)}return e}function x(){return k.apply(this,arguments)}function k(){return(k=Object(r.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Object(c.j)(v),!e.t0){e.next=5;break}return e.next=4,Promise.all([n.e(6),n.e(16)]).then(n.bind(null,528));case 4:v=e.sent;case 5:return e.abrupt("return",v);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e,t){return _.apply(this,arguments)}function _(){return(_=Object(r.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=!Object(l.l)(t)||"esriGeometryPolygon"!==n&&"esriGeometryPolyline"!==n,e.t0){e.next=4;break}return e.next=4,x();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=99.a2557543.chunk.js.map