(this["webpackJsonpmatx-react-pro"]=this["webpackJsonpmatx-react-pro"]||[]).push([[33],{193:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return s})),n.d(t,"h",(function(){return f})),n.d(t,"i",(function(){return c})),n.d(t,"j",(function(){return a}));var r,a,i,o,u,l,s,c,f,y,h=n(143),p=n(142),v=n(170);(y=r||(r={}))[y.BACKGROUND=0]="BACKGROUND",y[y.FILL=1]="FILL",y[y.LINE=2]="LINE",y[y.SYMBOL=3]="SYMBOL",y[y.CIRCLE=4]="CIRCLE",function(e){e[e.VISIBLE=0]="VISIBLE",e[e.NONE=1]="NONE"}(a||(a={})),function(e){e[e.POINT=0]="POINT",e[e.LINE=1]="LINE",e[e.LINE_CENTER=2]="LINE_CENTER"}(i||(i={})),function(e){e[e.MAP=0]="MAP",e[e.VIEWPORT=1]="VIEWPORT",e[e.AUTO=2]="AUTO"}(o||(o={})),function(e){e[e.AUTO=0]="AUTO",e[e.LEFT=1]="LEFT",e[e.CENTER=2]="CENTER",e[e.RIGHT=3]="RIGHT"}(u||(u={})),function(e){e[e.CENTER=0]="CENTER",e[e.LEFT=1]="LEFT",e[e.RIGHT=2]="RIGHT",e[e.TOP=3]="TOP",e[e.BOTTOM=4]="BOTTOM",e[e.TOP_LEFT=5]="TOP_LEFT",e[e.TOP_RIGHT=6]="TOP_RIGHT",e[e.BOTTOM_LEFT=7]="BOTTOM_LEFT",e[e.BOTTOM_RIGHT=8]="BOTTOM_RIGHT"}(l||(l={})),function(e){e[e.NONE=0]="NONE",e[e.UPPERCASE=1]="UPPERCASE",e[e.LOWERCASE=2]="LOWERCASE"}(s||(s={})),function(e){e[e.MAP=0]="MAP",e[e.VIEWPORT=1]="VIEWPORT"}(c||(c={})),function(e){e[e.HORIZONTAL=0]="HORIZONTAL",e[e.VERTICAL=1]="VERTICAL"}(f||(f={}));var d=Object(h.a)((function e(){Object(p.a)(this,e)}));d.backgroundLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:a.VISIBLE}},d.fillLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:a.VISIBLE}},d.lineLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:a.VISIBLE},"line-cap":{type:"enum",values:["butt","round","square"],default:v.e.BUTT},"line-join":{type:"enum",values:["bevel","round","miter"],default:v.p.MITER},"line-miter-limit":{type:"number",default:2},"line-round-limit":{type:"number",default:1.05}},d.symbolLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:a.VISIBLE},"symbol-avoid-edges":{type:"boolean",default:!1},"symbol-placement":{type:"enum",values:["point","line","line-center"],default:i.POINT},"symbol-sort-key":{type:"number",default:-1},"symbol-spacing":{type:"number",minimum:1,default:250},"icon-allow-overlap":{type:"boolean",default:!1},"icon-anchor":{type:"enum",values:["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"],default:l.CENTER},"icon-ignore-placement":{type:"boolean",default:!1},"icon-image":{type:"string"},"icon-keep-upright":{type:"boolean",default:!1},"icon-offset":{type:"array",value:"number",length:2,default:[0,0]},"icon-optional":{type:"boolean",default:!1},"icon-padding":{type:"number",minimum:0,default:2},"icon-rotate":{type:"number",default:0},"icon-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:o.AUTO},"icon-size":{type:"number",minimum:0,default:1},"text-allow-overlap":{type:"boolean",default:!1},"text-anchor":{type:"enum",values:["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"],default:l.CENTER},"text-field":{type:"string"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"]},"text-ignore-placement":{type:"boolean",default:!1},"text-justify":{type:"enum",values:["auto","left","center","right"],default:u.CENTER},"text-keep-upright":{type:"boolean",default:!0},"text-letter-spacing":{type:"number",default:0},"text-line-height":{type:"number",default:1.2},"text-max-angle":{type:"number",minimum:0,default:45},"text-max-width":{type:"number",minimum:0,default:10},"text-offset":{type:"array",value:"number",length:2,default:[0,0]},"text-optional":{type:"boolean",default:!1},"text-padding":{type:"number",minimum:0,default:2},"text-rotate":{type:"number",default:0},"text-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:o.AUTO},"text-size":{type:"number",minimum:0,default:16},"text-transform":{type:"enum",values:["none","uppercase","lowercase"],default:s.NONE},"text-writing-mode":{type:"array",value:"enum",values:["horizontal","vertical"],default:[f.HORIZONTAL]}},d.circleLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:a.VISIBLE}},d.backgroundPaintDefinition={"background-color":{type:"color",default:[0,0,0,1]},"background-opacity":{type:"number",minimum:0,maximum:1,default:1},"background-pattern":{type:"string"}},d.fillPaintDefinition={"fill-antialias":{type:"boolean",default:!0},"fill-color":{type:"color",default:[0,0,0,1]},"fill-opacity":{type:"number",minimum:0,maximum:1,default:1},"fill-outline-color":{type:"color",default:[0,0,0,0]},"fill-pattern":{type:"string"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0]},"fill-translate-anchor":{type:"enum",values:["map","viewport"],default:c.MAP}},d.linePaintDefinition={"line-blur":{type:"number",minimum:0,default:0},"line-color":{type:"color",default:[0,0,0,1]},"line-dasharray":{type:"array",value:"number",default:[]},"line-gap-width":{type:"number",minimum:0,default:0},"line-offset":{type:"number",default:0},"line-opacity":{type:"number",minimum:0,maximum:1,default:1},"line-pattern":{type:"string"},"line-translate":{type:"array",value:"number",length:2,default:[0,0]},"line-translate-anchor":{type:"enum",values:["map","viewport"],default:c.MAP},"line-width":{type:"number",minimum:0,default:1}},d.symbolPaintDefinition={"icon-color":{type:"color",default:[0,0,0,1]},"icon-halo-blur":{type:"number",minimum:0,default:0},"icon-halo-color":{type:"color",default:[0,0,0,0]},"icon-halo-width":{type:"number",minimum:0,default:0},"icon-opacity":{type:"number",minimum:0,maximum:1,default:1},"icon-translate":{type:"array",value:"number",length:2,default:[0,0]},"icon-translate-anchor":{type:"enum",values:["map","viewport"],default:c.MAP},"text-color":{type:"color",default:[0,0,0,1]},"text-halo-blur":{type:"number",minimum:0,default:0},"text-halo-color":{type:"color",default:[0,0,0,0]},"text-halo-width":{type:"number",minimum:0,default:0},"text-opacity":{type:"number",minimum:0,maximum:1,default:1},"text-translate":{type:"array",value:"number",length:2,default:[0,0]},"text-translate-anchor":{type:"enum",values:["map","viewport"],default:c.MAP}},d.rasterPaintDefinition={"raster-opacity":{type:"number",minimum:0,maximum:1,default:1},"raster-hue-rotate":{type:"number",default:0},"raster-brightness-min":{type:"number",minimum:0,maximum:1,default:0},"raster-brightness-max":{type:"number",minimum:0,maximum:1,default:1},"raster-saturation":{type:"number",minimum:-1,maximum:1,default:0},"raster-contrast":{type:"number",minimum:-1,maximum:1,default:0},"raster-fade-duration":{type:"number",minimum:0,default:300}},d.circlePaintDefinition={"circle-blur":{type:"number",minimum:0,default:0},"circle-color":{type:"color",default:[0,0,0,1]},"circle-opacity":{type:"number",minimum:0,maximum:1,default:1},"circle-radius":{type:"number",minimum:0,default:5},"circle-stroke-color":{type:"color",default:[0,0,0,1]},"circle-stroke-opacity":{type:"number",minimum:0,maximum:1,default:1},"circle-stroke-width":{type:"number",minimum:0,default:0},"circle-translate":{type:"array",value:"number",length:2,default:[0,0]},"circle-translate-anchor":{type:"enum",values:["map","viewport"],default:c.MAP}}},280:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r,a=n(142),i=n(143),o=function(){function e(t,n){Object(a.a)(this,e),this.x=t,this.y=n}return Object(i.a)(e,[{key:"clone",value:function(){return new e(this.x,this.y)}},{key:"equals",value:function(e,t){return e===this.x&&t===this.y}},{key:"isEqual",value:function(e){return e.x===this.x&&e.y===this.y}},{key:"setCoords",value:function(e,t){this.x=e,this.y=t}},{key:"normalize",value:function(){var e=this.x,t=this.y,n=Math.sqrt(e*e+t*t);this.x/=n,this.y/=n}},{key:"rightPerpendicular",value:function(){var e=this.x;this.x=this.y,this.y=-e}},{key:"move",value:function(e,t){this.x+=e,this.y+=t}},{key:"assign",value:function(e){this.x=e.x,this.y=e.y}},{key:"assignAdd",value:function(e,t){this.x=e.x+t.x,this.y=e.y+t.y}},{key:"assignSub",value:function(e,t){this.x=e.x-t.x,this.y=e.y-t.y}},{key:"rotate",value:function(e,t){var n=this.x,r=this.y;this.x=n*e-r*t,this.y=n*t+r*e}},{key:"scale",value:function(e){this.x*=e,this.y*=e}},{key:"length",value:function(){var e=this.x,t=this.y;return Math.sqrt(e*e+t*t)}}],[{key:"distance",value:function(e,t){var n=t.x-e.x,r=t.y-e.y;return Math.sqrt(n*n+r*r)}},{key:"add",value:function(t,n){return new e(t.x+n.x,t.y+n.y)}},{key:"sub",value:function(t,n){return new e(t.x-n.x,t.y-n.y)}}]),e}();!function(e){e[e.Unknown=0]="Unknown",e[e.Point=1]="Point",e[e.LineString=2]="LineString",e[e.Polygon=3]="Polygon"}(r||(r={}))},312:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return y})),n.d(t,"f",(function(){return f})),n.d(t,"g",(function(){return s})),n.d(t,"h",(function(){return c}));var r=Number.POSITIVE_INFINITY,a=Math.PI,i=2*a,o=128/a,u=a/180,l=1/Math.LN2;function s(e,t){return(e%=t)>=0?e:e+t}function c(e){return s(e*o,256)}function f(e){return Math.log(e)*l}function y(e,t,n){return e*(1-n)+t*n}},421:function(e,t,n){"use strict";var r,a,i,o,u;n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return u})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.FILL_VERTEX=1]="FILL_VERTEX",e[e.FILL_DD_VERTEX=2]="FILL_DD_VERTEX",e[e.FILL_INDEX=3]="FILL_INDEX",e[e.OUTLINE_VERTEX=4]="OUTLINE_VERTEX",e[e.OUTLINE_DD_VERTEX=5]="OUTLINE_DD_VERTEX",e[e.OUTLINE_INDEX=6]="OUTLINE_INDEX",e[e.LINE_VERTEX=7]="LINE_VERTEX",e[e.LINE_DD_VERTEX=8]="LINE_DD_VERTEX",e[e.LINE_INDEX=9]="LINE_INDEX",e[e.ICON_VERTEX=10]="ICON_VERTEX",e[e.ICON_DD_VERTEX=11]="ICON_DD_VERTEX",e[e.ICON_INDEX=12]="ICON_INDEX",e[e.TEXT_VERTEX=13]="TEXT_VERTEX",e[e.TEXT_DD_VERTEX=14]="TEXT_DD_VERTEX",e[e.TEXT_INDEX=15]="TEXT_INDEX",e[e.CIRCLE_VERTEX=16]="CIRCLE_VERTEX",e[e.CIRCLE_INDEX=17]="CIRCLE_INDEX"}(r||(r={})),function(e){e[e.FILL=1]="FILL",e[e.LINE=2]="LINE",e[e.SYMBOL=3]="SYMBOL",e[e.CIRCLE=4]="CIRCLE"}(a||(a={})),function(e){e[e.BACKGROUND=0]="BACKGROUND",e[e.OPAQUE=1]="OPAQUE",e[e.TRANSLUCENT=2]="TRANSLUCENT",e[e.SYMBOLS=3]="SYMBOLS",e[e.HITTEST=4]="HITTEST"}(i||(i={})),function(e){e[e.BACKGROUND=0]="BACKGROUND",e[e.FILL=1]="FILL",e[e.OUTLINE=2]="OUTLINE",e[e.LINE=3]="LINE",e[e.ICON=4]="ICON",e[e.CIRCLE=5]="CIRCLE",e[e.TEXT=6]="TEXT",e[e.TILEINFO=7]="TILEINFO"}(o||(o={})),function(e){e[e.PAINTER_CHANGED=0]="PAINTER_CHANGED",e[e.LAYOUT_CHANGED=1]="LAYOUT_CHANGED",e[e.LAYER_CHANGED=2]="LAYER_CHANGED",e[e.LAYER_REMOVED=3]="LAYER_REMOVED",e[e.SPRITES_CHANGED=4]="SPRITES_CHANGED"}(u||(u={}))},640:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(142),a=n(143),i=function(){function e(t){Object(r.a)(this,e),this._array=[],t<=0&&console.error("strideInBytes must be positive!"),this._stride=t}return Object(a.a)(e,[{key:"array",get:function(){return this._array}},{key:"index",get:function(){return 4*this._array.length/this._stride}},{key:"itemSize",get:function(){return this._stride}},{key:"sizeInBytes",get:function(){return 4*this._array.length}},{key:"reset",value:function(){this.array.length=0}},{key:"toBuffer",value:function(){return new Uint32Array(this._array).buffer}}],[{key:"i1616to32",value:function(e,t){return 65535&e|t<<16}},{key:"i8888to32",value:function(e,t,n,r){return 255&e|(255&t)<<8|(255&n)<<16|r<<24}},{key:"i8816to32",value:function(e,t,n){return 255&e|(255&t)<<8|n<<16}}]),e}()},736:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(60),a=n(142),i=n(143),o=n(193),u=n(761),l=function(){function e(t){var n=this;if(Object(a.a)(this,e),this._style=t,this.backgroundBucketIds=[],this._uidToLayer=new Map,this._layerByName={},this._runningId=0,t.layers||(t.layers=[]),this.version=parseFloat(t.version),this.layers=t.layers.map((function(e,t,r){return n._create(e,t,r)})).filter((function(e){return!!e})),this.layers)for(var r,i=0;i<this.layers.length;i++)r=this.layers[i],this._layerByName[r.id]=r,this._uidToLayer.set(r.uid,r),r.type===o.c.BACKGROUND&&this.backgroundBucketIds.push(r.id);this._identifyRefLayers()}return Object(i.a)(e,[{key:"isPainterDataDriven",value:function(e){var t=this._layerByName[e];return!!t&&t.isPainterDataDriven()}},{key:"getStyleLayerId",value:function(e){return e>=this.layers.length?null:this.layers[e].id}},{key:"getStyleLayerByUID",value:function(e){var t;return null!==(t=this._uidToLayer.get(e))&&void 0!==t?t:null}},{key:"getStyleLayerIndex",value:function(e){var t=this._layerByName[e];return t?this.layers.indexOf(t):-1}},{key:"setStyleLayer",value:function(t,n){if(t&&t.id){var r=this._style;null!=n&&n>=this.layers.length&&(n=this.layers.length-1);var a,i=!0,o=this._layerByName[t.id];if(o){var u=this.layers.indexOf(o);n||(n=u),n===u?(i=!1,a=e._recreateLayer(t,o),this.layers[n]=a,r.layers[n]=t):(this.layers.splice(u,1),r.layers.splice(u,1),a=this._create(t,n,this.layers),this.layers.splice(n,0,a),r.layers.splice(n,0,t))}else a=this._create(t,n,this.layers),!n||n>=this.layers.length?(this.layers.push(a),r.layers.push(t)):(this.layers.splice(n,0,a),r.layers.splice(n,0,t));this._layerByName[t.id]=a,this._uidToLayer.set(a.uid,a),i&&this._recomputeZValues(),this._identifyRefLayers()}}},{key:"getStyleLayer",value:function(e){var t=this._layerByName[e];return t?{type:t.typeName,id:t.id,source:t.source,"source-layer":t.sourceLayer,minzoom:t.minzoom,maxzoom:t.maxzoom,filter:t.filter,layout:t.layout,paint:t.paint}:null}},{key:"deleteStyleLayer",value:function(e){var t=this._layerByName[e];if(t){delete this._layerByName[e],this._uidToLayer.delete(t.uid);var n=this.layers.indexOf(t);this.layers.splice(n,1),this._style.layers.splice(n,1),this._recomputeZValues(),this._identifyRefLayers()}}},{key:"getLayerById",value:function(e){return this._layerByName[e]}},{key:"getLayoutProperties",value:function(e){var t=this._layerByName[e];return t?t.layout:null}},{key:"getPaintProperties",value:function(e){var t=this._layerByName[e];return t?t.paint:null}},{key:"setPaintProperties",value:function(t,n){var r=this._layerByName[t];if(r){var a={type:r.typeName,id:r.id,source:r.source,"source-layer":r.sourceLayer,minzoom:r.minzoom,maxzoom:r.maxzoom,filter:r.filter,layout:r.layout,paint:n},i=e._recreateLayer(a,r),o=this.layers.indexOf(r);this.layers[o]=i,this._style.layers[o].paint=n,this._layerByName[r.id]=i,this._uidToLayer.set(r.uid,i)}}},{key:"setLayoutProperties",value:function(t,n){var r=this._layerByName[t];if(r){var a={type:r.typeName,id:r.id,source:r.source,"source-layer":r.sourceLayer,minzoom:r.minzoom,maxzoom:r.maxzoom,filter:r.filter,layout:n,paint:r.paint},i=e._recreateLayer(a,r),o=this.layers.indexOf(r);this.layers[o]=i,this._style.layers[o].layout=n,this._layerByName[r.id]=i,this._uidToLayer.set(r.uid,i)}}},{key:"setStyleLayerVisibility",value:function(t,n){var r=this._layerByName[t];if(r){var a=r.layout||{};a.visibility=n;var i={type:r.typeName,id:r.id,source:r.source,"source-layer":r.sourceLayer,minzoom:r.minzoom,maxzoom:r.maxzoom,filter:r.filter,layout:a,paint:r.paint},o=e._recreateLayer(i,r),u=this.layers.indexOf(r);this.layers[u]=o,this._style.layers[u].layout=a,this._layerByName[r.id]=o,this._uidToLayer.set(r.uid,o)}}},{key:"getStyleLayerVisibility",value:function(e){var t,n,r=this._layerByName[e];return r?null!==(t=null===(n=r.layout)||void 0===n?void 0:n.visibility)&&void 0!==t?t:"visible":"none"}},{key:"_recomputeZValues",value:function(){for(var e=this.layers,t=1/(e.length+1),n=0;n<e.length;n++)e[n].z=1-(1+n)*t}},{key:"_identifyRefLayers",value:function(){var e,t=[],n=[],a=0,i=Object(r.a)(this.layers);try{for(i.s();!(e=i.n()).done;){var u=e.value,l=u.layout;if(u.type===o.c.FILL){var s,c=u,f=u.source+"|"+u.sourceLayer;f+=null!==(s="|"+(null===l||void 0===l?void 0:l.visibility))&&void 0!==s?s:"",f+="|"+u.minzoom,f+="|"+u.maxzoom,f+="|"+JSON.stringify(u.filter),(c.hasDataDrivenFill||c.hasDataDrivenOutline)&&(f+="|"+a),t.push({key:f,layer:u})}else if(u.type===o.c.LINE){var y,h=u,p=u.source+"|"+u.sourceLayer;p+=null!==(y="|"+(null===l||void 0===l?void 0:l.visibility))&&void 0!==y?y:"",p+="|"+u.minzoom,p+="|"+u.maxzoom,p+="|"+JSON.stringify(u.filter),p+="|"+(void 0!==l?l["line-cap"]:""),p+="|"+(void 0!==l?l["line-join"]:""),h.hasDataDrivenLine&&(p+="|"+a),n.push({key:p,layer:u})}++a}}catch(v){i.e(v)}finally{i.f()}this._assignRefLayers(t),this._assignRefLayers(n)}},{key:"_assignRefLayers",value:function(e){var t,n;e.sort((function(e,t){return e.key<t.key?-1:e.key>t.key?1:0}));for(var r=e.length,a=0;a<r;a++){var i=e[a];if(i.key===t)i.layer.refLayerId=n;else if(t=i.key,n=i.layer.id,i.layer.type===o.c.FILL){if(!i.layer.getPaintProperty("fill-outline-color"))for(var u=a+1;u<r;u++){var l=e[u];if(l.key!==t)break;if(l.layer.getPaintProperty("fill-outline-color")){e[a]=l,e[u]=i,n=l.layer.id;break}}}else if(i.layer.type===o.c.LINE)for(var s=i.layer,c=a+1;c<r;c++){var f=e[c];if(f.key!==t)break;var y=f.layer;(s.canUseThinTessellation&&!y.canUseThinTessellation||!s.canUseThinTessellation&&(y.getPaintProperty("line-pattern")||y.getPaintProperty("line-dasharray")))&&(s=y,e[a]=f,e[c]=i,n=f.layer.id)}}}},{key:"_create",value:function(e,t,n){var r=1-(1+t)*(1/(n.length+1)),a=this._runningId++;switch(e.type){case"background":return new u.a(o.c.BACKGROUND,e,r,a);case"fill":return new u.c(o.c.FILL,e,r,a);case"line":return new u.e(o.c.LINE,e,r,a);case"symbol":return new u.f(o.c.SYMBOL,e,r,a);case"raster":console.warn("Unsupported vector tile raster layer ".concat(e.id));case"circle":return new u.b(o.c.CIRCLE,e,r,a)}}}],[{key:"_recreateLayer",value:function(e,t){switch(e.type){case"background":return new u.a(o.c.BACKGROUND,e,t.z,t.uid);case"fill":return new u.c(o.c.FILL,e,t.z,t.uid);case"line":return new u.e(o.c.LINE,e,t.z,t.uid);case"symbol":return new u.f(o.c.SYMBOL,e,t.z,t.uid);case"raster":console.warn("Unsupported vector tile raster layer ".concat(e.id));case"circle":return new u.b(o.c.CIRCLE,e,t.z,t.uid)}}}]),e}()},761:function(e,t,n){"use strict";n.d(t,"a",(function(){return Ze})),n.d(t,"b",(function(){return et})),n.d(t,"c",(function(){return $e})),n.d(t,"d",(function(){return tt})),n.d(t,"e",(function(){return Je})),n.d(t,"f",(function(){return Qe})),n.d(t,"g",(function(){return nt}));var r,a,i,o=n(144),u=n(145),l=n(60),s=n(142),c=n(143),f=n(170),y=n(421),h=n(7),p=n(146),v=n(640);(i=r||(r={}))[i.R8_SIGNED=0]="R8_SIGNED",i[i.R8_UNSIGNED=1]="R8_UNSIGNED",i[i.R16_SIGNED=2]="R16_SIGNED",i[i.R16_UNSIGNED=3]="R16_UNSIGNED",i[i.R8G8_SIGNED=4]="R8G8_SIGNED",i[i.R8G8_UNSIGNED=5]="R8G8_UNSIGNED",i[i.R16G16_SIGNED=6]="R16G16_SIGNED",i[i.R16G16_UNSIGNED=7]="R16G16_UNSIGNED",i[i.R8G8B8A8_SIGNED=8]="R8G8B8A8_SIGNED",i[i.R8G8B8A8_UNSIGNED=9]="R8G8B8A8_UNSIGNED",i[i.R8G8B8A8_COLOR=10]="R8G8B8A8_COLOR",i[i.R16G16B16A16_DASHARRAY=11]="R16G16B16A16_DASHARRAY",i[i.R16G16B16A16_PATTERN=12]="R16G16B16A16_PATTERN",function(e){e[e.UNIFORM=0]="UNIFORM",e[e.DATA_DRIVEN=1]="DATA_DRIVEN",e[e.INTERPOLATED_DATA_DRIVEN=2]="INTERPOLATED_DATA_DRIVEN",e[e.UNUSED=3]="UNUSED"}(a||(a={}));var d,b=n(153),m=n(213),g=function(){function e(t){Object(s.a)(this,e),this._locations=new Map,this._key=t}return Object(c.a)(e,[{key:"key",get:function(){return this._key}},{key:"type",get:function(){return 7&this._key}},{key:"defines",value:function(){return[]}},{key:"getStride",value:function(){return this._layoutInfo||this._buildAttributesInfo(),this._stride}},{key:"getAttributeLocations",value:function(){return 0===this._locations.size&&this._buildAttributesInfo(),this._locations}},{key:"getLayoutInfo",value:function(){return this._layoutInfo||this._buildAttributesInfo(),this._layoutInfo}},{key:"getEncodingInfos",value:function(){return this._propertyEncodingInfo||this._buildAttributesInfo(),this._propertyEncodingInfo}},{key:"getUniforms",value:function(){return this._uniforms||this._buildAttributesInfo(),this._uniforms}},{key:"getShaderHeader",value:function(){return this._shaderHeader||this._buildAttributesInfo(),this._shaderHeader}},{key:"getShaderMain",value:function(){return this._shaderMain||this._buildAttributesInfo(),this._shaderMain}},{key:"setDataUniforms",value:function(e,t,n,r,a){var i,o=this.getUniforms(),u=Object(l.a)(o);try{for(u.s();!(i=u.n()).done;){var s=i.value,c=s.name,f=s.type,y=(0,s.getValue)(n,t,r,a);if(null!==y)switch(f){case"float":e.setUniform1f(c,y);break;case"vec2":e.setUniform2fv(c,y);break;case"vec4":e.setUniform4fv(c,y)}}}catch(h){u.e(h)}finally{u.f()}}},{key:"encodeAttributes",value:function(e,t,n,a){for(var i=this.attributesInfo(),o=this.getEncodingInfos(),u=[],s=0,c=0,f=0,y=Object.keys(o);f<y.length;f++){var h,p,v=y[f],d=o[v],b=i[v],m=b.type,g=b.precisionFactor,_=b.isLayout?n.getLayoutProperty(v):n.getPaintProperty(v),E=null===(h=_.interpolator)||void 0===h?void 0:h.getInterpolationRange(t),O=0,T=Object(l.a)(d);try{for(T.s();!(p=T.n()).done;){var I=p.value,k=I.offset,w=I.bufferElementsToAdd;if(w>0){for(var N=0;N<w;N++)u.push(0);s+=c,c=I.bufferElementsToAdd}var D=null!==a&&void 0!==a?a:_.getValue(E?E[O]:t,e);switch(m){case r.R8_SIGNED:case r.R8_UNSIGNED:u[s]|=this._encodeByte(D*(g||1),8*k);break;case r.R16_SIGNED:case r.R16_UNSIGNED:u[s]|=this._encodeShort(D*(g||1),8*k);break;case r.R8G8_SIGNED:case r.R8G8_UNSIGNED:u[s]|=this._encodeByte(D*(g||1),8*k),u[s]|=this._encodeByte(D*(g||1),8*k+8);break;case r.R16G16_SIGNED:case r.R16G16_UNSIGNED:u[s]|=this._encodeShort(D*(g||1),8*k),u[s]|=this._encodeShort(D*(g||1),8*k+16);break;case r.R8G8B8A8_SIGNED:case r.R8G8B8A8_UNSIGNED:u[s]|=this._encodeByte(D*(g||1),8*k),u[s]|=this._encodeByte(D*(g||1),8*k+8),u[s]|=this._encodeByte(D*(g||1),8*k+16),u[s]|=this._encodeByte(D*(g||1),8*k+24);break;case r.R8G8B8A8_COLOR:u[s]=this._encodeColor(D);break;case r.R16G16B16A16_DASHARRAY:case r.R16G16B16A16_PATTERN:this._encodePattern(s,u,D);break;default:throw new Error("Unsupported encoding type")}O++}}catch(R){T.e(R)}finally{T.f()}}return u}},{key:"getAtributeState",value:function(e){var t=0,n=3+2*e;return t|=this._bit(n),t|=this._bit(n+1)<<1}},{key:"_buildAttributesInfo",value:function(){var t,n=[],r={},i={},o=-1,u=this.attributesInfo(),s=this.attributes(),c=-1,f=Object(l.a)(s);try{for(f.s();!(t=f.n()).done;){var y=t.value;c++;var h=this.getAtributeState(c);if(h!==a.UNIFORM&&h!==a.UNUSED){var p=u[y],v=[];r[y]=v;for(var d=p.type,m=0;m<h;m++){var g=e._encodingInfo[d],_=g.dataType,E=g.bytesPerElement,O=g.count,T=g.normalized,I=E*O,k="".concat(_,"-").concat(!0===T),w=i[k],N=0;if(!w||w.count+O>4)w={dataIndex:++o,count:0,offset:0},4!==O&&(i[k]=w),n.push({location:-1,name:"a_data_"+o,count:O,type:_,normalized:T}),N=Math.ceil(Math.max(I/4,1));else{var D=n[w.dataIndex];D.count+=O,N=Math.ceil(Math.max(D.count*E/4,1))-Math.ceil(Math.max(w.offset/4,1))}v.push({dataIndex:w.dataIndex,offset:w.offset,bufferElementsToAdd:N}),w.offset+=I,w.count+=O}}}}catch(M){f.e(M)}finally{f.f()}for(var R=0,L=n;R<L.length;R++){var j=L[R];switch(j.type){case b.k.BYTE:case b.k.UNSIGNED_BYTE:j.count=4;break;case b.k.SHORT:case b.k.UNSIGNED_SHORT:j.count+=j.count%2}}this._buildVertexBufferLayout(n);var A,x=0,P=this._layoutInfo.geometry,S=Object(l.a)(P);try{for(S.s();!(A=S.n()).done;){var U=A.value;this._locations.set(U.name,x++)}}catch(M){S.e(M)}finally{S.f()}var B=this._layoutInfo.opacity;if(B){var G,C=Object(l.a)(B);try{for(C.s();!(G=C.n()).done;){var V=G.value;this._locations.set(V.name,x++)}}catch(M){C.e(M)}finally{C.f()}}this._buildShaderInfo(n,r),this._propertyEncodingInfo=r}},{key:"_buildVertexBufferLayout",value:function(e){var t={},n=this.geometryInfo(),r=n[0].stride;if(0===e.length)t.geometry=n;else{var a,i=[],o=r,u=Object(l.a)(e);try{for(u.s();!(a=u.n()).done;){var s=a.value;r+=_(s.type)*s.count}}catch(d){u.e(d)}finally{u.f()}var c,f=Object(l.a)(n);try{for(f.s();!(c=f.n()).done;){var y=c.value;i.push(new m.a(y.name,y.count,y.type,y.offset,r,y.normalized))}}catch(d){f.e(d)}finally{f.f()}var h,p=Object(l.a)(e);try{for(p.s();!(h=p.n()).done;){var v=h.value;i.push(new m.a(v.name,v.count,v.type,o,r,v.normalized)),o+=_(v.type)*v.count}}catch(d){p.e(d)}finally{p.f()}t.geometry=i}this.opacityInfo()&&(t.opacity=this.opacityInfo()),this._layoutInfo=t,this._stride=r}},{key:"_buildShaderInfo",value:function(t,n){var i,o=this,u="\n",s="\n",c=[],f=Object(l.a)(t);try{for(f.s();!(i=f.n()).done;){var y=i.value;u+="attribute ".concat(this._getType(y.count)," ").concat(y.name,";\n")}}catch(_){f.e(_)}finally{f.f()}var h,v=this.attributes(),d=this.attributesInfo(),b=-1,m=Object(l.a)(v);try{var g=function(){var t=h.value;b++;var i=d[t],l=i.name,f=i.type,y=i.precisionFactor,v=i.isLayout,m=y&&1!==y?" * "+1/y:"",g=e._encodingInfo[f],_=g.bytesPerElement,O=g.count,T=function(e){return"a_data_".concat(e.dataIndex).concat(E(O,e.offset,_))};switch(o.getAtributeState(b)){case a.UNIFORM:var I=o._getType(O),k="u_".concat(l);c.push({name:k,type:I,getValue:function(e,n,a,i){var o=v?e.getLayoutValue(t,n):e.getPaintValue(t,n);if(f===r.R16G16B16A16_DASHARRAY){var u=e.getDashKey(o,e.getLayoutValue("line-cap",n)),l=i.getMosaicItemPosition(u,!1);if(Object(p.j)(l))return null;var s=l.tl,c=l.br;return[s[0],c[1],c[0],s[1]]}if(f===r.R16G16B16A16_PATTERN){var y=i.getMosaicItemPosition(o,!t.includes("line-"));if(Object(p.j)(y))return null;var h=y.tl,d=y.br;return[h[0],d[1],d[0],h[1]]}if(f===r.R8G8B8A8_COLOR){var b=o[3];return[b*o[0],b*o[1],b*o[2],b]}return o}}),u+="uniform ".concat(I," ").concat(k,";\n"),s+="".concat(I," ").concat(l," = ").concat(k,";\n");break;case a.DATA_DRIVEN:var w=T(n[t][0]);s+="".concat(o._getType(O)," ").concat(l," = ").concat(w).concat(m,";\n");break;case a.INTERPOLATED_DATA_DRIVEN:var N="u_t_".concat(l);c.push({name:N,type:"float",getValue:function(e,n,r,a){return(v?e.getLayoutProperty(t):e.getPaintProperty(t)).interpolator.interpolationUniformValue(r,n)}}),u+="uniform float ".concat(N,";\n");var D=T(n[t][0]),R=T(n[t][1]);s+="".concat(o._getType(O)," ").concat(l," = mix(").concat(D).concat(m,", ").concat(R).concat(m,", ").concat(N,");\n")}};for(m.s();!(h=m.n()).done;)g()}catch(_){m.e(_)}finally{m.f()}this._shaderHeader=u,this._shaderMain=s,this._uniforms=c}},{key:"_bit",value:function(e){return(this._key&1<<e)>>e}},{key:"_getType",value:function(e){switch(e){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4"}throw new Error("Invalid count")}},{key:"_encodeColor",value:function(e){var t=255*e[3];return v.a.i8888to32(e[0]*t,e[1]*t,e[2]*t,t)}},{key:"_encodePattern",value:function(e,t,n){if(n&&n.rect){var r=n.rect,a=n.width,i=n.height;t[e]=this._encodeShort(r.x+2,0),t[e]|=this._encodeShort(r.y+2+i,16),t[e+1]=this._encodeShort(r.x+2+a,0),t[e+1]|=this._encodeShort(r.y+2,16)}}},{key:"_encodeByte",value:function(e,t){return(255&e)<<t}},{key:"_encodeShort",value:function(e,t){return(65535&e)<<t}}]),e}();g._encodingInfo=(d={},Object(h.a)(d,r.R8_SIGNED,{dataType:b.k.BYTE,bytesPerElement:1,count:1,normalized:!1}),Object(h.a)(d,r.R8_UNSIGNED,{dataType:b.k.UNSIGNED_BYTE,bytesPerElement:1,count:1,normalized:!1}),Object(h.a)(d,r.R16_SIGNED,{dataType:b.k.SHORT,bytesPerElement:2,count:1,normalized:!1}),Object(h.a)(d,r.R16_UNSIGNED,{dataType:b.k.UNSIGNED_SHORT,bytesPerElement:2,count:1,normalized:!1}),Object(h.a)(d,r.R8G8_SIGNED,{dataType:b.k.BYTE,bytesPerElement:1,count:2,normalized:!1}),Object(h.a)(d,r.R8G8_UNSIGNED,{dataType:b.k.UNSIGNED_BYTE,bytesPerElement:1,count:2,normalized:!1}),Object(h.a)(d,r.R16G16_SIGNED,{dataType:b.k.SHORT,bytesPerElement:2,count:2,normalized:!1}),Object(h.a)(d,r.R16G16_UNSIGNED,{dataType:b.k.UNSIGNED_SHORT,bytesPerElement:2,count:2,normalized:!1}),Object(h.a)(d,r.R8G8B8A8_SIGNED,{dataType:b.k.BYTE,bytesPerElement:1,count:4,normalized:!1}),Object(h.a)(d,r.R8G8B8A8_UNSIGNED,{dataType:b.k.UNSIGNED_BYTE,bytesPerElement:1,count:4,normalized:!1}),Object(h.a)(d,r.R8G8B8A8_COLOR,{dataType:b.k.UNSIGNED_BYTE,bytesPerElement:1,count:4,normalized:!0}),Object(h.a)(d,r.R16G16B16A16_DASHARRAY,{dataType:b.k.UNSIGNED_SHORT,bytesPerElement:2,count:4,normalized:!1}),Object(h.a)(d,r.R16G16B16A16_PATTERN,{dataType:b.k.UNSIGNED_SHORT,bytesPerElement:2,count:4,normalized:!1}),d);var _=function(e){switch(e){case b.k.FLOAT:case b.k.INT:case b.k.UNSIGNED_INT:return 4;case b.k.SHORT:case b.k.UNSIGNED_SHORT:return 2;case b.k.BYTE:case b.k.UNSIGNED_BYTE:return 1}},E=function(e,t,n){var r=t/n;if(1===e)switch(r){case 0:return".x";case 1:return".y";case 2:return".z";case 3:return".w"}else if(2===e)switch(r){case 0:return".xy";case 1:return".yz";case 2:return".zw"}else if(3===e)switch(r){case 0:return".xyz";case 1:return".yzw"}return""},O=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){return Object(s.a)(this,n),t.call(this,e)}return Object(c.a)(n,[{key:"geometryInfo",value:function(){return n.GEOMETRY_LAYOUT}},{key:"opacityInfo",value:function(){return null}},{key:"attributes",value:function(){return n.ATTRIBUTES}},{key:"attributesInfo",value:function(){return n.ATTRIBUTES_INFO}}]),n}(g);O.ATTRIBUTES=[],O.GEOMETRY_LAYOUT=[new m.a("a_pos",2,b.k.BYTE,0,2)],O.ATTRIBUTES_INFO={};var T=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){return Object(s.a)(this,n),t.call(this,e)}return Object(c.a)(n,[{key:"geometryInfo",value:function(){return n.GEOMETRY_LAYOUT}},{key:"opacityInfo",value:function(){return null}},{key:"attributes",value:function(){return n.ATTRIBUTES}},{key:"attributesInfo",value:function(){return n.ATTRIBUTES_INFO}}]),n}(g);T.ATTRIBUTES=["circle-radius","circle-color","circle-opacity","circle-stroke-width","circle-stroke-color","circle-stroke-opacity","circle-blur"],T.GEOMETRY_LAYOUT=[new m.a("a_pos",2,b.k.SHORT,0,4)],T.ATTRIBUTES_INFO={"circle-radius":{name:"radius",type:r.R8_UNSIGNED},"circle-color":{name:"color",type:r.R8G8B8A8_COLOR},"circle-opacity":{name:"opacity",type:r.R8_UNSIGNED,precisionFactor:100},"circle-stroke-width":{name:"stroke_width",type:r.R8_UNSIGNED,precisionFactor:4},"circle-stroke-color":{name:"stroke_color",type:r.R8G8B8A8_COLOR},"circle-stroke-opacity":{name:"stroke_opacity",type:r.R8_UNSIGNED,precisionFactor:100},"circle-blur":{name:"blur",type:r.R8_UNSIGNED,precisionFactor:32}};var I=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){return Object(s.a)(this,n),t.call(this,e)}return Object(c.a)(n,[{key:"geometryInfo",value:function(){return n.GEOMETRY_LAYOUT}},{key:"opacityInfo",value:function(){return null}},{key:"attributes",value:function(){return n.ATTRIBUTES}},{key:"attributesInfo",value:function(){return n.ATTRIBUTES_INFO}}]),n}(g);I.ATTRIBUTES=["fill-color","fill-opacity","fill-pattern"],I.GEOMETRY_LAYOUT=[new m.a("a_pos",2,b.k.SHORT,0,4)],I.ATTRIBUTES_INFO={"fill-color":{name:"color",type:r.R8G8B8A8_COLOR},"fill-opacity":{name:"opacity",type:r.R8_UNSIGNED,precisionFactor:100},"fill-pattern":{name:"tlbr",type:r.R16G16B16A16_PATTERN,isOptional:!0}};var k=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e,r){var a;return Object(s.a)(this,n),(a=t.call(this,e)).usefillColor=r,a}return Object(c.a)(n,[{key:"geometryInfo",value:function(){return n.GEOMETRY_LAYOUT}},{key:"opacityInfo",value:function(){return null}},{key:"attributes",value:function(){return this.usefillColor?n.ATTRIBUTES_FILL:n.ATTRIBUTES_OUTLINE}},{key:"attributesInfo",value:function(){return this.usefillColor?n.ATTRIBUTES_INFO_FILL:n.ATTRIBUTES_INFO_OUTLINE}}]),n}(g);k.ATTRIBUTES_OUTLINE=["fill-outline-color","fill-opacity"],k.ATTRIBUTES_FILL=["fill-color","fill-opacity"],k.GEOMETRY_LAYOUT=[new m.a("a_pos",2,b.k.SHORT,0,8),new m.a("a_offset",2,b.k.BYTE,4,8),new m.a("a_xnormal",2,b.k.BYTE,6,8)],k.ATTRIBUTES_INFO_OUTLINE={"fill-outline-color":{name:"color",type:r.R8G8B8A8_COLOR},"fill-opacity":{name:"opacity",type:r.R8_UNSIGNED,precisionFactor:100}},k.ATTRIBUTES_INFO_FILL={"fill-color":{name:"color",type:r.R8G8B8A8_COLOR},"fill-opacity":{name:"opacity",type:r.R8_UNSIGNED,precisionFactor:100}};var w=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){return Object(s.a)(this,n),t.call(this,e)}return Object(c.a)(n,[{key:"geometryInfo",value:function(){return n.GEOMETRY_LAYOUT}},{key:"opacityInfo",value:function(){return null}},{key:"attributes",value:function(){return n.ATTRIBUTES}},{key:"attributesInfo",value:function(){return n.ATTRIBUTES_INFO}}]),n}(g);w.ATTRIBUTES=["line-blur","line-color","line-gap-width","line-offset","line-opacity","line-width","line-pattern","line-dasharray"],w.GEOMETRY_LAYOUT=[new m.a("a_pos",2,b.k.SHORT,0,16),new m.a("a_extrude_offset",4,b.k.BYTE,4,16),new m.a("a_dir_normal",4,b.k.BYTE,8,16),new m.a("a_accumulatedDistance",2,b.k.UNSIGNED_SHORT,12,16)],w.ATTRIBUTES_INFO={"line-width":{name:"width",type:r.R8_UNSIGNED,precisionFactor:2},"line-gap-width":{name:"gap_width",type:r.R8_UNSIGNED,precisionFactor:2},"line-offset":{name:"offset",type:r.R8_SIGNED,precisionFactor:2},"line-color":{name:"color",type:r.R8G8B8A8_COLOR},"line-opacity":{name:"opacity",type:r.R8_UNSIGNED,precisionFactor:100},"line-blur":{name:"blur",type:r.R8_UNSIGNED,precisionFactor:4},"line-pattern":{name:"tlbr",type:r.R16G16B16A16_PATTERN,isOptional:!0},"line-dasharray":{name:"tlbr",type:r.R16G16B16A16_DASHARRAY,isOptional:!0}};var N=[new m.a("a_pos",2,b.k.SHORT,0,16),new m.a("a_vertexOffset",2,b.k.SHORT,4,16),new m.a("a_texAngleRange",4,b.k.UNSIGNED_BYTE,8,16),new m.a("a_levelInfo",4,b.k.UNSIGNED_BYTE,12,16)],D=[new m.a("a_opacityInfo",1,b.k.UNSIGNED_BYTE,0,1)],R=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){return Object(s.a)(this,n),t.call(this,e)}return Object(c.a)(n,[{key:"geometryInfo",value:function(){return N}},{key:"opacityInfo",value:function(){return D}},{key:"attributes",value:function(){return n.ATTRIBUTES}},{key:"attributesInfo",value:function(){return n.ATTRIBUTES_INFO}}]),n}(g);R.ATTRIBUTES=["icon-color","icon-opacity","icon-halo-blur","icon-halo-color","icon-halo-width","icon-size"],R.ATTRIBUTES_INFO={"icon-color":{name:"color",type:r.R8G8B8A8_COLOR},"icon-opacity":{name:"opacity",type:r.R8_UNSIGNED,precisionFactor:100},"icon-halo-color":{name:"halo_color",type:r.R8G8B8A8_COLOR},"icon-halo-width":{name:"halo_width",type:r.R8_UNSIGNED,precisionFactor:4},"icon-halo-blur":{name:"halo_blur",type:r.R8_UNSIGNED,precisionFactor:4},"icon-size":{name:"size",type:r.R8_UNSIGNED,precisionFactor:32,isLayout:!0}};var L=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){return Object(s.a)(this,n),t.call(this,e)}return Object(c.a)(n,[{key:"geometryInfo",value:function(){return N}},{key:"opacityInfo",value:function(){return D}},{key:"attributes",value:function(){return n.ATTRIBUTES}},{key:"attributesInfo",value:function(){return n.ATTRIBUTES_INFO}}]),n}(g);L.ATTRIBUTES=["text-color","text-opacity","text-halo-blur","text-halo-color","text-halo-width","text-size"],L.ATTRIBUTES_INFO={"text-color":{name:"color",type:r.R8G8B8A8_COLOR},"text-opacity":{name:"opacity",type:r.R8_UNSIGNED,precisionFactor:100},"text-halo-color":{name:"halo_color",type:r.R8G8B8A8_COLOR},"text-halo-width":{name:"halo_width",type:r.R8_UNSIGNED,precisionFactor:4},"text-halo-blur":{name:"halo_blur",type:r.R8_UNSIGNED,precisionFactor:4},"text-size":{name:"size",type:r.R8_UNSIGNED,isLayout:!0}};var j=n(16),A=n(5),x=n(202),P=n(579),S=n(836),U=n(312),B={kind:"null"},G={kind:"number"},C={kind:"string"},V={kind:"boolean"},M={kind:"color"},F={kind:"object"},z={kind:"value"};function Y(e,t){return{kind:"array",itemType:e,n:t}}var H=[B,G,C,V,M,F,Y(z)];function X(e){if("array"===e.kind){var t=X(e.itemType);return"number"==typeof e.n?"array<".concat(t,", ").concat(e.n,">"):"value"===e.itemType.kind?"array":"array<".concat(t,">")}return e.kind}function K(e){if(null===e)return B;if("string"==typeof e)return C;if("boolean"==typeof e)return V;if("number"==typeof e)return G;if(e instanceof x.a)return M;if(Array.isArray(e)){var t,n,r=Object(l.a)(e);try{for(r.s();!(n=r.n()).done;){var a=K(n.value);if(t){if(t!==a){t=z;break}}else t=a}}catch(i){r.e(i)}finally{r.f()}return Y(t||z,e.length)}return"object"==typeof e?F:z}function q(e,t){if("array"===t.kind)return"array"===e.kind&&(0===e.n&&"value"===e.itemType.kind||q(e.itemType,t.itemType))&&("number"!=typeof t.n||t.n===e.n);if("value"===t.kind){var n,r=Object(l.a)(H);try{for(r.s();!(n=r.n()).done;){if(q(e,n.value))return!0}}catch(a){r.e(a)}finally{r.f()}}return t.kind===e.kind}function W(e){if(null===e)return"";var t=typeof e;return"string"===t?e:"number"===t||"boolean"===t?String(e):e instanceof x.a?e.toString():JSON.stringify(e)}var Z=n(280),$=function(){function e(t){Object(s.a)(this,e),this.parent=t,this.vars={}}return Object(c.a)(e,[{key:"add",value:function(e,t){this.vars[e]=t}},{key:"get",value:function(e){return this.vars[e]?this.vars[e]:this.parent?this.parent.get(e):null}}]),e}(),J=function(){function e(){Object(s.a)(this,e),this.type=z}return Object(c.a)(e,[{key:"evaluate",value:function(e,t){return null===e||void 0===e?void 0:e.id}}],[{key:"parse",value:function(t){if(t.length>1)throw new Error('"id" does not expect arguments');return new e}}]),e}(),Q=function(){function e(){Object(s.a)(this,e),this.type=C}return Object(c.a)(e,[{key:"evaluate",value:function(e,t){if(!e)return null;switch(e.type){case Z.a.Point:return"Point";case Z.a.LineString:return"LineString";case Z.a.Polygon:return"Polygon";default:return null}}}],[{key:"parse",value:function(t){if(t.length>1)throw new Error('"geometry-type" does not expect arguments');return new e}}]),e}(),ee=function(){function e(){Object(s.a)(this,e),this.type=F}return Object(c.a)(e,[{key:"evaluate",value:function(e,t){return null===e||void 0===e?void 0:e.values}}],[{key:"parse",value:function(t){if(t.length>1)throw new Error('"properties" does not expect arguments');return new e}}]),e}(),te=function(){function e(){Object(s.a)(this,e),this.type=G}return Object(c.a)(e,[{key:"evaluate",value:function(e,t){return t}}],[{key:"parse",value:function(t){if(t.length>1)throw new Error('"zoom" does not expect arguments');return new e}}]),e}(),ne=function(){function e(t,n,r){Object(s.a)(this,e),this.lhs=t,this.rhs=n,this.compare=r,this.type=V}return Object(c.a)(e,[{key:"evaluate",value:function(e,t){return this.compare(this.lhs.evaluate(e,t),this.rhs.evaluate(e,t))}}],[{key:"parse",value:function(t,n,r){if(3!==t.length&&4!==t.length)throw new Error('"'.concat(t[0],'" expects 2 or 3 arguments'));if(4===t.length)throw new Error('"'.concat(t[0],'" collator not supported'));return new e(ze(t[1],n),ze(t[2],n),r)}}]),e}(),re=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,null,[{key:"parse",value:function(e,t){return ne.parse(e,t,(function(e,t){return e===t}))}}]),n}(ne),ae=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,null,[{key:"parse",value:function(e,t){return ne.parse(e,t,(function(e,t){return e!==t}))}}]),n}(ne),ie=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,null,[{key:"parse",value:function(e,t){return ne.parse(e,t,(function(e,t){return e<t}))}}]),n}(ne),oe=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,null,[{key:"parse",value:function(e,t){return ne.parse(e,t,(function(e,t){return e<=t}))}}]),n}(ne),ue=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,null,[{key:"parse",value:function(e,t){return ne.parse(e,t,(function(e,t){return e>t}))}}]),n}(ne),le=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,null,[{key:"parse",value:function(e,t){return ne.parse(e,t,(function(e,t){return e>=t}))}}]),n}(ne),se=function(){function e(t){Object(s.a)(this,e),this.arg=t,this.type=V}return Object(c.a)(e,[{key:"evaluate",value:function(e,t){return!this.arg.evaluate(e,t)}}],[{key:"parse",value:function(t,n){if(2!==t.length)throw new Error('"!" expects 1 argument');return new e(ze(t[1],n))}}]),e}(),ce=function(){function e(t){Object(s.a)(this,e),this.args=t,this.type=V}return Object(c.a)(e,[{key:"evaluate",value:function(e,t){var n,r=Object(l.a)(this.args);try{for(r.s();!(n=r.n()).done;){if(!n.value.evaluate(e,t))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}}],[{key:"parse",value:function(t,n){for(var r=[],a=1;a<t.length;a++)r.push(ze(t[a],n));return new e(r)}}]),e}(),fe=function(){function e(t){Object(s.a)(this,e),this.args=t,this.type=V}return Object(c.a)(e,[{key:"evaluate",value:function(e,t){var n,r=Object(l.a)(this.args);try{for(r.s();!(n=r.n()).done;){if(n.value.evaluate(e,t))return!0}}catch(a){r.e(a)}finally{r.f()}return!1}}],[{key:"parse",value:function(t,n){for(var r=[],a=1;a<t.length;a++)r.push(ze(t[a],n));return new e(r)}}]),e}(),ye=function(){function e(t){Object(s.a)(this,e),this.args=t,this.type=V}return Object(c.a)(e,[{key:"evaluate",value:function(e,t){var n,r=Object(l.a)(this.args);try{for(r.s();!(n=r.n()).done;){if(n.value.evaluate(e,t))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}}],[{key:"parse",value:function(t,n){for(var r=[],a=1;a<t.length;a++)r.push(ze(t[a],n));return new e(r)}}]),e}(),he=function(){function e(t,n,r){Object(s.a)(this,e),this.type=t,this.args=n,this.fallback=r}return Object(c.a)(e,[{key:"evaluate",value:function(e,t){var n,r=Object(l.a)(this.args);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a.condition.evaluate(e,t))return a.output.evaluate(e,t)}}catch(i){r.e(i)}finally{r.f()}return this.fallback.evaluate(e,t)}}],[{key:"parse",value:function(t,n,r){if(t.length<4)throw new Error('"case" expects at least 3 arguments');if(t.length%2==1)throw new Error('"case" expects an odd number of arguments');for(var a,i=[],o=1;o<t.length-1;o+=2){var u=ze(t[o],n),l=ze(t[o+1],n,r);a||(a=l.type),i.push({condition:u,output:l})}var s=ze(t[t.length-1],n,r);return a||(a=s.type),new e(a,i,s)}}]),e}(),pe=function(){function e(t,n){Object(s.a)(this,e),this.type=t,this.args=n}return Object(c.a)(e,[{key:"evaluate",value:function(e,t){var n,r=Object(l.a)(this.args);try{for(r.s();!(n=r.n()).done;){var a=n.value.evaluate(e,t);if(null!==a)return a}}catch(i){r.e(i)}finally{r.f()}return null}}],[{key:"parse",value:function(t,n){if(t.length<2)throw new Error('"coalesce" expects at least 1 argument');for(var r,a=[],i=1;i<t.length;i++){var o=ze(t[i],n);r||(r=o.type),a.push(o)}return new e(r,a)}}]),e}(),ve=function(){function e(t,n,r,a,i){Object(s.a)(this,e),this.type=t,this.input=n,this.labels=r,this.outputs=a,this.fallback=i}return Object(c.a)(e,[{key:"evaluate",value:function(e,t){var n=this.input.evaluate(e,t);return(this.outputs[this.labels[n]]||this.fallback).evaluate(e,t)}}],[{key:"parse",value:function(t,n){if(t.length<3)throw new Error('"match" expects at least 3 arguments');if(t.length%2==0)throw new Error('"case" expects an even number of arguments');for(var r,a,i=ze(t[1],n),o=[],u={},s=2;s<t.length-1;s+=2){var c=t[s];Array.isArray(c)||(c=[c]);var f,y=Object(l.a)(c);try{for(y.s();!(f=y.n()).done;){var h=f.value,p=typeof h;if("string"!==p&&"number"!==p)throw new Error('"match" requires string or number literal as labels');if(a){if(p!==a)throw new Error('"match" requires labels to have the same type')}else a=p;u[h]=o.length}}catch(d){y.e(d)}finally{y.f()}var v=ze(t[s+1],n);r||(r=v.type),o.push(v)}return new e(r,i,u,o,ze(t[t.length-1],n))}}]),e}(),de=function(){function e(t,n,r,a,i){Object(s.a)(this,e),this.operator=t,this.type=n,this.interpolation=r,this.input=a,this.stops=i}return Object(c.a)(e,[{key:"evaluate",value:function(t,n){var r=this.stops;if(1===r.length)return r[0][1].evaluate(t,n);var a=this.input.evaluate(t,n);if(a<=r[0][0])return r[0][1].evaluate(t,n);if(a>=r[r.length-1][0])return r[r.length-1][1].evaluate(t,n);for(var i=0;++i<r.length&&!(a<r[i][0]););var o=r[i-1][0],u=r[i][0],l=e.interpolationRatio(this.interpolation,a,o,u),s=r[i-1][1].evaluate(t,n),c=r[i][1].evaluate(t,n);if("interpolate"===this.operator){if("array"===this.type.kind&&Array.isArray(s)&&Array.isArray(c))return s.map((function(e,t){return Object(U.e)(e,c[t],l)}));if("color"===this.type.kind&&s instanceof x.a&&c instanceof x.a){var f=new x.a(s),y=new x.a(c);return new x.a([Object(U.e)(f.r,y.r,l),Object(U.e)(f.g,y.g,l),Object(U.e)(f.b,y.b,l),Object(U.e)(f.a,y.a,l)])}if("number"===this.type.kind&&"number"==typeof s&&"number"==typeof c)return Object(U.e)(s,c,l);throw new Error('"'.concat(this.operator,'" cannot interpolate type ').concat(X(this.type)))}if("interpolate-hcl"===this.operator){var h=Object(P.c)(s),p=Object(P.c)(c),v=p.h-h.h,d=Object(P.d)({h:h.h+l*(v>180||v<-180?v-360*Math.round(v/360):v),c:Object(U.e)(h.c,p.c,l),l:Object(U.e)(h.l,p.l,l)});return new x.a(Object(A.a)({a:Object(U.e)(s.a,c.a,l)},d))}if("interpolate-lab"===this.operator){var b=Object(P.b)(s),m=Object(P.b)(c),g=Object(P.d)({l:Object(U.e)(b.l,m.l,l),a:Object(U.e)(b.a,m.a,l),b:Object(U.e)(b.b,m.b,l)});return new x.a(Object(A.a)({a:Object(U.e)(s.a,c.a,l)},g))}throw new Error('Unexpected operator "'.concat(this.operator,'"'))}},{key:"interpolationUniformValue",value:function(t,n){var r=this.stops;if(1===r.length)return 0;if(t>=r[r.length-1][0])return 0;for(var a=0;++a<r.length&&!(t<r[a][0]););var i=r[a-1][0],o=r[a][0];return e.interpolationRatio(this.interpolation,n,i,o)}},{key:"getInterpolationRange",value:function(e){var t=this.stops;if(1===t.length){var n=t[0][0];return[n,n]}var r=t[t.length-1][0];if(e>=r)return[r,r];for(var a=0;++a<t.length&&!(e<t[a][0]););return[t[a-1][0],t[a][0]]}}],[{key:"parse",value:function(t,n,r){var a=t[0];if(t.length<5)throw new Error('"'.concat(a,'" expects at least 4 arguments'));var i=t[1];if(!Array.isArray(i)||0===i.length)throw new Error('"'.concat(i,'" is not a valid interpolation'));switch(i[0]){case"linear":if(1!==i.length)throw new Error("Linear interpolation cannot have parameters");break;case"exponential":if(2!==i.length||"number"!=typeof i[1])throw new Error("Exponential interpolation requires one numeric argument");break;case"cubic-bezier":if(5!==i.length)throw new Error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1");for(var o=1;o<5;o++){var u=i[o];if("number"!=typeof u||u<0||u>1)throw new Error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1")}break;default:throw new Error('"'.concat(t[0],'" unknown interpolation type "').concat(i[0],'"'))}if(t.length%2!=1)throw new Error('"'.concat(a,'" expects an even number of arguments'));var l,s=ze(t[2],n,G);"interpolate-hcl"===a||"interpolate-lab"===a?l=M:r&&"value"!==r.kind&&(l=r);for(var c=[],f=3;f<t.length;f+=2){var y=t[f];if("number"!=typeof y)throw new Error('"'.concat(a,'" requires stop inputs as literal numbers'));if(c.length&&c[c.length-1][0]>=y)throw new Error('"'.concat(a,'" requires strictly ascending stop inputs'));var h=ze(t[f+1],n,l);l||(l=h.type),c.push([y,h])}if(l&&l!==M&&l!==G&&("array"!==l.kind||l.itemType!==G))throw new Error('"'.concat(a,'" cannot interpolate type ').concat(X(l)));return new e(a,l,i,s,c)}},{key:"interpolationRatio",value:function(t,n,r,a){var i=0;return"linear"===t[0]?i=e._exponentialInterpolationRatio(n,1,r,a):"exponential"===t[0]?i=e._exponentialInterpolationRatio(n,t[1],r,a):"cubic-bezier"===t[0]&&(i=Object(S.c)(t[1],t[2],t[3],t[4])(e._exponentialInterpolationRatio(n,1,r,a),1e-5)),i<0?i=0:i>1&&(i=1),i}},{key:"_exponentialInterpolationRatio",value:function(e,t,n,r){var a=r-n;if(0===a)return 0;var i=e-n;return 1===t?i/a:(Math.pow(t,i)-1)/(Math.pow(t,a)-1)}}]),e}(),be=function(){function e(t,n,r){Object(s.a)(this,e),this.type=t,this.input=n,this.stops=r}return Object(c.a)(e,[{key:"evaluate",value:function(e,t){var n=this.stops;if(1===n.length)return n[0][1].evaluate(e,t);for(var r=this.input.evaluate(e,t),a=0;++a<n.length&&!(r<n[a][0]););return this.stops[a-1][1].evaluate(e,t)}}],[{key:"parse",value:function(t,n){if(t.length<5)throw new Error('"step" expects at least 4 arguments');if(t.length%2!=1)throw new Error('"step" expects an even number of arguments');var r,a=ze(t[1],n,G),i=[];i.push([-1/0,ze(t[2],n)]);for(var o=3;o<t.length;o+=2){var u=t[o];if("number"!=typeof u)throw new Error('"step" requires stop inputs as literal numbers');if(i.length&&i[i.length-1][0]>=u)throw new Error('"step" requires strictly ascending stop inputs');var l=ze(t[o+1],n);r||(r=l.type),i.push([u,l])}return new e(r,a,i)}}]),e}(),me=function(){function e(t,n){Object(s.a)(this,e),this.type=t,this.output=n}return Object(c.a)(e,[{key:"evaluate",value:function(e,t){return this.output.evaluate(e,t)}}],[{key:"parse",value:function(t,n,r){if(t.length<4)throw new Error('"let" expects at least 3 arguments');if(t.length%2==1)throw new Error('"let" expects an odd number of arguments');for(var a=new $(n),i=1;i<t.length-1;i+=2){var o=t[i];if("string"!=typeof o)throw new Error('"let" requires a string to define variable names - found '.concat(o));a.add(o,ze(t[i+1],n))}var u=ze(t[t.length-1],a,r);return new e(u.type,u)}}]),e}(),ge=function(){function e(t,n){Object(s.a)(this,e),this.type=t,this.output=n}return Object(c.a)(e,[{key:"evaluate",value:function(e,t){return this.output.evaluate(e,t)}}],[{key:"parse",value:function(t,n,r){if(2!==t.length||"string"!=typeof t[1])throw new Error('"var" requires just one literal string argument');var a=n.get(t[1]);if(!a)throw new Error("".concat(t[1],' must be defined before being used in a "var" expression'));return new e(r||z,a)}}]),e}(),_e=function(){function e(t,n,r){Object(s.a)(this,e),this.type=t,this.index=n,this.array=r}return Object(c.a)(e,[{key:"evaluate",value:function(e,t){var n=this.index.evaluate(e,t),r=this.array.evaluate(e,t);if(n<0||n>=r.length)throw new Error('"at" index out of bounds');if(n!==Math.floor(n))throw new Error('"at" index must be an integer');return r[n]}}],[{key:"parse",value:function(t,n){if(3!==t.length)throw new Error('"at" expects 2 arguments');var r=ze(t[1],n,G),a=ze(t[2],n);return new e(a.type.itemType,r,a)}}]),e}(),Ee=function(){function e(t,n){Object(s.a)(this,e),this.key=t,this.obj=n,this.type=z}return Object(c.a)(e,[{key:"evaluate",value:function(e,t){var n=this.key.evaluate(e,t);return this.obj?this.obj.evaluate(e,t)[n]:null===e||void 0===e?void 0:e.values[n]}}],[{key:"parse",value:function(t,n){switch(t.length){case 2:return new e(ze(t[1],n));case 3:return new e(ze(t[1],n),ze(t[2],n));default:throw new Error('"get" expects 1 or 2 arguments')}}}]),e}(),Oe=function(){function e(t,n){Object(s.a)(this,e),this.key=t,this.obj=n,this.type=V}return Object(c.a)(e,[{key:"evaluate",value:function(e,t){var n=this.key.evaluate(e,t);return this.obj?n in this.obj.evaluate(e,t):!(null===e||void 0===e||!e.values[n])}}],[{key:"parse",value:function(t,n){switch(t.length){case 2:return new e(ze(t[1],n));case 3:return new e(ze(t[1],n),ze(t[2],n));default:throw new Error('"has" expects 1 or 2 arguments')}}}]),e}(),Te=function(){function e(t,n){Object(s.a)(this,e),this.key=t,this.vals=n,this.type=V}return Object(c.a)(e,[{key:"evaluate",value:function(e,t){var n=this.key.evaluate(e,t);return this.vals.evaluate(e,t).includes(n)}}],[{key:"parse",value:function(t,n){if(3!==t.length)throw new Error('"in" expects 2 arguments');return new e(ze(t[1],n),ze(t[2],n))}}]),e}(),Ie=function(){function e(t,n,r){Object(s.a)(this,e),this.item=t,this.array=n,this.from=r,this.type=G}return Object(c.a)(e,[{key:"evaluate",value:function(e,t){var n=this.item.evaluate(e,t),r=this.array.evaluate(e,t);if(this.from){var a=this.from.evaluate(e,t);if(a!==Math.floor(a))throw new Error('"index-of" index must be an integer');return r.indexOf(n,a)}return r.indexOf(n)}}],[{key:"parse",value:function(t,n){if(t.length<3||t.length>4)throw new Error('"index-of" expects 3 or 4 arguments');var r=ze(t[1],n),a=ze(t[2],n);return 4===t.length?new e(r,a,ze(t[3],n,G)):new e(r,a)}}]),e}(),ke=function(){function e(t){Object(s.a)(this,e),this.arg=t,this.type=G}return Object(c.a)(e,[{key:"evaluate",value:function(e,t){var n=this.arg.evaluate(e,t);if("string"==typeof n)return n.length;if(Array.isArray(n))return n.length;throw new Error('"length" expects string or array')}}],[{key:"parse",value:function(t,n){if(2!==t.length)throw new Error('"length" expects 2 arguments');return new e(ze(t[1],n))}}]),e}(),we=function(){function e(t,n,r,a){Object(s.a)(this,e),this.type=t,this.array=n,this.from=r,this.to=a}return Object(c.a)(e,[{key:"evaluate",value:function(e,t){var n=this.array.evaluate(e,t);if(!Array.isArray(n)&&"string"!=typeof n)throw new Error('"slice" input must be an array or a string');var r=this.from.evaluate(e,t);if(r<0||r>=n.length)throw new Error('"slice" index out of bounds');if(r!==Math.floor(r))throw new Error('"slice" index must be an integer');if(this.to){var a=this.to.evaluate(e,t);if(a<0||a>=n.length)throw new Error('"slice" index out of bounds');if(a!==Math.floor(a))throw new Error('"slice" index must be an integer');return n.slice(r,a)}return n.slice(r)}}],[{key:"parse",value:function(t,n){if(t.length<3||t.length>4)throw new Error('"slice" expects 2 or 3 arguments');var r=ze(t[1],n),a=ze(t[2],n,G);if(a.type!==G)throw new Error('"slice" index must return a number');if(4===t.length){var i=ze(t[3],n,G);if(i.type!==G)throw new Error('"slice" index must return a number');return new e(r.type,r,a,i)}return new e(r.type,r,a)}}]),e}(),Ne=function(){function e(){Object(s.a)(this,e),this.type=V}return Object(c.a)(e,[{key:"evaluate",value:function(e,t){return e&&void 0!==e.id}}],[{key:"parse",value:function(t){if(1!==t.length)throw new Error('"has-id" expects no arguments');return new e}}]),e}(),De=function(){function e(t,n){Object(s.a)(this,e),this.args=t,this.calculate=n,this.type=G}return Object(c.a)(e,[{key:"evaluate",value:function(e,t){var n;return this.args&&(n=this.args.map((function(n){return n.evaluate(e,t)}))),this.calculate(n)}}],[{key:"parse",value:function(t,n,r){return new e(t.slice(1).map((function(e){return ze(e,n)})),r)}}]),e}(),Re=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,null,[{key:"parse",value:function(e,t){switch(e.length){case 2:return De.parse(e,t,(function(e){return-e[0]}));case 3:return De.parse(e,t,(function(e){return e[0]-e[1]}));default:throw new Error('"-" expects 1 or 2 arguments')}}}]),n}(De),Le=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,null,[{key:"parse",value:function(e,t){return De.parse(e,t,(function(e){var t,n=1,r=Object(l.a)(e);try{for(r.s();!(t=r.n()).done;){n*=t.value}}catch(a){r.e(a)}finally{r.f()}return n}))}}]),n}(De),je=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,null,[{key:"parse",value:function(e,t){if(3===e.length)return De.parse(e,t,(function(e){return e[0]/e[1]}));throw new Error('"/" expects 2 arguments')}}]),n}(De),Ae=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,null,[{key:"parse",value:function(e,t){if(3===e.length)return De.parse(e,t,(function(e){return e[0]%e[1]}));throw new Error('"%" expects 2 arguments')}}]),n}(De),xe=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,null,[{key:"parse",value:function(e,t){if(3===e.length)return De.parse(e,t,(function(e){return Math.pow(e[0],e[1])}));throw new Error('"^" expects 1 or 2 arguments')}}]),n}(De),Pe=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,null,[{key:"parse",value:function(e,t){return De.parse(e,t,(function(e){var t,n=0,r=Object(l.a)(e);try{for(r.s();!(t=r.n()).done;){n+=t.value}}catch(a){r.e(a)}finally{r.f()}return n}))}}]),n}(De),Se=function(){function e(t,n){Object(s.a)(this,e),this.args=t,this.calculate=n,this.type=G}return Object(c.a)(e,[{key:"evaluate",value:function(e,t){var n;return this.args&&(n=this.args.map((function(n){return n.evaluate(e,t)}))),this.calculate(n)}}],[{key:"parse",value:function(t,n){return new e(t.slice(1).map((function(e){return ze(e,n)})),e.ops[t[0]])}}]),e}();Se.ops={abs:function(e){return Math.abs(e[0])},acos:function(e){return Math.acos(e[0])},asin:function(e){return Math.asin(e[0])},atan:function(e){return Math.atan(e[0])},ceil:function(e){return Math.ceil(e[0])},cos:function(e){return Math.cos(e[0])},e:function(){return Math.E},floor:function(e){return Math.floor(e[0])},ln:function(e){return Math.log(e[0])},ln2:function(){return Math.LN2},log10:function(e){return Math.log(e[0])/Math.LN10},log2:function(e){return Math.log(e[0])/Math.LN2},max:function(e){return Math.max.apply(Math,Object(j.a)(e))},min:function(e){return Math.min.apply(Math,Object(j.a)(e))},pi:function(){return Math.PI},round:function(e){return Math.round(e[0])},sin:function(e){return Math.sin(e[0])},sqrt:function(e){return Math.sqrt(e[0])},tan:function(e){return Math.tan(e[0])}};var Ue=function(){function e(t){Object(s.a)(this,e),this.args=t,this.type=C}return Object(c.a)(e,[{key:"evaluate",value:function(e,t){return this.args.map((function(n){return n.evaluate(e,t)})).join("")}}],[{key:"parse",value:function(t,n){return new e(t.slice(1).map((function(e){return ze(e,n)})))}}]),e}(),Be=function(){function e(t,n){Object(s.a)(this,e),this.arg=t,this.calculate=n,this.type=C}return Object(c.a)(e,[{key:"evaluate",value:function(e,t){return this.calculate(this.arg.evaluate(e,t))}}],[{key:"parse",value:function(t,n){if(2!==t.length)throw new Error("".concat(t[0]," expects 1 argument"));return new e(ze(t[1],n),e.ops[t[0]])}}]),e}();Be.ops={downcase:function(e){return e.toLowerCase()},upcase:function(e){return e.toUpperCase()}};var Ge=function(){function e(t){Object(s.a)(this,e),this.args=t,this.type=M}return Object(c.a)(e,[{key:"evaluate",value:function(e,t){var n=this._validate(this.args[0].evaluate(e,t)),r=this._validate(this.args[1].evaluate(e,t)),a=this._validate(this.args[2].evaluate(e,t));return new x.a({r:n,g:r,b:a})}},{key:"_validate",value:function(e){if("number"!=typeof e||e<0||e>255)throw new Error("".concat(e,": invalid color component"));return Math.round(e)}}],[{key:"parse",value:function(t,n){if(4!==t.length)throw new Error('"rgb" expects 3 arguments');return new e(t.slice(1).map((function(e){return ze(e,n)})))}}]),e}(),Ce=function(){function e(t){Object(s.a)(this,e),this.args=t,this.type=M}return Object(c.a)(e,[{key:"evaluate",value:function(e,t){var n=this._validate(this.args[0].evaluate(e,t)),r=this._validate(this.args[1].evaluate(e,t)),a=this._validate(this.args[2].evaluate(e,t)),i=this._validateAlpha(this.args[3].evaluate(e,t));return new x.a({r:n,g:r,b:a,a:i})}},{key:"_validate",value:function(e){if("number"!=typeof e||e<0||e>255)throw new Error("".concat(e,": invalid color component"));return Math.round(e)}},{key:"_validateAlpha",value:function(e){if("number"!=typeof e||e<0||e>1)throw new Error("".concat(e,": invalid alpha color component"));return e}}],[{key:"parse",value:function(t,n){if(5!==t.length)throw new Error('"rgba" expects 4 arguments');return new e(t.slice(1).map((function(e){return ze(e,n)})))}}]),e}(),Ve=function(){function e(t){Object(s.a)(this,e),this.color=t,this.type=Y(G,4)}return Object(c.a)(e,[{key:"evaluate",value:function(e,t){return new x.a(this.color.evaluate(e,t)).toRgba()}}],[{key:"parse",value:function(t,n){if(2!==t.length)throw new Error('"to-rgba" expects 1 argument');return new e(ze(t[1],n))}}]),e}(),Me=function(){function e(t,n){Object(s.a)(this,e),this.type=t,this.args=n}return Object(c.a)(e,[{key:"evaluate",value:function(e,t){var n,r,a=Object(l.a)(this.args);try{for(a.s();!(r=a.n()).done;){var i=r.value.evaluate(e,t);if(q(n=K(i),this.type))return i}}catch(o){a.e(o)}finally{a.f()}throw new Error("Expected ".concat(X(this.type)," but got ").concat(X(n)))}}],[{key:"parse",value:function(t,n){var r=t[0];if(t.length<2)throw new Error("".concat(r," expects at least one argument"));var a,i=1;if("array"===r){if(t.length>2){switch(t[1]){case"string":a=C;break;case"number":a=G;break;case"boolean":a=V;break;default:throw new Error('"array" type argument must be string, number or boolean')}i++}else a=z;var o;if(t.length>3){if(null!==(o=t[2])&&("number"!=typeof o||o<0||o!==Math.floor(o)))throw new Error('"array" length argument must be a positive integer literal');i++}a=Y(a,o)}else switch(r){case"string":a=C;break;case"number":a=G;break;case"boolean":a=V;break;case"object":a=F}for(var u=[];i<t.length;i++){var l=ze(t[i],n);u.push(l)}return new e(a,u)}}]),e}(),Fe=function(){function e(t,n){Object(s.a)(this,e),this.type=t,this.args=n}return Object(c.a)(e,[{key:"evaluate",value:function(t,n){if(this.type===V)return Boolean(this.args[0].evaluate(t,n));if(this.type===C)return W(this.args[0].evaluate(t,n));if(this.type===G){var r,a=Object(l.a)(this.args);try{for(a.s();!(r=a.n()).done;){var i=r.value,o=Number(i.evaluate(t,n));if(!isNaN(o))return o}}catch(y){a.e(y)}finally{a.f()}return null}if(this.type===M){var u,s=Object(l.a)(this.args);try{for(s.s();!(u=s.n()).done;){var c=u.value;try{var f=e.toColor(c.evaluate(t,n));if(f instanceof x.a)return f}catch(h){}}}catch(y){s.e(y)}finally{s.f()}return null}}}],[{key:"parse",value:function(t,n){var r=t[0],a=e.types[r];if(a===V||a===C){if(2!==t.length)throw new Error("".concat(r," expects one argument"))}else if(t.length<2)throw new Error("".concat(r," expects at least one argument"));for(var i=[],o=1;o<t.length;o++){var u=ze(t[o],n);i.push(u)}return new e(a,i)}},{key:"toBoolean",value:function(e){return Boolean(e)}},{key:"toString",value:function(e){return W(e)}},{key:"toNumber",value:function(e){var t=Number(e);if(isNaN(t))throw new Error('"'.concat(e,'" is not a number'));return t}},{key:"toColor",value:function(e){if(e instanceof x.a)return e;if("string"==typeof e){var t=x.a.fromString(e);if(t)return t;throw new Error('"'.concat(e,'" is not a color'))}if(Array.isArray(e))return x.a.fromArray(e);throw new Error('"'.concat(e,'" is not a color'))}}]),e}();function ze(e,t,n){var r=typeof e;if("string"===r||"boolean"===r||"number"===r||null===e){if(n)switch(n.kind){case"string":"string"!==r&&(e=Fe.toString(e));break;case"number":"number"!==r&&(e=Fe.toNumber(e));break;case"color":e=Fe.toColor(e)}e=["literal",e]}if(!Array.isArray(e)||0===e.length)throw new Error("Expression must be a non empty array");var a=e[0];if("string"!=typeof a)throw new Error("First element of expression must be a string");var i=Ye[a];if(void 0===i)throw new Error('Invalid expression operator "'.concat(a,'"'));if(!i)throw new Error('Unimplemented expression operator "'.concat(a,'"'));return i.parse(e,t,n)}Fe.types={"to-boolean":V,"to-color":M,"to-number":G,"to-string":C};var Ye={array:Me,boolean:Me,collator:null,format:null,image:null,literal:function(){function e(t){Object(s.a)(this,e),this.val=t,this.type=K(t)}return Object(c.a)(e,[{key:"evaluate",value:function(e,t){return this.val}}],[{key:"parse",value:function(t){if(2!==t.length)throw new Error('"literal" expects 1 argument');return new e(t[1])}}]),e}(),number:Me,"number-format":null,object:Me,string:Me,"to-boolean":Fe,"to-color":Fe,"to-number":Fe,"to-string":Fe,typeof:function(){function e(t){Object(s.a)(this,e),this.arg=t,this.type=C}return Object(c.a)(e,[{key:"evaluate",value:function(e,t){return X(K(this.arg.evaluate(e,t)))}}],[{key:"parse",value:function(t,n){if(2!==t.length)throw new Error('"typeof" expects 1 argument');return new e(ze(t[1],n))}}]),e}(),accumulated:null,"feature-state":null,"geometry-type":Q,id:J,"line-progress":null,properties:ee,at:_e,get:Ee,has:Oe,in:Te,"index-of":Ie,length:ke,slice:we,"!":se,"!=":ae,"<":ie,"<=":oe,"==":re,">":ue,">=":le,all:ce,any:fe,case:he,coalesce:pe,match:ve,within:null,interpolate:de,"interpolate-hcl":de,"interpolate-lab":de,step:be,let:me,var:ge,concat:Ue,downcase:Be,"is-supported-script":null,"resolved-locale":null,upcase:Be,rgb:Ge,rgba:Ce,"to-rgba":Ve,"-":Re,"*":Le,"/":je,"%":Ae,"^":xe,"+":Pe,abs:Se,acos:Se,asin:Se,atan:Se,ceil:Se,cos:Se,e:Se,floor:Se,ln:Se,ln2:Se,log10:Se,log2:Se,max:Se,min:Se,pi:Se,round:Se,sin:Se,sqrt:Se,tan:Se,zoom:te,"heatmap-density":null,"has-id":Ne,none:ye},He=function(){function e(t){Object(s.a)(this,e),this._expression=t}return Object(c.a)(e,[{key:"filter",value:function(e,t){if(!this._expression)return!0;try{return this._expression.evaluate(e,t)}catch(n){return console.log(n.message),!0}}}],[{key:"createFilter",value:function(t){if(!t)return null;this.isLegacyFilter(t)&&(t=this.convertLegacyFilter(t));try{var n;return new e(ze(t,null,V))}catch(n){return console.log(n.message),null}}},{key:"isLegacyFilter",value:function(e){if(!Array.isArray(e))return!0;if(0===e.length)return!0;switch(e[0]){case"==":case"!=":case">":case"<":case">=":case"<=":return 3===e.length&&"string"==typeof e[1]&&!Array.isArray(e[2]);case"in":return e.length>=3&&"string"==typeof e[1]&&!Array.isArray(e[2]);case"!in":case"none":case"!has":return!0;case"any":case"all":for(var t=1;t<e.length;t++)if(this.isLegacyFilter(e[t]))return!0;return!1;case"has":return 2===e.length&&("$id"===e[1]||"$type"===e[1]);default:return!1}}},{key:"convertLegacyFilter",value:function(t){if(!Array.isArray(t)||0===t.length)return!0;var n=t[0];if(1===t.length)return"any"!==n;switch(n){case"==":return e.convertComparison("==",t[1],t[2]);case"!=":return e.negate(e.convertComparison("==",t[1],t[2]));case">":case"<":case">=":case"<=":return e.convertComparison(n,t[1],t[2]);case"in":return e.convertIn(t[1],t.slice(2));case"!in":return e.negate(e.convertIn(t[1],t.slice(2)));case"any":case"all":case"none":return e.convertCombining(n,t.slice(1));case"has":return e.convertHas(t[1]);case"!has":return e.negate(e.convertHas(t[1]));default:throw new Error("Unexpected legacy filter.")}}},{key:"convertComparison",value:function(e,t,n){switch(t){case"$type":return[e,["geometry-type"],n];case"$id":return[e,["id"],n];default:return[e,["get",t],n]}}},{key:"convertIn",value:function(e,t){switch(e){case"$type":return["in",["geometry-type"],["literal",t]];case"$id":return["in",["id"],["literal",t]];default:return["in",["get",e],["literal",t]]}}},{key:"convertHas",value:function(e){switch(e){case"$type":return!0;case"$id":return["has-id"];default:return["has",e]}}},{key:"convertCombining",value:function(e,t){return[e].concat(t.map(this.convertLegacyFilter))}},{key:"negate",value:function(e){return["!",e]}}]),e}(),Xe=n(193),Ke=function(){function e(t,n){var r;switch(Object(s.a)(this,e),this.isDataDriven=!1,this.interpolator=null,t.type){case"number":case"color":r=!0;break;case"array":r="number"===t.value;break;default:r=!1}if(null==n&&(n=t.default),Array.isArray(n)&&n.length>0&&Ye[n[0]]){var a={number:G,color:M,string:C,boolean:V,enum:C};try{var i=ze(n,null,"array"===t.type?Y(a[t.value]||z,t.length):a[t.type]);this.getValue=this._buildExpression(i,t),this.isDataDriven=!0,i instanceof de&&i.input instanceof te&&(this.interpolator=i)}catch(y){console.log(y.message),this.getValue=this._buildSimple(t.default)}}else{r&&"interval"===n.type&&(r=!1);var o=n&&n.stops&&n.stops.length>0;if(o){var u,c=Object(l.a)(n.stops);try{for(c.s();!(u=c.n()).done;){var f=u.value;f[1]=this._validate(f[1],t)}}catch(h){c.e(h)}finally{c.f()}}if(this.isDataDriven=!!n&&!!n.property,this.isDataDriven)if(void 0!==n.default&&(n.default=this._validate(n.default,t)),o)switch(n.type){case"identity":this.getValue=this._buildIdentity(n,t);break;case"categorical":this.getValue=this._buildCategorical(n,t);break;default:this.getValue=r?this._buildInterpolate(n,t):this._buildInterval(n,t)}else this.getValue=this._buildIdentity(n,t);else o?this.getValue=r?this._buildZoomInterpolate(n):this._buildZoomInterval(n):(n=this._validate(n,t),this.getValue=this._buildSimple(n))}}return Object(c.a)(e,[{key:"_validate",value:function(t,n){if("number"===n.type){if(t<n.minimum)return n.minimum;if(t>n.maximum)return n.maximum}else"color"===n.type?t=e._parseColor(t):"enum"===n.type?"string"==typeof t&&(t=n.values.indexOf(t)):"array"===n.type&&"enum"===n.value?t=t.map((function(e){return"string"==typeof e?n.values.indexOf(e):e})):"string"===n.type&&(t=W(t));return t}},{key:"_buildSimple",value:function(e){return function(){return e}}},{key:"_buildExpression",value:function(e,t){var n=this;return function(r,a){try{var i=e.evaluate(a,r);return void 0===i?t.default:n._validate(i,t)}catch(o){return console.log(o.message),t.default}}}},{key:"_buildIdentity",value:function(e,t){var n=this;return function(r,a){var i;return a&&(i=a.values[e.property]),void 0!==i&&(i=n._validate(i,t)),null!=i?i:void 0!==e.default?e.default:t.default}}},{key:"_buildCategorical",value:function(e,t){var n=this;return function(r,a){var i;return a&&(i=a.values[e.property]),void 0!==(i=n._categorical(i,e.stops))?i:void 0!==e.default?e.default:t.default}}},{key:"_buildInterval",value:function(e,t){var n=this;return function(r,a){var i;return a&&(i=a.values[e.property]),"number"==typeof i?n._interval(i,e.stops):void 0!==e.default?e.default:t.default}}},{key:"_buildInterpolate",value:function(e,t){var n=this;return function(r,a){var i;return a&&(i=a.values[e.property]),"number"==typeof i?n._interpolate(i,e.stops,e.base||1):void 0!==e.default?e.default:t.default}}},{key:"_buildZoomInterpolate",value:function(e){var t=this;return function(n){return t._interpolate(n,e.stops,e.base||1)}}},{key:"_buildZoomInterval",value:function(e){var t=this;return function(n){return t._interval(n,e.stops)}}},{key:"_categorical",value:function(e,t){for(var n=t.length,r=0;r<n;r++)if(t[r][0]===e)return t[r][1]}},{key:"_interval",value:function(e,t){for(var n=t.length,r=0,a=0;a<n&&t[a][0]<=e;a++)r=a;return t[r][1]}},{key:"_interpolate",value:function(e,t,n){for(var r,a,i=t.length,o=0;o<i;o++){var u=t[o];if(!(u[0]<=e)){a=u;break}r=u}if(r&&a){var l=a[0]-r[0],s=e-r[0],c=1===n?s/l:(Math.pow(n,s)-1)/(Math.pow(n,l)-1);if(Array.isArray(r[1])){for(var f=r[1],y=a[1],h=[],p=0;p<f.length;p++)h.push(Object(U.e)(f[p],y[p],c));return h}return Object(U.e)(r[1],a[1],c)}return r?r[1]:a?a[1]:void 0}}],[{key:"_isEmpty",value:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}},{key:"_parseColor",value:function(e){return Array.isArray(e)?e:("string"==typeof e&&(e=new x.a(e)),e instanceof x.a&&!this._isEmpty(e)?x.a.toUnitRGBA(e):void 0)}}]),e}(),qe=n(158),We=function(){function e(t,n,r,a){switch(Object(s.a)(this,e),this.type=t,this.typeName=n.type,this.id=n.id,this.source=n.source,this.sourceLayer=n["source-layer"],this.minzoom=n.minzoom,this.maxzoom=n.maxzoom,this.filter=n.filter,this.layout=n.layout,this.paint=n.paint,this.z=r,this.uid=a,t){case Xe.c.BACKGROUND:this._layoutDefinition=Xe.b.backgroundLayoutDefinition,this._paintDefinition=Xe.b.backgroundPaintDefinition;break;case Xe.c.FILL:this._layoutDefinition=Xe.b.fillLayoutDefinition,this._paintDefinition=Xe.b.fillPaintDefinition;break;case Xe.c.LINE:this._layoutDefinition=Xe.b.lineLayoutDefinition,this._paintDefinition=Xe.b.linePaintDefinition;break;case Xe.c.SYMBOL:this._layoutDefinition=Xe.b.symbolLayoutDefinition,this._paintDefinition=Xe.b.symbolPaintDefinition;break;case Xe.c.CIRCLE:this._layoutDefinition=Xe.b.circleLayoutDefinition,this._paintDefinition=Xe.b.circlePaintDefinition}this._layoutProperties=this._parseLayout(this.layout),this._paintProperties=this._parsePaint(this.paint)}return Object(c.a)(e,[{key:"getFeatureFilter",value:function(){return void 0!==this._featureFilter?this._featureFilter:this._featureFilter=He.createFilter(this.filter)}},{key:"getLayoutProperty",value:function(e){return this._layoutProperties[e]}},{key:"getPaintProperty",value:function(e){return this._paintProperties[e]}},{key:"getLayoutValue",value:function(e,t,n){var r,a=this._layoutProperties[e];return a&&(r=a.getValue(t,n)),void 0===r&&(r=this._layoutDefinition[e].default),r}},{key:"getPaintValue",value:function(e,t,n){var r,a=this._paintProperties[e];return a&&(r=a.getValue(t,n)),void 0===r&&(r=this._paintDefinition[e].default),r}},{key:"isPainterDataDriven",value:function(){var e=this._paintProperties;if(e)for(var t in e)if(e[t].isDataDriven)return!0;return!1}},{key:"_parseLayout",value:function(e){var t={};for(var n in e){var r=this._layoutDefinition[n];r&&(t[n]=new Ke(r,e[n]))}return t}},{key:"_parsePaint",value:function(e){var t={};for(var n in e){var r=this._paintDefinition[n];r&&(t[n]=new Ke(r,e[n]))}return t}},{key:"computeAttributesKey",value:function(e,t,n,r){var a,i=0,o=0,u=Object(l.a)(t);try{for(u.s();!(a=u.n()).done;){var s=a.value,c=3;if(!s||s!==r){var f=n[s],y=f.isLayout,h=f.isOptional,p=y?this.getLayoutProperty(s):this.getPaintProperty(s);c=null!==p&&void 0!==p&&p.interpolator?2:null!==p&&void 0!==p&&p.isDataDriven?1:h&&!p?3:0}o|=c<<i,i+=2}}catch(v){u.e(v)}finally{u.f()}return o<<3|e}}]),e}(),Ze=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e,r,a,i){var o;return Object(s.a)(this,n),(o=t.call(this,e,r,a,i)).backgroundMaterial=new O(o.computeAttributesKey(y.b.BACKGROUND,O.ATTRIBUTES,O.ATTRIBUTES_INFO)),o}return Object(c.a)(n)}(We),$e=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e,r,a,i){var o;Object(s.a)(this,n);var u=(o=t.call(this,e,r,a,i)).getPaintProperty("fill-color"),l=o.getPaintProperty("fill-opacity"),c=o.getPaintProperty("fill-pattern");o.hasDataDrivenColor=null===u||void 0===u?void 0:u.isDataDriven,o.hasDataDrivenOpacity=null===l||void 0===l?void 0:l.isDataDriven,o.hasDataDrivenFill=o.hasDataDrivenColor||o.hasDataDrivenOpacity||(null===c||void 0===c?void 0:c.isDataDriven);var f=o.getPaintProperty("fill-outline-color");return o.outlineUsesFillColor=!f,o.hasDataDrivenOutlineColor=null===f||void 0===f?void 0:f.isDataDriven,o.hasDataDrivenOutline=f?f.isDataDriven:!!u&&u.isDataDriven,o.hasDataDrivenOutline=(f?o.hasDataDrivenOutlineColor:o.hasDataDrivenColor)||o.hasDataDrivenOpacity,o.fillMaterial=new I(o.computeAttributesKey(y.b.FILL,I.ATTRIBUTES,I.ATTRIBUTES_INFO)),o.outlineMaterial=new k(o.computeAttributesKey(y.b.OUTLINE,o.outlineUsesFillColor?k.ATTRIBUTES_FILL:k.ATTRIBUTES_OUTLINE,o.outlineUsesFillColor?k.ATTRIBUTES_INFO_FILL:k.ATTRIBUTES_INFO_OUTLINE),o.outlineUsesFillColor),o}return Object(c.a)(n)}(We),Je=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e,r,a,i){var o,u,l,c,f,h,p,v,d,b;Object(s.a)(this,n);var m=(b=t.call(this,e,r,a,i)).getPaintProperty("line-pattern");if(b.lineMaterial=new w(b.computeAttributesKey(y.b.LINE,w.ATTRIBUTES,w.ATTRIBUTES_INFO,m?"line-dasharray":"")),b.hasDataDrivenLine=(null===(o=b.getPaintProperty("line-blur"))||void 0===o?void 0:o.isDataDriven)||(null===(u=b.getPaintProperty("line-color"))||void 0===u?void 0:u.isDataDriven)||(null===(l=b.getPaintProperty("line-gap-width"))||void 0===l?void 0:l.isDataDriven)||(null===(c=b.getPaintProperty("line-offset"))||void 0===c?void 0:c.isDataDriven)||(null===(f=b.getPaintProperty("line-opacity"))||void 0===f?void 0:f.isDataDriven)||(null===(h=b.getPaintProperty("line-pattern"))||void 0===h?void 0:h.isDataDriven)||(null===(p=b.getPaintProperty("line-dasharray"))||void 0===p?void 0:p.isDataDriven)||(null===(v=b.getLayoutProperty("line-cap"))||void 0===v?void 0:v.isDataDriven)||(null===(d=b.getPaintProperty("line-width"))||void 0===d?void 0:d.isDataDriven),b.canUseThinTessellation=!1,!b.hasDataDrivenLine){var g=b.getPaintProperty("line-width");if(!g||"number"==typeof g&&.5*g<qe.U){var _=b.getPaintProperty("line-offset");(!_||"number"==typeof _&&0===_)&&(b.canUseThinTessellation=!0)}}return b}return Object(c.a)(n,[{key:"getDashKey",value:function(e,t){var n;switch(t){case f.e.BUTT:n="Butt";break;case f.e.ROUND:n="Round";break;case f.e.SQUARE:n="Square";break;default:n="Butt"}return"dasharray-[".concat(e.toString(),"]-").concat(n)}}]),n}(We),Qe=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e,r,a,i){var o,u,l,c,f,h,p,v,d,b,m,g,_;return Object(s.a)(this,n),(_=t.call(this,e,r,a,i)).iconMaterial=new R(_.computeAttributesKey(y.b.ICON,R.ATTRIBUTES,R.ATTRIBUTES_INFO)),_.textMaterial=new L(_.computeAttributesKey(y.b.TEXT,L.ATTRIBUTES,L.ATTRIBUTES_INFO)),_.hasDataDrivenIcon=(null===(o=_.getPaintProperty("icon-color"))||void 0===o?void 0:o.isDataDriven)||(null===(u=_.getPaintProperty("icon-halo-blur"))||void 0===u?void 0:u.isDataDriven)||(null===(l=_.getPaintProperty("icon-halo-color"))||void 0===l?void 0:l.isDataDriven)||(null===(c=_.getPaintProperty("icon-halo-width"))||void 0===c?void 0:c.isDataDriven)||(null===(f=_.getPaintProperty("icon-opacity"))||void 0===f?void 0:f.isDataDriven)||(null===(h=_.getLayoutProperty("icon-size"))||void 0===h?void 0:h.isDataDriven),_.hasDataDrivenText=(null===(p=_.getPaintProperty("text-color"))||void 0===p?void 0:p.isDataDriven)||(null===(v=_.getPaintProperty("text-halo-blur"))||void 0===v?void 0:v.isDataDriven)||(null===(d=_.getPaintProperty("text-halo-color"))||void 0===d?void 0:d.isDataDriven)||(null===(b=_.getPaintProperty("text-halo-width"))||void 0===b?void 0:b.isDataDriven)||(null===(m=_.getPaintProperty("text-opacity"))||void 0===m?void 0:m.isDataDriven)||(null===(g=_.getLayoutProperty("text-size"))||void 0===g?void 0:g.isDataDriven),_}return Object(c.a)(n)}(We),et=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e,r,a,i){var o;return Object(s.a)(this,n),(o=t.call(this,e,r,a,i)).circleMaterial=new T(o.computeAttributesKey(y.b.CIRCLE,T.ATTRIBUTES,T.ATTRIBUTES_INFO)),o}return Object(c.a)(n)}(We),tt=function(){function e(t,n,r){var a,i,o,u,l,c;Object(s.a)(this,e),this.allowOverlap=t.getLayoutValue("icon-allow-overlap",n),this.ignorePlacement=t.getLayoutValue("icon-ignore-placement",n),this.keepUpright=t.getLayoutValue("icon-keep-upright",n),this.optional=t.getLayoutValue("icon-optional",n),this.rotationAlignment=t.getLayoutValue("icon-rotation-alignment",n),this.rotationAlignment===Xe.a.AUTO&&(this.rotationAlignment=r?Xe.a.MAP:Xe.a.VIEWPORT),null!==(a=c=t.getLayoutProperty("icon-anchor"))&&void 0!==a&&a.isDataDriven?this._anchorProp=c:this.anchor=t.getLayoutValue("icon-anchor",n),null!==(i=c=t.getLayoutProperty("icon-offset"))&&void 0!==i&&i.isDataDriven?this._offsetProp=c:this.offset=t.getLayoutValue("icon-offset",n),null!==(o=c=t.getLayoutProperty("icon-padding"))&&void 0!==o&&o.isDataDriven?this._paddingProp=c:this.padding=t.getLayoutValue("icon-padding",n),null!==(u=c=t.getLayoutProperty("icon-rotate"))&&void 0!==u&&u.isDataDriven?this._rotateProp=c:this.rotate=t.getLayoutValue("icon-rotate",n),null!==(l=c=t.getLayoutProperty("icon-size"))&&void 0!==l&&l.isDataDriven?this._sizeProp=c:this.size=t.getLayoutValue("icon-size",n)}return Object(c.a)(e,[{key:"update",value:function(e,t){this._anchorProp&&(this.anchor=this._anchorProp.getValue(e,t)),this._offsetProp&&(this.offset=this._offsetProp.getValue(e,t)),this._paddingProp&&(this.padding=this._paddingProp.getValue(e,t)),this._rotateProp&&(this.rotate=this._rotateProp.getValue(e,t)),this._sizeProp&&(this.size=this._sizeProp.getValue(e,t))}}]),e}(),nt=function(){function e(t,n,r){var a,i,o,u,l,c,f,y,h,p,v,d;Object(s.a)(this,e),this.allowOverlap=t.getLayoutValue("text-allow-overlap",n),this.ignorePlacement=t.getLayoutValue("text-ignore-placement",n),this.keepUpright=t.getLayoutValue("text-keep-upright",n),this.optional=t.getLayoutValue("text-optional",n),this.rotationAlignment=t.getLayoutValue("text-rotation-alignment",n),this.rotationAlignment===Xe.a.AUTO&&(this.rotationAlignment=r?Xe.a.MAP:Xe.a.VIEWPORT),null!==(a=d=t.getLayoutProperty("text-anchor"))&&void 0!==a&&a.isDataDriven?this._anchorProp=d:this.anchor=t.getLayoutValue("text-anchor",n),null!==(i=d=t.getLayoutProperty("text-justify"))&&void 0!==i&&i.isDataDriven?this._justifyProp=d:this.justify=t.getLayoutValue("text-justify",n),null!==(o=d=t.getLayoutProperty("text-letter-spacing"))&&void 0!==o&&o.isDataDriven?this._letterSpacingProp=d:this.letterSpacing=t.getLayoutValue("text-letter-spacing",n),null!==(u=d=t.getLayoutProperty("text-line-height"))&&void 0!==u&&u.isDataDriven?this._lineHeightProp=d:this.lineHeight=t.getLayoutValue("text-line-height",n),null!==(l=d=t.getLayoutProperty("text-max-angle"))&&void 0!==l&&l.isDataDriven?this._maxAngleProp=d:this.maxAngle=t.getLayoutValue("text-max-angle",n),null!==(c=d=t.getLayoutProperty("text-max-width"))&&void 0!==c&&c.isDataDriven?this._maxWidthProp=d:this.maxWidth=t.getLayoutValue("text-max-width",n),null!==(f=d=t.getLayoutProperty("text-offset"))&&void 0!==f&&f.isDataDriven?this._offsetProp=d:this.offset=t.getLayoutValue("text-offset",n),null!==(y=d=t.getLayoutProperty("text-padding"))&&void 0!==y&&y.isDataDriven?this._paddingProp=d:this.padding=t.getLayoutValue("text-padding",n),null!==(h=d=t.getLayoutProperty("text-rotate"))&&void 0!==h&&h.isDataDriven?this._rotateProp=d:this.rotate=t.getLayoutValue("text-rotate",n),null!==(p=d=t.getLayoutProperty("text-size"))&&void 0!==p&&p.isDataDriven?this._sizeProp=d:this.size=t.getLayoutValue("text-size",n),null!==(v=d=t.getLayoutProperty("text-writing-mode"))&&void 0!==v&&v.isDataDriven?this._writingModeProp=d:this.writingMode=t.getLayoutValue("text-writing-mode",n)}return Object(c.a)(e,[{key:"update",value:function(e,t){this._anchorProp&&(this.anchor=this._anchorProp.getValue(e,t)),this._justifyProp&&(this.justify=this._justifyProp.getValue(e,t)),this._letterSpacingProp&&(this.letterSpacing=this._letterSpacingProp.getValue(e,t)),this._lineHeightProp&&(this.lineHeight=this._lineHeightProp.getValue(e,t)),this._maxAngleProp&&(this.maxAngle=this._maxAngleProp.getValue(e,t)),this._maxWidthProp&&(this.maxWidth=this._maxWidthProp.getValue(e,t)),this._offsetProp&&(this.offset=this._offsetProp.getValue(e,t)),this._paddingProp&&(this.padding=this._paddingProp.getValue(e,t)),this._rotateProp&&(this.rotate=this._rotateProp.getValue(e,t)),this._sizeProp&&(this.size=this._sizeProp.getValue(e,t)),this._writingModeProp&&(this.writingMode=this._writingModeProp.getValue(e,t))}}]),e}()}}]);