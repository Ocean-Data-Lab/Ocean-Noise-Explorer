{"version":3,"sources":["../node_modules/@arcgis/core/views/support/colorUtils.js","../node_modules/@arcgis/core/symbols/support/previewSymbol2D.js"],"names":["e","r","n","a","g","o","b","Math","round","t","u","h","i","size","maxSize","M","maxOutlineSize","k","lineWidth","x","z","document","createElement","F","width","height","U","fill","color","type","src","toCss","E","Z","rotation","angle","m","l","s","D","ignoreWhiteSymbols","shape","stroke","offset","min","j","scale","C","style","cx","cy","path","command","values","cap","c","symbolConfig","isSquareFill","max","ceil","y","url","text","font","getContext","weight","push","family","join","measureText","L","test","length","parseFloat","slice","S","toString","xoffset","yoffset","align","alignBaseline","verticalAlignment","decoration","rotated","kerning","shapeDescriptor","renderOptions","node","opacity","useRotationSize","effectView","q","applyColorModulation","unshift"],"mappings":"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","file":"static/js/193.a9618ab3.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport t from\"../../Color.js\";import{isSome as r}from\"../../core/maybe.js\";async function n(r){await r.whenReady();const n=r.basemapView.baseLayerViews.map((t=>t.layer));if(!n.length){const n=getComputedStyle(r.container).backgroundColor,a=n&&new t(n);return r.get(\"background.color\")||(a&&0!==a.a?a:null)||null}const a=(await r.takeScreenshot({format:\"png\",layers:n.toArray()})).data.data,o=a.length;let e=0,u=0,l=0,c=0,s=0,i=0;for(let t=0;t<o;t+=4){const r=a[t],n=a[t+1],o=a[t+2],h=a[t+3],d=h/255;e+=r*r*d,u+=n*n*d,l+=o*o*d,s+=d,h&&(c+=h,i++)}e=Math.round(Math.sqrt(e/s)),u=Math.round(Math.sqrt(u/s)),l=Math.round(Math.sqrt(l/s));return new t([e,u,l,c/i/255])}async function a(t){if(!t)return null;const a=await n(t);return r(a)?o(a):null}function o(t){return e(t).isBright?\"light\":\"dark\"}function e(r){let{r:n,g:a,b:o,a:e}=r;return e<1&&(n=Math.round(e*n+255*(1-e)),a=Math.round(e*a+255*(1-e)),o=Math.round(e*o+255*(1-e))),new t({r:n,g:a,b:o})}function u(t){const{r,g:n,b:a}=e(t);return.2126*r+.7152*n+.0722*a}export{n as getBackgroundColor,a as getBackgroundColorTheme,u as getColorLuminance,o as getColorTheme};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../Color.js\";import t from\"../../core/Error.js\";import{pt2px as a,px2pt as n}from\"../../core/screenUtils.js\";import{getFill as l,getStroke as s,getPatternUrlWithColor as o}from\"./gfxUtils.js\";import{SymbolSizeDefaults as i,shapes as c,adjustColorBrightness as r}from\"./previewUtils.js\";import{renderSymbol as m}from\"./renderUtils.js\";import{getColorLuminance as u}from\"../../views/support/colorUtils.js\";const h=\"picture-fill\",p=\"picture-marker\",d=\"simple-fill\",f=\"simple-line\",y=\"simple-marker\",v=\"text\",w=\"Aa\",g=i.size,b=i.maxSize,M=i.maxOutlineSize,k=i.lineWidth,x=225,z=document.createElement(\"canvas\");function L(e,t){const a=z.getContext(\"2d\"),n=[];return t&&(t.weight&&n.push(t.weight),t.size&&n.push(t.size+\"px\"),t.family&&n.push(t.family)),a.font=n.join(\" \"),a.measureText(e).width}const j=7.2/2.54,C=72/2.54;function S(e){if(0===e.length)return 0;if(e.length>2){const t=n(1),a=parseFloat(e);switch(e.slice(-2)){case\"px\":return a;case\"pt\":return a*t;case\"in\":return 72*a*t;case\"pc\":return 12*a*t;case\"mm\":return a*j*t;case\"cm\":return a*C*t}}return parseFloat(e)}function F(e){const t=e?.size;return{width:null!=t&&\"object\"==typeof t&&\"width\"in t?a(t.width):null,height:null!=t&&\"object\"==typeof t&&\"height\"in t?a(t.height):null}}async function U(e,t){const a=t.fill,n=e.color;if(\"pattern\"===a?.type&&n&&e.type!==h){const e=await o(a.src,n.toCss(!0));a.src=e,t.fill=a}}function E(e,t){return e>t?\"dark\":\"light\"}function Z(e,t){const n=\"number\"==typeof t?.size?t?.size:null,o=null!=n?a(n):null,i=null!=t?.maxSize?a(t.maxSize):null,r=null!=t?.rotation?t.rotation:\"angle\"in e?e.angle:null,m=l(e);let u=s(e);\"dark\"!==D(e,245)||t?.ignoreWhiteSymbols||(u={width:.75,...u,color:\"#bdc3c7\"});const x={shape:null,fill:m,stroke:u,offset:[0,0]};u?.width&&(u.width=Math.min(u.width,M));const z=u?.width||0;let j=null!=t?.size&&(null==t?.scale||t?.scale),C=0,U=0,E=!1;switch(e.type){case y:{const t=e.style,n=Math.min(null!=o?o:a(e.size),i||b);switch(C=n,U=n,t){case\"circle\":x.shape={type:\"circle\",cx:0,cy:0,r:.5*n},j||(C+=z,U+=z);break;case\"cross\":x.shape={type:\"path\",path:[{command:\"M\",values:[0,.5*U]},{command:\"L\",values:[C,.5*U]},{command:\"M\",values:[.5*C,0]},{command:\"L\",values:[.5*C,U]}]};break;case\"diamond\":x.shape={type:\"path\",path:[{command:\"M\",values:[0,.5*U]},{command:\"L\",values:[.5*C,0]},{command:\"L\",values:[C,.5*U]},{command:\"L\",values:[.5*C,U]},{command:\"Z\",values:[]}]},j||(C+=z,U+=z);break;case\"square\":x.shape={type:\"path\",path:[{command:\"M\",values:[0,0]},{command:\"L\",values:[C,0]},{command:\"L\",values:[C,U]},{command:\"L\",values:[0,U]},{command:\"Z\",values:[]}]},j||(C+=z,U+=z),r&&(E=!0);break;case\"triangle\":x.shape={type:\"path\",path:[{command:\"M\",values:[.5*C,0]},{command:\"L\",values:[C,U]},{command:\"L\",values:[0,U]},{command:\"Z\",values:[]}]},j||(C+=z,U+=z),r&&(E=!0);break;case\"x\":x.shape={type:\"path\",path:[{command:\"M\",values:[0,0]},{command:\"L\",values:[C,U]},{command:\"M\",values:[C,0]},{command:\"L\",values:[0,U]}]},r&&(E=!0);break;case\"path\":x.shape={type:\"path\",path:e.path||\"\"},j||(C+=z,U+=z),r&&(E=!0),j=!0}break}case f:{const{width:e,height:a}=F(t),n=null!=a?a:Math.min(null!=o?o:z,i||M),l=null!=e?e:k;u.width=n,C=l,U=n;const s=x?.stroke?.cap||\"butt\",c=\"round\"===s;j=!0,x.stroke.cap=\"butt\"===s?\"square\":s,x.shape={type:\"path\",path:[{command:\"M\",values:[c?n/2:0,U/2]},{command:\"L\",values:[c?C-n/2:C,U/2]}]};break}case h:case d:{const e=\"object\"==typeof t?.symbolConfig&&t?.symbolConfig.isSquareFill,{width:a,height:n}=F(t);C=e&&null!=a?a:null!=o?o:g,U=e&&null!=n?n:C,j||(C+=z,U+=z),j=!0,x.shape=e?{type:\"path\",path:[{command:\"M\",values:[0,0]},{command:\"L\",values:[C,0]},{command:\"L\",values:[C,U]},{command:\"L\",values:[0,U]},{command:\"L\",values:[0,0]},{command:\"Z\",values:[]}]}:c.fill[0];break}case p:{let t=a(e.width),n=a(e.height);const l=null!=o?o:Math.max(t,n),s=t/n;t=s<=1?Math.ceil(l*s):l,n=s<=1?l:Math.ceil(l/s),C=Math.min(t,i||b),U=Math.min(n,i||b),x.shape={type:\"image\",x:-Math.round(C/2),y:-Math.round(U/2),width:C,height:U,src:e.url||\"\"},r&&(E=!0);break}case v:{const t=e,n=t.text||w,l=t.font,s=Math.min(null!=o?o:a(l.size),i||b),c=L(n,{weight:l.weight,size:s,family:l.family}),r=/[\\uE600-\\uE6FF]/.test(n);C=r?s:c,U=s;let m=.25*S((l?s:0).toString());r&&(m+=5),x.shape={type:\"text\",text:n,x:t.xoffset||0,y:t.yoffset||m,align:\"middle\",alignBaseline:t.verticalAlignment,decoration:l&&l.decoration,rotated:t.rotated,kerning:t.kerning},x.font=l&&{size:s,style:l.style,decoration:l.decoration,weight:l.weight,family:l.family};break}}return{shapeDescriptor:x,size:[C,U],renderOptions:{node:t?.node,scale:j,opacity:t?.opacity,rotation:r,useRotationSize:E,effectView:t?.effectView}}}async function q(e,a){const{shapeDescriptor:n,size:l,renderOptions:s}=Z(e,a);if(!n.shape)throw new t(\"symbolPreview: renderPreviewHTML2D\",\"symbol not supported.\");await U(e,n);const o=[[n]];if(\"object\"==typeof a?.symbolConfig&&a?.symbolConfig.applyColorModulation){const e=.6*l[0];o.unshift([{...n,offset:[-e,0],fill:r(n.fill,-.3)}]),o.push([{...n,offset:[e,0],fill:r(n.fill,.3)}]),l[0]+=2*e,s.scale=!1}return m(o,l,s)}function D(t,a=x){const n=l(t),o=s(t),i=!n||\"type\"in n?null:new e(n),c=o?.color?new e(o?.color):null,r=i?E(u(i),a):null,m=c?E(u(c),a):null;return m?r?r===m?r:a>=x?\"light\":\"dark\":m:r}export{D as getContrastingBackgroundTheme,Z as getRenderSymbolParameters,q as previewSymbol2D};\n"],"sourceRoot":""}