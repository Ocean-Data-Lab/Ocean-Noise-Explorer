{"version":3,"sources":["../node_modules/@arcgis/core/layers/graphics/sources/WFSSource.js","../node_modules/@arcgis/core/layers/WFSLayer.js","../node_modules/@arcgis/core/layers/graphics/sources/support/clientSideDefaults.js","../node_modules/@arcgis/core/layers/graphics/data/QueryEngineCapabilities.js","../node_modules/@arcgis/core/layers/graphics/sources/geojson/geojson.js","../node_modules/@babel/runtime/helpers/esm/wrapRegExp.js","../node_modules/@arcgis/core/layers/ogc/xmlUtils.js","../node_modules/@arcgis/core/layers/ogc/dateUtils.js","../node_modules/@arcgis/core/layers/ogc/wfsUtils.js"],"names":["j","arguments","capabilities","y","type","refresh","n","e","a","load","_connection","invoke","t","extent","sourceJSON","dataChanged","updates","signal","this","addResolvingPromise","_startWorker","Promise","resolve","close","openPorts","toJSON","r","S","fromJSON","count","F","layer","url","o","customParameters","s","name","namespaceUri","spatialReference","c","fields","p","geometryType","l","swapXY","wfsCapabilities","f","u","some","h","w","d","i","g","readFeatureTypes","m","featureType","map","geometryField","getFeatureUrl","operations","GetFeature","getFeatureOutputFormat","outputFormat","objectIdField","_createLoadOptions","strategy","error","value","drawingInfo","title","wfsInfo","featureUrl","maxFeatures","supportedSpatialReferences","version","wfsNamespace","prototype","constructOnly","J","M","D","_","copyright","definitionExpression","displayField","elevationInfo","featureReduction","fieldsIndex","fullExtent","labelsVisible","labelingInfo","legendEnabled","operationalLayerType","mode","outFields","popupEnabled","popupTemplate","screenSizePerspectiveEnabled","source","Y","WGS84","spatialReferences","destroy","loadFromPortal","supportedTypes","then","read","origin","parsedUrl","revert","C","renderer","Q","timeInfo","commitProperty","_get","createPopupTemplate","filter","I","unshift","L","alias","_set","X","N","returnGeometry","where","timeOffset","timeExtent","offset","unit","getField","domain","get","queryFeatures","from","createQuery","features","sourceLayer","queryObjectIds","queryFeatureCount","queryExtent","ignoreDefaults","v","x","b","readOnly","aliasOf","String","json","write","ignoreOrigin","enabled","allowNull","O","T","isRequired","origins","service","B","reader","target","writer","R","W","V","P","U","types","q","Boolean","E","k","symbol","test","JSON","stringify","Function","description","attributes","analytics","supportsCacheHint","attachment","data","isVersioned","supportsAttachment","supportsM","supportsZ","metadata","supportsAdvancedFieldProperties","supportsCalculate","supportsTruncate","supportsValidateSql","supportsAdd","supportsDelete","supportsEditing","supportsChangeTracking","supportsQuery","supportsQueryAnalytics","supportsQueryAttachments","supportsQueryTopFeatures","supportsResizeAttachments","supportsSync","supportsUpdate","supportsExceedsLimitStatistics","query","queryRelated","supportsCount","supportsOrderBy","supportsPagination","queryTopFeatures","editing","supportsGeometryUpdate","supportsGlobalId","supportsReturnServiceEditsInSourceSpatialReference","supportsRollbackOnFailure","supportsUpdateWithoutM","supportsUploadWithItemId","supportsDeleteByAnonymous","supportsDeleteByOthers","supportsUpdateByAnonymous","supportsUpdateByOthers","supportsStatistics","supportsPercentileStatistics","supportsSpatialAggregationStatistics","supportedSpatialAggregationStatistics","envelope","centroid","convexHull","supportsCentroid","supportsDistance","supportsDistinct","supportsExtent","supportsGeometryProperties","supportsHavingClause","supportsQuantization","supportsQuantizationEditMode","supportsQueryGeometry","supportsResultType","supportsSqlExpression","supportsMaxRecordCountFactor","supportsStandardizedQueriesOnly","supportsTopFeaturesQuery","supportsQueryByOthers","supportsHistoricMoment","supportsFormatPBF","supportsDisjointSpatialRelationship","supportsDefaultSpatialReference","supportsCompactGeometry","maxRecordCountFactor","maxRecordCount","standardMaxRecordCount","tileMaxRecordCount","LineString","MultiLineString","MultiPoint","Point","Polygon","MultiPolygon","coordinates","geometry","properties","id","length","push","G","lengths","coords","hasZ","crs","code","RegExp","Set","Object","keys","has","delete","add","objectIdFieldName","objectIdFieldType","unknownFields","Array","_wrapRegExp","re","groups","BabelRegExp","_super","_groups","WeakMap","flags","_this","set","buildGroups","result","reduce","create","exec","str","call","Symbol","replace","substitution","args","slice","apply","children","localName","year","month","day","hours","minutes","seconds","ms","padEnd","substring","isUTC","Date","UTC","offsetSign","offsetHours","offsetMinutes","getTime","Number","isNaN","A","responseType","SERVICE","REQUEST","VERSION","$","te","firstElementChild","getAttribute","ne","ae","FeatureTypeList","FeatureType","typeName","namespacePrefix","parseInt","textContent","match","wkid","Name","prefix","lookupNamespaceURI","Abstract","Title","WGS84BoundingBox","split","parseFloat","xmin","ymin","xmax","ymax","DefaultSRS","DefaultCRS","OtherSRS","OtherCRS","featureTypes","GetCapabilities","DescribeFeatureType","OperationsMetadata","Operation","DCP","HTTP","Get","Parameter","AllowedValues","Value","toLowerCase","Constraint","DefaultValue","next","errors","z","find","all","K","Z","toFixed","TYPENAME","element","complexType","complexContent","extension","sequence","hasAttribute","simpleType","restriction","maxLength","nullable","XMLSerializer","serializeToString","H","document","dateFields","parse","response","TYPENAMES","OUTPUTFORMAT","SRSNAME","STARTINDEX","startIndex","COUNT","DOMParser","parseFromString","trim","Exception","ExceptionText"],"mappings":"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","file":"static/js/81.e46bdd1c.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../geometry.js\";import t from\"../../../core/Error.js\";import{HandleOwnerMixin as r}from\"../../../core/HandleOwner.js\";import o from\"../../../core/has.js\";import s from\"../../../core/Loadable.js\";import{isSome as a,unwrap as i}from\"../../../core/maybe.js\";import{debounce as n,eachAlways as c}from\"../../../core/promiseUtils.js\";import{open as p}from\"../../../core/workers/workers.js\";import{property as l}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as u}from\"../../../core/accessorSupport/decorators/subclass.js\";import{featureGeometryTypeKebabDictionary as m}from\"../../../geometry/support/typeUtils.js\";import{createCapabilities as y,createDrawingInfo as d}from\"./support/clientSideDefaults.js\";import{getCapabilities as f,getWFSLayerInfo as h,prepareWFSLayerFields as w,findFeatureType as g}from\"../../ogc/wfsUtils.js\";import S from\"../../../rest/support/FeatureSet.js\";import F from\"../../../geometry/Extent.js\";let j=class extends(r(s)){constructor(){super(...arguments),this.capabilities=y(!1,!1),this.type=\"wfs\",this.refresh=n((async e=>{await this.load();const{extent:t}=await this._connection.invoke(\"refresh\",e);return this.sourceJSON.extent=t,{dataChanged:!0,updates:{extent:this.sourceJSON.extent}}}))}load(e){const t=(a(e)&&e.signal)??null;return this.addResolvingPromise(this._startWorker({signal:t})),Promise.resolve(this)}destroy(){this._connection?.close(),this._connection=null}async openPorts(){return await this.load(),this._connection.openPorts()}async queryFeatures(e,t={}){await this.load(t);const r=await this._connection.invoke(\"queryFeatures\",e?e.toJSON():null,t);return S.fromJSON(r)}async queryFeaturesJSON(e,t={}){return await this.load(t),this._connection.invoke(\"queryFeatures\",e?e.toJSON():null,t)}async queryFeatureCount(e,t={}){return await this.load(t),this._connection.invoke(\"queryFeatureCount\",e?e.toJSON():null,t)}async queryObjectIds(e,t={}){return await this.load(t),this._connection.invoke(\"queryObjectIds\",e?e.toJSON():null,t)}async queryExtent(e,t={}){await this.load(t);const r=await this._connection.invoke(\"queryExtent\",e?e.toJSON():null,t);return{count:r.count,extent:F.fromJSON(r.extent)}}async querySnapping(e,t={}){return await this.load(t),this._connection.invoke(\"querySnapping\",e,t)}async _createLoadOptions(e){const{url:r,customParameters:o,name:s,namespaceUri:a,spatialReference:n,fields:c,geometryType:p,swapXY:l}=this.layer;if(!r)throw new t(\"wfs-layer:missing-url\",\"WFSLayer must be created with a url\");this.wfsCapabilities||(this.wfsCapabilities=await f(r,{customParameters:o,...e}));const u=[\"fields\",\"geometryType\",\"name\",\"namespaceUri\",\"spatialReference\",\"swapXY\"].some((e=>null==this.layer[e])),y=u?await h(this.wfsCapabilities,s,a,{spatialReference:n,customParameters:o,signal:e?.signal}):{...w(c),geometryType:p,name:s,namespaceUri:a,spatialReference:n,swapXY:l},d=i(g(this.wfsCapabilities.readFeatureTypes(),y.name,y.namespaceUri)),S=m.toJSON(y.geometryType);return{customParameters:o,featureType:d,fields:y.fields.map((e=>e.toJSON())),geometryField:y.geometryField,geometryType:S,getFeatureUrl:this.wfsCapabilities.operations.GetFeature.url,getFeatureOutputFormat:this.wfsCapabilities.operations.GetFeature.outputFormat,objectIdField:y.objectIdField,spatialReference:y.spatialReference.toJSON(),swapXY:y.swapXY}}async _startWorker(e){const[t,r]=await c([this._createLoadOptions(e),p(\"WFSSourceWorker\",{...e,strategy:o(\"feature-layers-workers\")?\"dedicated\":\"local\"})]),s=t.error||r.error||null,a=r.value||null;if(s)throw a&&a.close(),s;const i=t.value;this._connection=r.value;const{extent:n}=await this._connection.invoke(\"load\",i,e);this.sourceJSON={extent:n,fields:i.fields,geometryType:i.geometryType,objectIdField:i.objectIdField,geometryField:i.geometryField,drawingInfo:d(i.geometryType),name:i.featureType.title,wfsInfo:{name:i.featureType.name,featureUrl:i.getFeatureUrl,maxFeatures:3e3,swapXY:i.swapXY,supportedSpatialReferences:i.featureType.supportedSpatialReferences,version:\"2.0.0\",wfsNamespace:i.featureType.namespaceUri}}}};e([l()],j.prototype,\"capabilities\",void 0),e([l({constructOnly:!0})],j.prototype,\"layer\",void 0),e([l()],j.prototype,\"sourceJSON\",void 0),e([l()],j.prototype,\"type\",void 0),e([l()],j.prototype,\"wfsCapabilities\",void 0),j=e([u(\"esri.layers.graphics.sources.WFSSource\")],j);export{j as WFSSource};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../geometry.js\";import r from\"../PopupTemplate.js\";import\"../renderers/ClassBreaksRenderer.js\";import\"../renderers/DictionaryRenderer.js\";import\"../renderers/DotDensityRenderer.js\";import\"../renderers/HeatmapRenderer.js\";import\"../renderers/PieChartRenderer.js\";import\"../renderers/Renderer.js\";import\"../renderers/SimpleRenderer.js\";import\"../renderers/UniqueValueRenderer.js\";import\"../renderers/support/jsonUtils.js\";import{rendererTypes as t,webSceneRendererTypes as i}from\"../renderers/support/types.js\";import{isSome as o}from\"../core/maybe.js\";import{MultiOriginJSONMixin as s}from\"../core/MultiOriginJSONSupport.js\";import{setDeepValue as n}from\"../core/object.js\";import{urlToObject as p}from\"../core/urlUtils.js\";import{property as a}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import{Integer as l}from\"../core/accessorSupport/ensureType.js\";import{subclass as d}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as m}from\"../core/accessorSupport/decorators/writer.js\";import{featureGeometryTypeKebabDictionary as u}from\"../geometry/support/typeUtils.js\";import y from\"./Layer.js\";import{WFSSource as f}from\"./graphics/sources/WFSSource.js\";import{BlendLayer as c}from\"./mixins/BlendLayer.js\";import{CustomParametersMixin as h}from\"./mixins/CustomParametersMixin.js\";import{FeatureEffectLayer as g}from\"./mixins/FeatureEffectLayer.js\";import{OperationalLayer as j}from\"./mixins/OperationalLayer.js\";import{OrderedLayer as v}from\"./mixins/OrderedLayer.js\";import{PortalLayer as w}from\"./mixins/PortalLayer.js\";import{RefreshableLayer as F}from\"./mixins/RefreshableLayer.js\";import{ScaleRangeLayer as b}from\"./mixins/ScaleRangeLayer.js\";import{TemporalLayer as x}from\"./mixins/TemporalLayer.js\";import{WFS_OID_FIELD_NAME as I}from\"./ogc/wfsUtils.js\";import{elevationInfo as O,labelsVisible as R,legendEnabled as S,opacityDrawingInfo as P,popupEnabled as U,screenSizePerspectiveEnabled as q,url as E}from\"./support/commonProperties.js\";import{featureReductionProperty as T}from\"./support/featureReductionUtils.js\";import L from\"./support/Field.js\";import{defineFieldProperties as D}from\"./support/fieldProperties.js\";import{fixRendererFields as C,fixTimeInfoFields as Q}from\"./support/fieldUtils.js\";import W from\"./support/LabelClass.js\";import{reader as V}from\"./support/labelingInfo.js\";import N from\"../rest/support/Query.js\";import{createPopupTemplate as X}from\"../support/popupUtils.js\";import Y from\"../geometry/SpatialReference.js\";import B from\"../geometry/Extent.js\";var J;const M=D();let _=J=class extends(v(h(g(c(x(F(b(j(w(s(y))))))))))){constructor(e){super(e),this.capabilities=null,this.copyright=null,this.customParameters=null,this.definitionExpression=null,this.displayField=null,this.elevationInfo=null,this.featureReduction=null,this.featureUrl=void 0,this.fields=null,this.fieldsIndex=null,this.fullExtent=null,this.geometryType=null,this.labelsVisible=!0,this.labelingInfo=null,this.legendEnabled=!0,this.objectIdField=null,this.operationalLayerType=\"WFS\",this.maxFeatures=3e3,this.mode=0,this.name=null,this.namespaceUri=null,this.outFields=null,this.popupEnabled=!0,this.popupTemplate=null,this.screenSizePerspectiveEnabled=!0,this.source=new f({layer:this}),this.spatialReference=Y.WGS84,this.spatialReferences=[4326],this.swapXY=void 0,this.title=\"WFS\",this.type=\"wfs\",this.url=null,this.version=void 0}static fromWFSLayerInfo(e){const{customParameters:r,fields:t,geometryField:i,geometryType:o,name:s,namespaceUri:n,objectIdField:p,spatialReference:a,swapXY:l,url:d,wfsCapabilities:m}=e;return new J({customParameters:r,fields:t,geometryField:i,geometryType:o,name:s,namespaceUri:n,objectIdField:p,spatialReference:a,swapXY:l,url:d,wfsCapabilities:m})}destroy(){this.source?.destroy()}load(e){return this.addResolvingPromise(this.loadFromPortal({supportedTypes:[\"WFS\"]},e).then((()=>this.source.load(e))).then((()=>{this.read(this.source.sourceJSON,{origin:\"service\",url:this.parsedUrl}),this.revert([\"objectIdField\",\"fields\",\"timeInfo\",\"spatialReference\",\"name\",\"namespaceUri\"],\"service\"),C(this.renderer,this.fieldsIndex),Q(this.timeInfo,this.fieldsIndex)}))),Promise.resolve(this)}get createQueryVersion(){return this.commitProperty(\"definitionExpression\"),this.commitProperty(\"timeExtent\"),this.commitProperty(\"timeOffset\"),this.commitProperty(\"geometryType\"),this.commitProperty(\"capabilities\"),(this._get(\"createQueryVersion\")||0)+1}get defaultPopupTemplate(){return this.createPopupTemplate()}writeFields(e,r,t){const i=e.filter((e=>e.name!==I));this.geometryField&&i.unshift(new L({name:this.geometryField,alias:this.geometryField,type:\"geometry\"})),n(t,i.map((e=>e.toJSON())),r)}get parsedUrl(){return this.url?p(this.url):null}set renderer(e){C(e,this.fieldsIndex),this._set(\"renderer\",e)}createPopupTemplate(e){return X(this,e)}createQuery(){const e=new N;e.returnGeometry=!0,e.outFields=[\"*\"],e.where=this.definitionExpression||\"1=1\";const{timeOffset:r,timeExtent:t}=this;return e.timeExtent=null!=r&&null!=t?t.offset(-r.value,r.unit):t||null,e}getFieldDomain(e,r){return this.getField(e)?.domain}getField(e){return this.fieldsIndex.get(e)}queryFeatures(e,r){return this.load().then((()=>this.source.queryFeatures(N.from(e)||this.createQuery(),r))).then((e=>{if(e?.features)for(const r of e.features)r.layer=r.sourceLayer=this;return e}))}queryObjectIds(e,r){return this.load().then((()=>this.source.queryObjectIds(N.from(e)||this.createQuery(),r)))}queryFeatureCount(e,r){return this.load().then((()=>this.source.queryFeatureCount(N.from(e)||this.createQuery(),r)))}queryExtent(e,r){return this.load().then((()=>this.source.queryExtent(N.from(e)||this.createQuery(),r)))}async hasDataChanged(){try{const{dataChanged:e,updates:r}=await this.source.refresh(this.customParameters);return o(r)&&this.read(r,{origin:\"service\",url:this.parsedUrl,ignoreDefaults:!0}),e}catch{}return!1}};e([a({readOnly:!0,aliasOf:\"source.capabilities\"})],_.prototype,\"capabilities\",void 0),e([a({type:String})],_.prototype,\"copyright\",void 0),e([a({readOnly:!0})],_.prototype,\"createQueryVersion\",null),e([a({json:{name:\"wfsInfo.customParameters\",write:{ignoreOrigin:!0}}})],_.prototype,\"customParameters\",void 0),e([a({readOnly:!0})],_.prototype,\"defaultPopupTemplate\",null),e([a({type:String,json:{name:\"layerDefinition.definitionExpression\",write:{enabled:!0,allowNull:!0}}})],_.prototype,\"definitionExpression\",void 0),e([a({type:String})],_.prototype,\"displayField\",void 0),e([a(O)],_.prototype,\"elevationInfo\",void 0),e([a(T)],_.prototype,\"featureReduction\",void 0),e([a({type:String,readOnly:!0,json:{name:\"wfsInfo.featureUrl\",write:{ignoreOrigin:!0,isRequired:!0}}})],_.prototype,\"featureUrl\",void 0),e([a({type:[L],json:{name:\"layerDefinition.fields\",write:{ignoreOrigin:!0,isRequired:!0},origins:{service:{name:\"fields\"}}}})],_.prototype,\"fields\",void 0),e([m(\"fields\")],_.prototype,\"writeFields\",null),e([a(M.fieldsIndex)],_.prototype,\"fieldsIndex\",void 0),e([a({type:B,json:{name:\"extent\"}})],_.prototype,\"fullExtent\",void 0),e([a()],_.prototype,\"geometryField\",void 0),e([a({type:String,json:{read:{source:\"layerDefinition.geometryType\",reader:u.read},write:{target:\"layerDefinition.geometryType\",writer:u.write,ignoreOrigin:!0},origins:{service:{read:u.read}}}})],_.prototype,\"geometryType\",void 0),e([a({type:String})],_.prototype,\"id\",void 0),e([a(R)],_.prototype,\"labelsVisible\",void 0),e([a({type:[W],json:{name:\"layerDefinition.drawingInfo.labelingInfo\",read:{reader:V},write:!0}})],_.prototype,\"labelingInfo\",void 0),e([a(S)],_.prototype,\"legendEnabled\",void 0),e([a({type:[\"show\",\"hide\"]})],_.prototype,\"listMode\",void 0),e([a({type:String})],_.prototype,\"objectIdField\",void 0),e([a({type:[\"WFS\"]})],_.prototype,\"operationalLayerType\",void 0),e([a({type:l,json:{name:\"wfsInfo.maxFeatures\",write:{ignoreOrigin:!0,isRequired:!0}}})],_.prototype,\"maxFeatures\",void 0),e([a({type:[0],readOnly:!0,json:{origins:{\"web-map\":{write:{ignoreOrigin:!0,isRequired:!0}}}}})],_.prototype,\"mode\",void 0),e([a({type:String,json:{name:\"wfsInfo.name\",write:{ignoreOrigin:!0,isRequired:!0}}})],_.prototype,\"name\",void 0),e([a({type:String,json:{name:\"wfsInfo.wfsNamespace\",write:{ignoreOrigin:!0,isRequired:!0}}})],_.prototype,\"namespaceUri\",void 0),e([a(P)],_.prototype,\"opacity\",void 0),e([a(M.outFields)],_.prototype,\"outFields\",void 0),e([a({readOnly:!0})],_.prototype,\"parsedUrl\",null),e([a(U)],_.prototype,\"popupEnabled\",void 0),e([a({type:r,json:{name:\"popupInfo\",write:!0}})],_.prototype,\"popupTemplate\",void 0),e([a({types:t,json:{origins:{service:{name:\"drawingInfo.renderer\"},\"web-scene\":{types:i,name:\"layerDefinition.drawingInfo.renderer\",write:!0}},name:\"layerDefinition.drawingInfo.renderer\",write:{ignoreOrigin:!0}}})],_.prototype,\"renderer\",null),e([a(q)],_.prototype,\"screenSizePerspectiveEnabled\",void 0),e([a({readOnly:!0})],_.prototype,\"source\",void 0),e([a({type:Y,json:{name:\"layerDefinition.spatialReference\",write:{ignoreOrigin:!0,isRequired:!0},origins:{service:{name:\"extent.spatialReference\"}}}})],_.prototype,\"spatialReference\",void 0),e([a({readOnly:!0,type:[l],json:{name:\"wfsInfo.supportedSpatialReferences\",write:{ignoreOrigin:!0,isRequired:!0}}})],_.prototype,\"spatialReferences\",void 0),e([a({type:Boolean,value:!1,json:{name:\"wfsInfo.swapXY\",write:{ignoreOrigin:!0,isRequired:!0}}})],_.prototype,\"swapXY\",void 0),e([a({json:{write:{ignoreOrigin:!0,isRequired:!0},origins:{service:{name:\"name\"}}}})],_.prototype,\"title\",void 0),e([a({json:{read:!1},readOnly:!0})],_.prototype,\"type\",void 0),e([a(E)],_.prototype,\"url\",void 0),e([a({type:String,readOnly:!0,json:{name:\"wfsInfo.version\",write:{ignoreOrigin:!0,isRequired:!0}}})],_.prototype,\"version\",void 0),e([a({aliasOf:\"source.wfsCapabilities\"})],_.prototype,\"wfsCapabilities\",void 0),_=J=e([d(\"esri.layers.WFSLayer\")],_);const k=_;export{k as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport t from\"../../../../core/has.js\";import{clone as s}from\"../../../../core/lang.js\";import{queryCapabilities as e}from\"../../data/QueryEngineCapabilities.js\";import{defaultPointSymbolJSON as r,defaultPolylineSymbolJSON as p,defaultPolygonSymbolJSON as o}from\"../../../../symbols/support/defaultsJSON.js\";function u(t){return{renderer:{type:\"simple\",symbol:\"esriGeometryPoint\"===t||\"esriGeometryMultipoint\"===t?r:\"esriGeometryPolyline\"===t?p:o}}}const n=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/;let i=1;function a(s,e){if(t(\"esri-csp-restrictions\"))return()=>({[e]:null,...s});try{let t=`this.${e} = null;`;for(const e in s){t+=`this${n.test(e)?`.${e}`:`[\"${e}\"]`} = ${JSON.stringify(s[e])};`}const r=new Function(`\\n      return class AttributesClass$${i++} {\\n        constructor() {\\n          ${t};\\n        }\\n      }\\n    `)();return()=>new r}catch(r){return()=>({[e]:null,...s})}}function l(t={}){return[{name:\"New Feature\",description:\"\",prototype:{attributes:s(t)}}]}function c(t,s){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:t},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:s,supportsDelete:s,supportsEditing:s,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:s,supportsExceedsLimitStatistics:!0},query:e,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},editing:{supportsGeometryUpdate:s,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1}}}export{c as createCapabilities,a as createDefaultAttributesFunction,l as createDefaultTemplate,u as createDrawingInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nconst t={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsCentroid:!0,supportsCacheHint:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsTopFeaturesQuery:!1,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,supportsDefaultSpatialReference:!1,supportsCompactGeometry:!1,maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0};export{t as queryCapabilities};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import{OptimizedFeature as t}from\"../../OptimizedFeature.js\";import n from\"../../OptimizedGeometry.js\";import{isNumericField as o}from\"../../../support/fieldUtils.js\";const r={LineString:\"esriGeometryPolyline\",MultiLineString:\"esriGeometryPolyline\",MultiPoint:\"esriGeometryMultipoint\",Point:\"esriGeometryPoint\",Polygon:\"esriGeometryPolygon\",MultiPolygon:\"esriGeometryPolygon\"};function i(e){return r[e]}function*s(e){switch(e.type){case\"Feature\":yield e;break;case\"FeatureCollection\":for(const t of e.features)t&&(yield t)}}function*c(e){if(!e)return null;switch(e.type){case\"Point\":yield e.coordinates;break;case\"LineString\":case\"MultiPoint\":yield*e.coordinates;break;case\"MultiLineString\":case\"Polygon\":for(const t of e.coordinates)yield*t;break;case\"MultiPolygon\":for(const t of e.coordinates)for(const e of t)yield*e}}function*u(e,o={}){const{geometryType:r,objectIdField:s}=o;for(const c of e){const{geometry:e,properties:u,id:l}=c;if(e&&i(e.type)!==r)continue;const f=u||{};let a=f[s]??null;s&&null!=l&&!f[s]&&(f[s]=a=l);const y=new t(e?d(new n,e,o):null,f,null,a);yield y}}function l(e){for(const t of e)if(t.length>2)return!0;return!1}function f(e){return!y(e)}function a(e){return y(e)}function y(e){let t=0;for(let n=0;n<e.length;n++){const o=e[n],r=e[(n+1)%e.length];t+=o[0]*r[1]-r[0]*o[1]}return t<=0}function p(e){const t=e[0],n=e[e.length-1];return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]||e.push(t),e}function d(e,t,n){switch(t.type){case\"LineString\":return g(e,t,n);case\"MultiLineString\":return m(e,t,n);case\"MultiPoint\":return h(e,t,n);case\"MultiPolygon\":return w(e,t,n);case\"Point\":return P(e,t,n);case\"Polygon\":return b(e,t,n)}}function g(e,t,n){return F(e,t.coordinates,n),e}function m(e,t,n){for(const o of t.coordinates)F(e,o,n);return e}function h(e,t,n){return F(e,t.coordinates,n),e}function w(e,t,n){for(const o of t.coordinates){j(e,o[0],n);for(let t=1;t<o.length;t++)S(e,o[t],n)}return e}function P(e,t,n){return M(e,t.coordinates,n),e}function b(e,t,n){const o=t.coordinates;j(e,o[0],n);for(let r=1;r<o.length;r++)S(e,o[r],n);return e}function j(e,t,n){const o=p(t);f(o)?G(e,o,n):F(e,o,n)}function S(e,t,n){const o=p(t);a(o)?G(e,o,n):F(e,o,n)}function F(e,t,n){for(const o of t)M(e,o,n);e.lengths.push(t.length)}function G(e,t,n){for(let o=t.length-1;o>=0;o--)M(e,t[o],n);e.lengths.push(t.length)}function M(e,t,n){const[o,r,i]=t;e.coords.push(o,r),n.hasZ&&e.coords.push(i||0)}function k(e){switch(typeof e){case\"string\":return\"esriFieldTypeString\";case\"number\":return\"esriFieldTypeDouble\";default:return\"unknown\"}}function O(t){if(!t)throw new e(\"geojson-layer:empty\",\"GeoJSON data is empty\");if(\"Feature\"!==t.type&&\"FeatureCollection\"!==t.type)throw new e(\"geojson-layer:unsupported-geojson-object\",\"missing or not supported GeoJSON object type\",{data:t});const{crs:n}=t;if(!n)return;const o=\"string\"==typeof n?n:\"name\"===n.type?n.properties.name:\"EPSG\"===n.type?n.properties.code:null,r=new RegExp(\".*(CRS84H?|4326)$\",\"i\");if(!o||!r.test(o))throw new e(\"geojson-layer:unsupported-crs\",\"unsupported GeoJSON 'crs' member\",{crs:n})}function T(e,t={}){const n=[],r=new Set,u=new Set;let f,a=!1,y=null,p=!1,{geometryType:d=null}=t,g=!1;for(const o of s(e)){const{geometry:e,properties:t,id:s}=o;if(!e||(d||(d=i(e.type)),i(e.type)===d)){if(!a){a=l(c(e))}if(p||(p=null!=s,p&&(f=typeof s,y=Object.keys(t).filter((e=>t[e]===s)))),p&&null!=s&&(y.length>1?y=y.filter((e=>t[e]===s)):1===y.length&&(y=t[y[0]]===s?y:[])),!g&&t){let e=!0;for(const o in t){if(r.has(o))continue;const i=t[o];if(null==i){e=!1,u.add(o);continue}const s=k(i);\"unknown\"!==s?(u.delete(o),r.add(o),n.push({name:o,alias:o,type:s})):u.add(o)}g=e}}}const m=y&&1===y.length&&y[0]||null;if(m)for(const i of n)if(i.name===m&&o(i)){i.type=\"esriFieldTypeOID\";break}return{fields:n,geometryType:d,hasZ:a,objectIdFieldName:m,objectIdFieldType:f,unknownFields:Array.from(u)}}function L(e,t){return Array.from(u(s(e),t))}export{L as createOptimizedFeatures,i as getGeometryType,T as inferLayerProperties,O as validateGeoJSON};\n","import _typeof from \"./typeof.js\";\nimport setPrototypeOf from \"./setPrototypeOf.js\";\nimport inherits from \"./inherits.js\";\nexport default function _wrapRegExp() {\n  _wrapRegExp = function _wrapRegExp(re, groups) {\n    return new BabelRegExp(re, void 0, groups);\n  };\n\n  var _super = RegExp.prototype,\n      _groups = new WeakMap();\n\n  function BabelRegExp(re, flags, groups) {\n    var _this = new RegExp(re, flags);\n\n    return _groups.set(_this, groups || _groups.get(re)), setPrototypeOf(_this, BabelRegExp.prototype);\n  }\n\n  function buildGroups(result, re) {\n    var g = _groups.get(re);\n\n    return Object.keys(g).reduce(function (groups, name) {\n      return groups[name] = result[g[name]], groups;\n    }, Object.create(null));\n  }\n\n  return inherits(BabelRegExp, RegExp), BabelRegExp.prototype.exec = function (str) {\n    var result = _super.exec.call(this, str);\n\n    return result && (result.groups = buildGroups(result, this)), result;\n  }, BabelRegExp.prototype[Symbol.replace] = function (str, substitution) {\n    if (\"string\" == typeof substitution) {\n      var groups = _groups.get(this);\n\n      return _super[Symbol.replace].call(this, str, substitution.replace(/\\$<([^>]+)>/g, function (_, name) {\n        return \"$\" + groups[name];\n      }));\n    }\n\n    if (\"function\" == typeof substitution) {\n      var _this = this;\n\n      return _super[Symbol.replace].call(this, str, function () {\n        var args = arguments;\n        return \"object\" != _typeof(args[args.length - 1]) && (args = [].slice.call(args)).push(buildGroups(args, _this)), substitution.apply(this, args);\n      });\n    }\n\n    return _super[Symbol.replace].call(this, str, substitution);\n  }, _wrapRegExp.apply(this, arguments);\n}","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nfunction o(n,c){for(const e of n.children)if(e.localName in c){const n=c[e.localName];if(\"function\"==typeof n){const c=n(e);c&&o(e,c)}else o(e,n)}}function*n(o,c){for(const e of o.children)if(e.localName in c){const o=c[e.localName];\"function\"==typeof o?yield o(e):yield*n(e,o)}}export{n as iterateXML,o as visitXML};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nfunction e(e){return t(e)??n(e)}function n(e){const n=new Date(e).getTime();return Number.isNaN(n)?null:n}function t(e){const n=s.exec(e);if(!n)return null;const t=n.groups,u=+t.year,o=+t.month-1,r=+t.day,f=+(t.hours??\"0\"),i=+(t.minutes??\"0\"),d=+(t.seconds??\"0\");if(f>23)return null;if(i>59)return null;if(d>59)return null;const l=t.ms??\"0\",c=l?+l.padEnd(3,\"0\").substring(0,3):0;let a;if(t.isUTC)a=Date.UTC(u,o,r,f,i,d,c);else if(t.offsetSign){const e=+t.offsetHours,n=+t.offsetMinutes;a=6e4*(\"+\"===t.offsetSign?-1:1)*(60*e+n)+Date.UTC(u,o,r,f,i,d,c)}else a=new Date(u,o,r,f,i,d,c).getTime();return Number.isNaN(a)?null:a}const s=/^(?:(?<year>-?\\d{4,})-(?<month>\\d{2})-(?<day>\\d{2}))(?:T(?<hours>\\d{2}):(?<minutes>\\d{2}):(?<seconds>\\d{2})(?:\\.(?<ms>\\d+))?)?(?:(?<isUTC>Z)|(?:(?<offsetSign>\\+|-)(?<offsetHours>\\d{2}):(?<offsetMinutes>\\d{2})))?$/;export{e as parseDate,n as parseJSDate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import e from\"../../request.js\";import t from\"../../core/Error.js\";import{find as r,cache as n}from\"../../core/iteratorUtils.js\";import{isNone as a,isSome as o}from\"../../core/maybe.js\";import{eachAlways as s}from\"../../core/promiseUtils.js\";import{isHTTPSProtocol as i,hasSameOrigin as p,toHTTPS as u}from\"../../core/urlUtils.js\";import{initializeProjection as c,project as l}from\"../../geometry/projection.js\";import{WGS84 as m,equals as y}from\"../../geometry/support/spatialReferenceUtils.js\";import{featureGeometryTypeKebabDictionary as f}from\"../../geometry/support/typeUtils.js\";import{getGeometryType as d}from\"../graphics/sources/geojson/geojson.js\";import{parseDate as g}from\"./dateUtils.js\";import{iterateXML as w,visitXML as b}from\"./xmlUtils.js\";import h from\"../support/Field.js\";import T from\"../../geometry/SpatialReference.js\";import F from\"../../geometry/Extent.js\";const S=\"xlink:href\",x=\"2.0.0\",C=\"__esri_wfs_id__\",E=\"wfs-layer:getWFSLayerTypeInfo-error\",N=\"wfs-layer:empty-service\",P=\"wfs-layer:feature-type-not-found\",R=\"wfs-layer:geojson-not-supported\",j=\"wfs-layer:kvp-encoding-not-supported\",A=\"wfs-layer:malformed-json\",G=\"wfs-layer:unknown-geometry-type\",k=\"wfs-layer:unknown-field-type\",v=\"wfs-layer:unsupported-spatial-reference\",U=\"wfs-layer:unsupported-wfs-version\";async function D(t,r){const n=I((await e(t,{responseType:\"text\",query:{SERVICE:\"WFS\",REQUEST:\"GetCapabilities\",VERSION:x,...r?.customParameters},signal:r?.signal})).data);return $(t,n),n}function I(e){const t=te(e);ne(t),ae(t);const r=t.firstElementChild,a=n(M(r));return{operations:L(r),get featureTypes(){return Array.from(a())},readFeatureTypes:a}}const O=new Set([\"json\",\"application/json\",\"geojson\",\"application/json; subtype=geojson\"]);function L(e){let r=!1;const n={GetCapabilities:{url:\"\"},DescribeFeatureType:{url:\"\"},GetFeature:{url:\"\",outputFormat:null,supportsPagination:!1}};if(b(e,{OperationsMetadata:{Operation:e=>{switch(e.getAttribute(\"name\")){case\"GetCapabilities\":return{DCP:{HTTP:{Get:e=>{n.GetCapabilities.url=e.getAttribute(S)}}}};case\"DescribeFeatureType\":return{DCP:{HTTP:{Get:e=>{n.DescribeFeatureType.url=e.getAttribute(S)}}}};case\"GetFeature\":return{DCP:{HTTP:{Get:e=>{n.GetFeature.url=e.getAttribute(S)}}},Parameter:e=>{if(\"outputFormat\"===e.getAttribute(\"name\"))return{AllowedValues:{Value:e=>{const t=e.textContent;O.has(t.toLowerCase())&&(n.GetFeature.outputFormat=t)}}}}}}},Constraint:e=>{switch(e.getAttribute(\"name\")){case\"KVPEncoding\":return{DefaultValue:e=>{r=\"true\"===e.textContent.toLowerCase()}};case\"ImplementsResultPaging\":return{DefaultValue:e=>{n.GetFeature.supportsPagination=\"true\"===e.textContent.toLowerCase()}}}}}}),!r)throw new t(j,\"WFS service doesn't support key/value pair (KVP) encoding\");if(a(n.GetFeature.outputFormat))throw new t(R,\"WFS service doesn't support GeoJSON output format\");return n}function $(e,t){i(e)&&(p(e,t.operations.DescribeFeatureType.url,!0)&&(t.operations.DescribeFeatureType.url=u(t.operations.DescribeFeatureType.url)),p(e,t.operations.GetFeature.url,!0)&&(t.operations.GetFeature.url=u(t.operations.GetFeature.url)))}function M(e){return w(e,{FeatureTypeList:{FeatureType:e=>{const t={typeName:\"undefined:undefined\",name:\"\",title:\"\",description:\"\",extent:null,namespacePrefix:\"\",namespaceUri:\"\",supportedSpatialReferences:[]},r=new Set([4326]),n=e=>{const t=parseInt(e.textContent.match(/(?<wkid>\\d+$)/i)?.groups?.wkid,10);Number.isNaN(t)||r.add(t)};return b(e,{Name:e=>{const{name:r,prefix:n}=re(e.textContent);t.typeName=`${n}:${r}`,t.name=r,t.namespacePrefix=n,t.namespaceUri=e.lookupNamespaceURI(n)},Abstract:e=>{t.description=e.textContent},Title:e=>{t.title=e.textContent},WGS84BoundingBox:e=>{t.extent=V(e)},DefaultSRS:n,DefaultCRS:n,OtherSRS:n,OtherCRS:n}),t.title||(t.title=t.name),t.supportedSpatialReferences.push(...r),t}}})}function V(e){let t,r,n,a;for(const o of e.children)switch(o.localName){case\"LowerCorner\":[t,r]=o.textContent.split(\" \").map((e=>Number.parseFloat(e)));break;case\"UpperCorner\":[n,a]=o.textContent.split(\" \").map((e=>Number.parseFloat(e)))}return{xmin:t,ymin:r,xmax:n,ymax:a,spatialReference:m}}function W(e,t,n){return r(e,(e=>n?e.name===t&&e.namespaceUri===n:e.typeName===t||e.name===t))}async function X(e,t,r,n={}){const{featureType:a,extent:o}=await Y(e,t,r,n),{fields:s,geometryType:i,swapXY:p,objectIdField:u,geometryField:c}=await q(e,a.typeName,n);return{url:e.operations.GetCapabilities.url,name:a.name,namespaceUri:a.namespaceUri,fields:s,geometryField:c,geometryType:i,objectIdField:u,spatialReference:n.spatialReference??T.WGS84,extent:o,swapXY:p,wfsCapabilities:e,customParameters:n.customParameters}}async function Y(e,r,n,o={}){const{spatialReference:s=T.WGS84}=o,i=e.readFeatureTypes(),p=r?W(i,r,n):i.next().value;if(a(p))throw r?new t(P,`The type '${r}' could not be found in the service`):new t(N,\"The service is empty\");let u=new F({...p.extent,spatialReference:s});if(!y(s,m))try{await c(m,s,void 0,o),u=l(u,m)}catch{throw new t(v,\"Projection not supported\")}return{extent:u,spatialReference:s,featureType:p}}async function q(e,r,n={}){const[o,i]=await s([J(e.operations.DescribeFeatureType.url,r,n),_(e,r,n)]);if(o.error||i.error)throw new t(E,`An error occurred while getting info about the feature type '${r}'`,{error:o.error||i.error});const{fields:p,errors:u}=o.value,c=o.value.geometryType||i.value.geometryType,l=i.value.swapXY;if(a(c))throw new t(G,`The geometry type could not be determined for type '${r}`,{typeName:r,geometryType:c,fields:p,errors:u});return{...z(p),geometryType:c,swapXY:l}}function z(e){const t=e.find((e=>\"geometry\"===e.type));let r=e.find((e=>\"oid\"===e.type));return e=e.filter((e=>\"geometry\"!==e.type)),r||(r=new h({name:C,type:\"oid\",alias:C}),e.unshift(r)),{geometryField:t?.name??null,objectIdField:r.name,fields:e}}async function _(t,r,n={}){let a,o=!1;const[s,i]=await Promise.all([K(t.operations.GetFeature.url,r,t.operations.GetFeature.outputFormat,{...n,count:1}),e(t.operations.GetFeature.url,{responseType:\"text\",query:Z(r,void 0,{...n,count:1}),signal:n?.signal})]),p=\"FeatureCollection\"===s.type&&s.features[0]?.geometry;if(p){let e;switch(a=f.fromJSON(d(p.type)),p.type){case\"Point\":e=p.coordinates;break;case\"LineString\":case\"MultiPoint\":e=p.coordinates[0];break;case\"MultiLineString\":case\"Polygon\":e=p.coordinates[0][0];break;case\"MultiPolygon\":e=p.coordinates[0][0][0]}const t=/<[^>]*pos[^>]*> *(-?\\d+(?:\\.\\d+)?) (-?\\d+(?:\\.\\d+)?)/.exec(i.data);if(t){const r=e[0].toFixed(3),n=e[1].toFixed(3),a=parseFloat(t[1]).toFixed(3);r===parseFloat(t[2]).toFixed(3)&&n===a&&(o=!0)}}return{geometryType:a,swapXY:o}}async function J(t,r,n){return Q(r,(await e(t,{responseType:\"text\",query:{SERVICE:\"WFS\",REQUEST:\"DescribeFeatureType\",VERSION:x,TYPENAME:r,...n?.customParameters},signal:n?.signal})).data)}function Q(e,n){const{name:a}=re(e),s=te(n);ae(s);const i=r(w(s.firstElementChild,{element:e=>({name:e.getAttribute(\"name\"),typeName:re(e.getAttribute(\"type\")).name})}),(({name:e})=>e===a));if(o(i)){const e=r(w(s.firstElementChild,{complexType:e=>e}),(e=>e.getAttribute(\"name\")===i.typeName));if(o(e))return B(e)}throw new t(P,`Type '${e}' not found in document`,{document:(new XMLSerializer).serializeToString(s)})}const H=new Set([\"objectid\",\"fid\"]);function B(e){const r=[],n=[];let a;const o=w(e,{complexContent:{extension:{sequence:{element:e=>e}}}});for(const s of o){const o=s.getAttribute(\"name\");if(!o)continue;let i,p;if(s.hasAttribute(\"type\")?i=re(s.getAttribute(\"type\")).name:b(s,{simpleType:{restriction:e=>(i=re(e.getAttribute(\"base\")).name,{maxLength:e=>{p=+e.getAttribute(\"value\")}})}}),!i)continue;const u=\"true\"===s.getAttribute(\"nillable\");let c=!1;switch(i.toLowerCase()){case\"integer\":case\"nonpositiveinteger\":case\"negativeinteger\":case\"long\":case\"int\":case\"short\":case\"byte\":case\"nonnegativeinteger\":case\"unsignedlong\":case\"unsignedint\":case\"unsignedshort\":case\"unsignedbyte\":case\"positiveinteger\":n.push(new h({name:o,alias:o,type:\"integer\",nullable:u}));break;case\"float\":case\"double\":case\"decimal\":n.push(new h({name:o,alias:o,type:\"double\",nullable:u}));break;case\"boolean\":case\"string\":case\"gyearmonth\":case\"gyear\":case\"gmonthday\":case\"gday\":case\"gmonth\":case\"anyuri\":case\"qname\":case\"notation\":case\"normalizedstring\":case\"token\":case\"language\":case\"idrefs\":case\"entities\":case\"nmtoken\":case\"nmtokens\":case\"name\":case\"ncname\":case\"id\":case\"idref\":case\"entity\":case\"duration\":case\"time\":n.push(new h({name:o,alias:o,type:\"string\",nullable:u,length:p??255}));break;case\"datetime\":case\"date\":n.push(new h({name:o,alias:o,type:\"date\",nullable:u,length:p??36}));break;case\"pointpropertytype\":a=\"point\",c=!0;break;case\"multipointpropertytype\":a=\"multipoint\",c=!0;break;case\"curvepropertytype\":case\"multicurvepropertytype\":case\"multilinestringpropertytype\":a=\"polyline\",c=!0;break;case\"surfacepropertytype\":case\"multisurfacepropertytype\":case\"multipolygonpropertytype\":a=\"polygon\",c=!0;break;case\"geometrypropertytype\":case\"multigeometrypropertytype\":c=!0,r.push(new t(G,`geometry type '${i}' is not supported`,{type:(new XMLSerializer).serializeToString(e)}));break;default:r.push(new t(k,`Unknown field type '${i}'`,{type:(new XMLSerializer).serializeToString(e)}))}c&&n.push(new h({name:o,alias:o,type:\"geometry\",nullable:u}))}for(const t of n)if(\"integer\"===t.type&&!t.nullable&&H.has(t.name.toLowerCase())){t.type=\"oid\";break}return{geometryType:a,fields:n,errors:r}}async function K(r,n,a,o){let{data:s}=await e(r,{responseType:\"text\",query:Z(n,a,o),signal:o?.signal});s=s.replace(/\": +(-?\\d+),(\\d+)(,)?/g,'\": $1.$2$3');try{if(o?.dateFields?.length){const e=new Set(o.dateFields);return JSON.parse(s,((t,r)=>e.has(t)?g(r):r))}return JSON.parse(s)}catch(i){throw new t(A,\"Error while parsing the response\",{response:s,error:i})}}function Z(e,t,r){return{SERVICE:\"WFS\",REQUEST:\"GetFeature\",VERSION:x,TYPENAMES:e,OUTPUTFORMAT:t,SRSNAME:\"EPSG:4326\",STARTINDEX:r?.startIndex,COUNT:r?.count,...r?.customParameters}}async function ee(t,r,n){const a=te((await e(t,{responseType:\"text\",query:{SERVICE:\"WFS\",REQUEST:\"GetFeature\",VERSION:x,TYPENAMES:r,RESULTTYPE:\"hits\",...n?.customParameters},signal:n?.signal})).data);ae(a);const o=Number.parseFloat(a.firstElementChild.getAttribute(\"numberMatched\"));return Number.isNaN(o)?0:o}function te(e){return(new DOMParser).parseFromString(e.trim(),\"text/xml\")}function re(e){const[t,r]=e.split(\":\");return{prefix:r?t:\"\",name:r??t}}function ne(e){const r=e.firstElementChild.getAttribute(\"version\");if(r&&r!==x)throw new t(U,`Unsupported WFS version ${r}. Supported version: ${x}`)}function ae(e){let r,n;if(b(e.firstElementChild,{Exception:e=>(r=e.getAttribute(\"exceptionCode\"),{ExceptionText:e=>{n=e.textContent}})}),r)throw new t(`wfs-layer:${r}`,n)}export{C as WFS_OID_FIELD_NAME,J as describeFeatureType,W as findFeatureType,D as getCapabilities,K as getFeature,ee as getFeatureCount,Y as getFeatureTypeInfo,X as getWFSLayerInfo,Q as parseDescribeFeatureTypeResponse,I as parseGetCapabilitiesResponse,z as prepareWFSLayerFields};\n"],"sourceRoot":""}