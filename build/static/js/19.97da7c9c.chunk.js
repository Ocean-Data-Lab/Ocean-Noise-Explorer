(this["webpackJsonpmatx-react-pro"]=this["webpackJsonpmatx-react-pro"]||[]).push([[19],{1048:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return u})),r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return a}));var n=r(588);function a(e,t,r){if(e.count===t.count)for(var a=e.count,u=r[0],o=r[1],s=r[2],i=r[3],c=r[4],f=r[5],p=r[6],d=r[7],l=r[8],b=e.typedBuffer,h=e.typedBufferStride,v=t.typedBuffer,y=t.typedBufferStride,m=0;m<a;m++){var x=m*h,O=m*y,w=v[O],j=v[O+1],g=v[O+2],T=v[O+3];b[x]=u*w+i*j+p*g,b[x+1]=o*w+c*j+d*g,b[x+2]=s*w+f*j+l*g,b[x+3]=T}else n.a.error("source and destination buffers need to have the same number of elements")}function u(e,t){for(var r=Math.min(e.count,t.count),n=e.typedBuffer,a=e.typedBufferStride,u=t.typedBuffer,o=t.typedBufferStride,s=0;s<r;s++){var i=s*a,c=s*o,f=u[c],p=u[c+1],d=u[c+2],l=f*f+p*p+d*d;if(l>0){var b=1/Math.sqrt(l);n[i]=b*f,n[i+1]=b*p,n[i+2]=b*d}}}function o(e,t,r){for(var n=Math.min(e.count,t.count),a=e.typedBuffer,u=e.typedBufferStride,o=t.typedBuffer,s=t.typedBufferStride,i=0;i<n;i++){var c=i*u,f=i*s;a[c]=r*o[f],a[c+1]=r*o[f+1],a[c+2]=r*o[f+2],a[c+3]=r*o[f+3]}}function s(e,t,r){for(var n=Math.min(e.count,t.count),a=e.typedBuffer,u=e.typedBufferStride,o=t.typedBuffer,s=t.typedBufferStride,i=0;i<n;i++){var c=i*u,f=i*s;a[c]=o[f]>>r,a[c+1]=o[f+1]>>r,a[c+2]=o[f+2]>>r,a[c+3]=o[f+3]>>r}}Object.freeze(Object.defineProperty({__proto__:null,transformMat4:function(e,t,r){if(e.count===t.count)for(var a=e.count,u=r[0],o=r[1],s=r[2],i=r[3],c=r[4],f=r[5],p=r[6],d=r[7],l=r[8],b=r[9],h=r[10],v=r[11],y=r[12],m=r[13],x=r[14],O=r[15],w=e.typedBuffer,j=e.typedBufferStride,g=t.typedBuffer,T=t.typedBufferStride,_=0;_<a;_++){var k=_*j,S=_*T,I=g[S],A=g[S+1],B=g[S+2],E=g[S+3];w[k]=u*I+c*A+l*B+y*E,w[k+1]=o*I+f*A+b*B+m*E,w[k+2]=s*I+p*A+h*B+x*E,w[k+3]=i*I+d*A+v*B+O*E}else n.a.error("source and destination buffers need to have the same number of elements")},transformMat3:a,normalize:u,scale:o,shiftRight:s},Symbol.toStringTag,{value:"Module"}))},1049:function(e,t,r){"use strict";r.d(t,"a",(function(){return b}));var n=r(155),a=r(142),u=r(143),o=r(154),s=r.n(o),i=r(186),c=r(476),f=r(159),p=r(146),d=r(162),l=r(183),b=function(){function e(t){Object(a.a)(this,e),this.streamDataRequester=t}return Object(u.a)(e,[{key:"loadJSON",value:function(){var e=Object(n.a)(s.a.mark((function e(t,r){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._load("json",t,r));case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"loadBinary",value:function(){var e=Object(n.a)(s.a.mark((function e(t,r){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(l.w)(t)?(Object(d.p)(r),Object(l.i)(t)):this._load("binary",t,r));case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"loadImage",value:function(){var e=Object(n.a)(s.a.mark((function e(t,r){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._load("image",t,r));case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"_load",value:function(){var e=Object(n.a)(s.a.mark((function e(t,r,n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(p.j)(this.streamDataRequester)){e.next=4;break}return e.next=3,Object(i.default)(r,{responseType:h[t]});case 3:return e.abrupt("return",e.sent.data);case 4:return e.next=6,Object(c.c)(this.streamDataRequester.request(r,t,n));case 6:if(!0!==(a=e.sent).ok){e.next=9;break}return e.abrupt("return",a.value);case 9:throw Object(d.o)(a.error),new f.a("","Request for resource failed: ".concat(a.error));case 10:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()}]),e}(),h={image:"image",binary:"array-buffer",json:"json"}},1050:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return u}));var n=r(329),a=r(921);function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.c;return"number"==typeof e?t(e):Object(n.i)(e)||Object(n.k)(e)?new Uint32Array(e):e}function o(e){var t="number"==typeof e?e:e.length;if(t<3)return new Uint16Array(0);var r=t-2,n=r<=65536?new Uint16Array(3*r):new Uint32Array(3*r);if("number"==typeof e)for(var a=0,u=0;u<r;u+=1)u%2==0?(n[a++]=u,n[a++]=u+1,n[a++]=u+2):(n[a++]=u+1,n[a++]=u,n[a++]=u+2);else for(var o=0,s=0;s<r;s+=1)if(s%2==0){var i=e[s],c=e[s+1],f=e[s+2];n[o++]=i,n[o++]=c,n[o++]=f}else{var p=e[s+1],d=e[s],l=e[s+2];n[o++]=p,n[o++]=d,n[o++]=l}return n}function s(e){var t="number"==typeof e?e:e.length;if(t<3)return new Uint16Array(0);var r=t-2,n=r<=65536?new Uint16Array(3*r):new Uint32Array(3*r);if("number"==typeof e){for(var a=0,u=0;u<r;++u)n[a++]=0,n[a++]=u+1,n[a++]=u+2;return n}for(var o=e[0],s=e[1],i=0,c=0;c<r;++c){var f=e[c+2];n[i++]=o,n[i++]=s,n[i++]=f,s=f}return n}},1059:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=2.1},1068:function(e,t,r){"use strict";r.d(t,"a",(function(){return ee}));var n=r(60),a=r(155),u=r(154),o=r.n(u),s=r(146),i=r(332),c=r(142),f=r(143),p=r(159),d=r(156).a.getLogger("esri.views.3d.glTF"),l=function(){function e(){Object(c.a)(this,e)}return Object(f.a)(e,[{key:"error",value:function(e){throw new p.a("gltf-loader-error",e)}},{key:"errorUnsupported",value:function(e){throw new p.a("gltf-loader-unsupported-feature",e)}},{key:"errorUnsupportedIf",value:function(e,t){e&&this.errorUnsupported(t)}},{key:"assert",value:function(e,t){e||this.error(t)}},{key:"warn",value:function(e){d.warn(e)}},{key:"warnUnsupported",value:function(e){this.warn("[Unsupported Feature] "+e)}},{key:"warnUnsupportedIf",value:function(e,t){e&&this.warnUnsupported(t)}}]),e}(),b=r(5),h=r(153);var v,y,m,x=r(7),O=r(460),w=r(475),j=r(183),g=r(722),T=r(375),_=r(486),k=r(377),S=r(414),I=r(891),A=function(){function e(t){Object(c.a)(this,e),this.data=t,this.offset4=0,this.dataUint32=new Uint32Array(this.data,0,Math.floor(this.data.byteLength/4))}return Object(f.a)(e,[{key:"readUint32",value:function(){var e=this.offset4;return this.offset4+=1,this.dataUint32[e]}},{key:"readUint8Array",value:function(e){var t=4*this.offset4;return this.offset4+=e/4,new Uint8Array(this.data,t,e)}},{key:"remainingBytes",value:function(){return this.data.byteLength-4*this.offset4}}]),e}();(m=v||(v={})).SCALAR="SCALAR",m.VEC2="VEC2",m.VEC3="VEC3",m.VEC4="VEC4",m.MAT2="MAT2",m.MAT3="MAT3",m.MAT4="MAT4",function(e){e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER"}(y||(y={}));var B={baseColorFactor:[1,1,1,1],metallicFactor:1,roughnessFactor:1},E={pbrMetallicRoughness:B,emissiveFactor:[0,0,0],alphaMode:"OPAQUE",alphaCutoff:.5,doubleSided:!1},N={ESRI_externalColorMixMode:"tint"},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(b.a)(Object(b.a)({},B),e.pbrMetallicRoughness),r=R(Object(b.a)(Object(b.a)({},N),e.extras));return Object(b.a)(Object(b.a)(Object(b.a)({},E),e),{},{pbrMetallicRoughness:t,extras:r})};function R(e){switch(e.ESRI_externalColorMixMode){case"multiply":case"tint":case"ignore":case"replace":break;default:Object(O.a)(e.ESRI_externalColorMixMode),e.ESRI_externalColorMixMode="tint"}return e}var C,M={magFilter:h.z.LINEAR,minFilter:h.z.LINEAR_MIPMAP_LINEAR,wrapS:h.B.REPEAT,wrapT:h.B.REPEAT},L=function(e){return Object(b.a)(Object(b.a)({},M),e)};var P=1179937895,F=1313821514,D=5130562,G=function(){function e(t,r,n,a,u){Object(c.a)(this,e),this.context=t,this.errorContext=r,this.uri=n,this.json=a,this.glbBuffer=u,this.bufferLoaders=new Map,this.textureLoaders=new Map,this.textureCache=new Map,this.materialCache=new Map,this.nodeParentMap=new Map,this.nodeTransformCache=new Map,this.baseUri=function(e){var t,r;return e.replace(/^(.*\/)?([^/]*)$/,(function(e,n,a){return t=n||"",r=a||"",""})),{dirPart:t,filePart:r}}(this.uri).dirPart,this._checkVersionSupported(),this._checkRequiredExtensionsSupported(),r.errorUnsupportedIf(null==a.scenes,"Scenes must be defined."),r.errorUnsupportedIf(null==a.meshes,"Meshes must be defined"),r.errorUnsupportedIf(null==a.nodes,"Nodes must be defined."),this._computeNodeParents()}return Object(f.a)(e,[{key:"getBuffer",value:function(){var e=Object(a.a)(o.a.mark((function e(t,r){var n,a,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.json.buffers[t],a=this.errorContext,null!=n.uri){e.next=3;break}return e.abrupt("return",(a.assert(null!=this.glbBuffer,"GLB buffer not present"),this.glbBuffer));case 3:return e.next=5,this._getBufferLoader(t,r);case 5:return u=e.sent,e.abrupt("return",(a.assert(u.byteLength===n.byteLength,"Buffer byte lengths should match."),u));case 7:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"_getBufferLoader",value:function(){var e=Object(a.a)(o.a.mark((function e(t,r){var n,a,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.bufferLoaders.get(t))){e.next=3;break}return e.abrupt("return",n);case 3:return a=this.json.buffers[t],u=this.context.loadBinary(this._resolveUri(a.uri),r).then((function(e){return new Uint8Array(e)})),e.abrupt("return",(this.bufferLoaders.set(t,u),u));case 5:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getAccessor",value:function(){var e=Object(a.a)(o.a.mark((function e(t,r){var n,a,u,s,i,c,f,p;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=this.errorContext).errorUnsupportedIf(!this.json.accessors,"Accessors missing."),a=this.json.accessors[t],n.errorUnsupportedIf(null==(null===a||void 0===a?void 0:a.bufferView),"Some accessor does not specify a bufferView."),n.errorUnsupportedIf(a.type in[v.MAT2,v.MAT3,v.MAT4],"AttributeType ".concat(a.type," is not supported")),u=this.json.bufferViews[a.bufferView],e.next=7,this.getBuffer(u.buffer,r);case 7:return s=e.sent,i=q[a.type],c=H[a.componentType],f=i*c,p=u.byteStride||f,e.abrupt("return",{raw:s.buffer,byteStride:p,byteOffset:s.byteOffset+(u.byteOffset||0)+(a.byteOffset||0),entryCount:a.count,isDenselyPacked:p===f,componentCount:i,componentByteSize:c,componentType:a.componentType,min:a.min,max:a.max,normalized:!!a.normalized});case 13:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getIndexData",value:function(){var e=Object(a.a)(o.a.mark((function e(t,r){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t.indices){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,this.getAccessor(t.indices,r);case 4:if(!(n=e.sent).isDenselyPacked){e.next=14;break}e.t0=n.componentType,e.next=e.t0===h.k.UNSIGNED_BYTE?9:e.t0===h.k.UNSIGNED_SHORT?10:e.t0===h.k.UNSIGNED_INT?11:12;break;case 9:return e.abrupt("return",new Uint8Array(n.raw,n.byteOffset,n.entryCount));case 10:return e.abrupt("return",new Uint16Array(n.raw,n.byteOffset,n.entryCount));case 11:return e.abrupt("return",new Uint32Array(n.raw,n.byteOffset,n.entryCount));case 12:e.next=20;break;case 14:e.t1=n.componentType,e.next=e.t1===h.k.UNSIGNED_BYTE?17:e.t1===h.k.UNSIGNED_SHORT?18:e.t1===h.k.UNSIGNED_INT?19:20;break;case 17:return e.abrupt("return",Object(I.a)(this._wrapAccessor(S.l,n)));case 18:return e.abrupt("return",Object(I.a)(this._wrapAccessor(S.j,n)));case 19:return e.abrupt("return",Object(I.a)(this._wrapAccessor(S.k,n)));case 20:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getPositionData",value:function(){var e=Object(a.a)(o.a.mark((function e(t,r){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=this.errorContext).errorUnsupportedIf(null==t.attributes.POSITION,"No POSITION vertex data found."),e.next=4,this.getAccessor(t.attributes.POSITION,r);case 4:return a=e.sent,e.abrupt("return",(n.errorUnsupportedIf(a.componentType!==h.k.FLOAT,"Expected type FLOAT for POSITION vertex attribute, but found "+$[a.componentType]),n.errorUnsupportedIf(3!==a.componentCount,"POSITION vertex attribute must have 3 components, but found "+a.componentCount.toFixed()),this._wrapAccessor(S.u,a)));case 6:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getNormalData",value:function(){var e=Object(a.a)(o.a.mark((function e(t,r){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=this.errorContext).assert(null!=t.attributes.NORMAL,"No NORMAL vertex data found."),e.next=4,this.getAccessor(t.attributes.NORMAL,r);case 4:return a=e.sent,e.abrupt("return",(n.errorUnsupportedIf(a.componentType!==h.k.FLOAT,"Expected type FLOAT for NORMAL vertex attribute, but found "+$[a.componentType]),n.errorUnsupportedIf(3!==a.componentCount,"NORMAL vertex attribute must have 3 components, but found "+a.componentCount.toFixed()),this._wrapAccessor(S.u,a)));case 6:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getTangentData",value:function(){var e=Object(a.a)(o.a.mark((function e(t,r){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=this.errorContext).assert(null!=t.attributes.TANGENT,"No TANGENT vertex data found."),e.next=4,this.getAccessor(t.attributes.TANGENT,r);case 4:return a=e.sent,e.abrupt("return",(n.errorUnsupportedIf(a.componentType!==h.k.FLOAT,"Expected type FLOAT for TANGENT vertex attribute, but found "+$[a.componentType]),n.errorUnsupportedIf(4!==a.componentCount,"TANGENT vertex attribute must have 4 components, but found "+a.componentCount.toFixed()),new S.C(a.raw,a.byteOffset,a.byteStride,a.byteOffset+a.byteStride*a.entryCount)));case 6:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getTextureCoordinates",value:function(){var e=Object(a.a)(o.a.mark((function e(t,r){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=this.errorContext).assert(null!=t.attributes.TEXCOORD_0,"No TEXCOORD_0 vertex data found."),e.next=4,this.getAccessor(t.attributes.TEXCOORD_0,r);case 4:return a=e.sent,e.abrupt("return",(n.errorUnsupportedIf(2!==a.componentCount,"TEXCOORD_0 vertex attribute must have 2 components, but found "+a.componentCount.toFixed()),a.componentType===h.k.FLOAT?this._wrapAccessor(S.m,a):(n.errorUnsupportedIf(!a.normalized,"Integer component types are only supported for a normalized accessor for TEXCOORD_0."),J(a))));case 6:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getVertexColors",value:function(){var e=Object(a.a)(o.a.mark((function e(t,r){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=this.errorContext).assert(null!=t.attributes.COLOR_0,"No COLOR_0 vertex data found."),e.next=4,this.getAccessor(t.attributes.COLOR_0,r);case 4:if(a=e.sent,n.errorUnsupportedIf(4!==a.componentCount&&3!==a.componentCount,"COLOR_0 attribute must have 3 or 4 components, but found "+a.componentCount.toFixed()),4!==a.componentCount){e.next=14;break}if(a.componentType!==h.k.FLOAT){e.next=8;break}return e.abrupt("return",this._wrapAccessor(S.C,a));case 8:if(a.componentType!==h.k.UNSIGNED_BYTE){e.next=10;break}return e.abrupt("return",this._wrapAccessor(S.J,a));case 10:if(a.componentType!==h.k.UNSIGNED_SHORT){e.next=12;break}return e.abrupt("return",this._wrapAccessor(S.H,a));case 12:e.next=21;break;case 14:if(3!==a.componentCount){e.next=21;break}if(a.componentType!==h.k.FLOAT){e.next=17;break}return e.abrupt("return",this._wrapAccessor(S.u,a));case 17:if(a.componentType!==h.k.UNSIGNED_BYTE){e.next=19;break}return e.abrupt("return",this._wrapAccessor(S.B,a));case 19:if(a.componentType!==h.k.UNSIGNED_SHORT){e.next=21;break}return e.abrupt("return",this._wrapAccessor(S.z,a));case 21:n.errorUnsupported("Unsupported component type for COLOR_0 attribute: "+$[a.componentType]);case 22:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"hasPositions",value:function(e){return void 0!==e.attributes.POSITION}},{key:"hasNormals",value:function(e){return void 0!==e.attributes.NORMAL}},{key:"hasVertexColors",value:function(e){return void 0!==e.attributes.COLOR_0}},{key:"hasTextureCoordinates",value:function(e){return void 0!==e.attributes.TEXCOORD_0}},{key:"hasTangents",value:function(e){return void 0!==e.attributes.TANGENT}},{key:"getMaterial",value:function(){var e=Object(a.a)(o.a.mark((function e(t,r,n){var a,u,s,i,c,f,p,d,l,b;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.materialCache.get(t.material)){e.next=30;break}return u=null!=t.material?U(this.json.materials[t.material]):U(),s=u.pbrMetallicRoughness,i=this.hasVertexColors(t),c=this.getTexture(s.baseColorTexture,r),f=this.getTexture(u.normalTexture,r),p=n?this.getTexture(u.occlusionTexture,r):null,d=n?this.getTexture(u.emissiveTexture,r):null,l=n?this.getTexture(s.metallicRoughnessTexture,r):null,b=null!=t.material?t.material:-1,e.t0=u.alphaMode,e.t1=u.alphaCutoff,e.t2=s.baseColorFactor,e.t3=!!u.doubleSided,e.next=9,c;case 9:return e.t4=e.sent,e.next=12,f;case 12:return e.t5=e.sent,e.t6=u.name,e.t7=b,e.next=17,p;case 17:return e.t8=e.sent,e.next=20,d;case 20:return e.t9=e.sent,e.t10=u.emissiveFactor,e.t11=s.metallicFactor,e.t12=s.roughnessFactor,e.next=26,l;case 26:e.t13=e.sent,e.t14=i,e.t15=u.extras.ESRI_externalColorMixMode,a={alphaMode:e.t0,alphaCutoff:e.t1,color:e.t2,doubleSided:e.t3,colorTexture:e.t4,normalTexture:e.t5,name:e.t6,id:e.t7,occlusionTexture:e.t8,emissiveTexture:e.t9,emissiveFactor:e.t10,metallicFactor:e.t11,roughnessFactor:e.t12,metallicRoughnessTexture:e.t13,hasVertexColors:e.t14,ESRI_externalColorMixMode:e.t15};case 30:return e.abrupt("return",a);case 31:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"getTexture",value:function(){var e=Object(a.a)(o.a.mark((function e(t,r){var n,a,u,s,i,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:return this.errorContext.errorUnsupportedIf(0!==(t.texCoord||0),"Only TEXCOORD with index 0 is supported."),n=t.index,a=this.errorContext,u=this.json.textures[n],s=L(null!=u.sampler?this.json.samplers[u.sampler]:{}),a.errorUnsupportedIf(null==u.source,"Source is expected to be defined for a texture."),i=this.json.images[u.source],e.next=8,this._loadTextureImageData(n,u,r);case 8:return c=e.sent,e.abrupt("return",Object(w.a)(this.textureCache,n,(function(){var e=function(e){return 33071===e||33648===e||10497===e},t=function(e){return a.error("Unexpected TextureSampler WrapMode: ".concat(e,". Using default REPEAT(10497).")),10497};return{data:c,wrapS:e(s.wrapS)?s.wrapS:t(s.wrapS),wrapT:e(s.wrapT)?s.wrapT:t(s.wrapT),minFilter:s.minFilter,name:i.name,id:n}})));case 10:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getNodeTransform",value:function(e){if(void 0===e)return z;var t=this.nodeTransformCache.get(e);if(!t){var r=this.getNodeTransform(this._getNodeParent(e)),n=this.json.nodes[e];n.matrix?t=Object(T.i)(Object(i.d)(),r,n.matrix):n.translation||n.rotation||n.scale?(t=Object(i.c)(r),n.translation&&Object(T.h)(t,t,n.translation),n.rotation&&(Y[3]=Object(_.b)(Y,n.rotation),Object(T.d)(t,t,Y[3],Y)),n.scale&&Object(T.f)(t,t,n.scale)):t=r,this.nodeTransformCache.set(e,t)}return t}},{key:"_wrapAccessor",value:function(e,t){return new e(t.raw,t.byteOffset,t.byteStride,t.byteOffset+t.byteStride*(t.entryCount-1)+t.componentByteSize*t.componentCount)}},{key:"_resolveUri",value:function(e){return Object(j.C)(e,this.baseUri)}},{key:"_getNodeParent",value:function(e){return this.nodeParentMap.get(e)}},{key:"_checkVersionSupported",value:function(){var e=g.a.parse(this.json.asset.version,"glTF");V.validate(e)}},{key:"_checkRequiredExtensionsSupported",value:function(){var e=this.json,t=this.errorContext;e.extensionsRequired&&0!==e.extensionsRequired.length&&t.errorUnsupported("gltf loader was not able to load unsupported feature. Required extensions: "+e.extensionsRequired.join(", "))}},{key:"_computeNodeParents",value:function(){var e=this;this.json.nodes.forEach((function(t,r){t.children&&t.children.forEach((function(t){e.nodeParentMap.set(t,r)}))}))}},{key:"_loadTextureImageData",value:function(){var e=Object(a.a)(o.a.mark((function e(t,r,n){var a,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=this.textureLoaders.get(t))){e.next=3;break}return e.abrupt("return",a);case 3:return u=this._createTextureLoader(r,n),e.abrupt("return",(this.textureLoaders.set(t,u),u));case 5:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"_createTextureLoader",value:function(){var e=Object(a.a)(o.a.mark((function e(t,r){var n,a,u,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.json.images[t.source]).uri){e.next=3;break}return e.abrupt("return",this.context.loadImage(this._resolveUri(n.uri),r));case 3:return(a=this.errorContext).errorUnsupportedIf(null==n.bufferView,"Image bufferView must be defined."),a.errorUnsupportedIf(null==n.mimeType,"Image mimeType must be defined."),u=this.json.bufferViews[n.bufferView],e.next=8,this.getBuffer(u.buffer,r);case 8:return s=e.sent,e.abrupt("return",(a.errorUnsupportedIf(null!=u.byteStride,"byteStride not supported for image buffer"),W(new Uint8Array(s.buffer,s.byteOffset+(u.byteOffset||0),u.byteLength),n.mimeType)));case 10:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}],[{key:"load",value:function(){var t=Object(a.a)(o.a.mark((function t(r,n,a,u){var s,i,c,f,p,d;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object(j.w)(a)){t.next=13;break}if("model/gltf-binary"===(s=Object(j.h)(a)).mediaType){t.next=10;break}return t.prev=3,i=JSON.parse(s.isBase64?atob(s.data):s.data),t.abrupt("return",new e(r,n,a,i));case 8:t.prev=8,t.t0=t.catch(3);case 10:if(c=Object(j.i)(a),!e._isGLBData(c)){t.next=13;break}return t.abrupt("return",this._fromGLBData(r,n,a,c));case 13:if(!a.endsWith(".gltf")){t.next=18;break}return t.next=16,r.loadJSON(a,u);case 16:return f=t.sent,t.abrupt("return",new e(r,n,a,f));case 18:return t.next=20,r.loadBinary(a,u);case 20:if(p=t.sent,!e._isGLBData(p)){t.next=23;break}return t.abrupt("return",this._fromGLBData(r,n,a,p));case 23:return t.next=25,r.loadJSON(a,u);case 25:return d=t.sent,t.abrupt("return",new e(r,n,a,d));case 27:case"end":return t.stop()}}),t,this,[[3,8]])})));return function(e,r,n,a){return t.apply(this,arguments)}}()},{key:"_isGLBData",value:function(e){var t=new A(e);return t.remainingBytes()>=4&&t.readUint32()===P}},{key:"_fromGLBData",value:function(){var t=Object(a.a)(o.a.mark((function t(r,n,a,u){var s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._parseGLBData(n,u);case 2:return s=t.sent,t.abrupt("return",new e(r,n,a,s.json,s.binaryData));case 4:case"end":return t.stop()}}),t)})));return function(e,r,n,a){return t.apply(this,arguments)}}()},{key:"_parseGLBData",value:function(){var e=Object(a.a)(o.a.mark((function e(t,r){var n,a,u,s,i,c,f,p,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=new A(r),t.assert(n.remainingBytes()>=12,"GLB binary data is insufficiently large."),a=n.readUint32(),u=n.readUint32(),s=n.readUint32(),t.assert(a===P,"Magic first 4 bytes do not fit to expected GLB value."),t.assert(r.byteLength>=s,"GLB binary data is smaller than header specifies."),t.errorUnsupportedIf(2!==u,"An unsupported GLB container version was detected. Only version 2 is supported."),f=0;case 5:if(!(n.remainingBytes()>=8)){e.next=19;break}if(p=n.readUint32(),d=n.readUint32(),0!==f){e.next=15;break}return t.assert(d===F,"First GLB chunk must be JSON."),t.assert(p>=0,"No JSON data found."),e.next=12,X(n.readUint8Array(p));case 12:i=e.sent,e.next=16;break;case 15:1===f?(t.errorUnsupportedIf(d!==D,"Second GLB chunk expected to be BIN."),c=n.readUint8Array(p)):t.warnUnsupported("More than 2 GLB chunks detected. Skipping.");case 16:f+=1;case 17:e.next=5;break;case 19:return e.abrupt("return",(i||t.error("No GLB JSON chunk detected."),{json:i,binaryData:c}));case 20:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}]),e}(),V=new g.a(2,0,"glTF"),z=Object(T.p)(Object(i.d)(),Math.PI/2),Y=Object(k.b)(),q={SCALAR:1,VEC2:2,VEC3:3,VEC4:4},H=(C={},Object(x.a)(C,h.k.BYTE,1),Object(x.a)(C,h.k.UNSIGNED_BYTE,1),Object(x.a)(C,h.k.SHORT,2),Object(x.a)(C,h.k.UNSIGNED_SHORT,2),Object(x.a)(C,h.k.FLOAT,4),Object(x.a)(C,h.k.UNSIGNED_INT,4),C);function J(e){switch(e.componentType){case h.k.BYTE:return new S.q(e.raw,e.byteOffset,e.byteStride,e.byteOffset+e.byteStride*e.entryCount);case h.k.UNSIGNED_BYTE:return new S.t(e.raw,e.byteOffset,e.byteStride,e.byteOffset+e.byteStride*e.entryCount);case h.k.SHORT:return new S.o(e.raw,e.byteOffset,e.byteStride,e.byteOffset+e.byteStride*e.entryCount);case h.k.UNSIGNED_SHORT:return new S.r(e.raw,e.byteOffset,e.byteStride,e.byteOffset+e.byteStride*e.entryCount);case h.k.UNSIGNED_INT:return new S.s(e.raw,e.byteOffset,e.byteStride,e.byteOffset+e.byteStride*e.entryCount);case h.k.FLOAT:return new S.m(e.raw,e.byteOffset,e.byteStride,e.byteOffset+e.byteStride*e.entryCount);default:return void Object(O.a)(e.componentType)}}function X(e){return Q.apply(this,arguments)}function Q(){return(Q=Object(a.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){var n=new Blob([t]),a=new FileReader;a.onload=function(){var t=a.result;e(JSON.parse(t))},a.onerror=function(e){r(e)},a.readAsText(n)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e,t){return K.apply(this,arguments)}function K(){return(K=Object(a.a)(o.a.mark((function e(t,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var a=new Blob([t],{type:r}),u=URL.createObjectURL(a),o=new Image;o.addEventListener("load",(function(){URL.revokeObjectURL(u),"decode"in o?o.decode().then((function(){return e(o)}),(function(){return e(o)})):e(o)})),o.addEventListener("error",(function(e){URL.revokeObjectURL(u),n(e)})),o.src=u})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $={5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5125:"UNSIGNED_INT",5126:"FLOAT"},Z=0;function ee(e,t){return te.apply(this,arguments)}function te(){return te=Object(a.a)(o.a.mark((function e(t,r){var u,c,f,p,d,l,b,v,y,m,x=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=x.length>2&&void 0!==x[2]?x[2]:{},c=!(x.length>3&&void 0!==x[3])||x[3],e.next=4,G.load(t,se,r,u);case 4:return f=e.sent,p="gltf_"+Z++,d={lods:[],materials:new Map,textures:new Map,meta:re(f)},l=!(!f.json.asset.extras||"symbolResource"!==f.json.asset.extras.ESRI_type),b=new Map,e.next=11,ne(f,function(){var e=Object(a.a)(o.a.mark((function e(t,r,n,a){var l,v,y,m,x,O,w,j,g,T,_,k,S;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v=null!==(l=b.get(n))&&void 0!==l?l:0,b.set(n,v+1),y=void 0!==t.mode?t.mode:h.r.TRIANGLES,m=y===h.r.TRIANGLES||y===h.r.TRIANGLE_STRIP||y===h.r.TRIANGLE_FAN?y:null,!Object(s.j)(m)){e.next=5;break}return e.abrupt("return",void se.warnUnsupported("Unsupported primitive mode ("+ce[y]+"). Skipping primitive."));case 5:if(f.hasPositions(t)){e.next=7;break}return e.abrupt("return",void se.warn("Skipping primitive without POSITION vertex attribute."));case 7:return x=f.getPositionData(t,u),O=f.getMaterial(t,u,c),w=f.hasNormals(t)?f.getNormalData(t,u):null,j=f.hasTangents(t)?f.getTangentData(t,u):null,g=f.hasTextureCoordinates(t)?f.getTextureCoordinates(t,u):null,T=f.hasVertexColors(t)?f.getVertexColors(t,u):null,_=f.getIndexData(t,u),e.t0=Object(i.c)(r),e.next=17,x;case 17:if(e.t1=e.sent,!w){e.next=24;break}return e.next=21,w;case 21:e.t2=e.sent,e.next=25;break;case 24:e.t2=null;case 25:if(e.t3=e.t2,!g){e.next=32;break}return e.next=29,g;case 29:e.t4=e.sent,e.next=33;break;case 32:e.t4=null;case 33:if(e.t5=e.t4,!T){e.next=40;break}return e.next=37,T;case 37:e.t6=e.sent,e.next=41;break;case 40:e.t6=null;case 41:if(e.t7=e.t6,!j){e.next=48;break}return e.next=45,j;case 45:e.t8=e.sent,e.next=49;break;case 48:e.t8=null;case 49:return e.t9=e.t8,e.t10={position:e.t1,normal:e.t3,texCoord0:e.t5,color:e.t7,tangent:e.t9},e.next=53,_;case 53:return e.t11=e.sent,e.t12=m,e.t13=oe,e.t14=d,e.next=59,O;case 59:e.t15=e.sent,e.t16=p,e.t17=(0,e.t13)(e.t14,e.t15,e.t16),k={transform:e.t0,attributes:e.t10,indices:e.t11,primitiveType:e.t12,material:e.t17},S=null,Object(s.k)(d.meta)&&Object(s.k)(d.meta.ESRI_lod)&&"screenSpaceRadius"===d.meta.ESRI_lod.metric&&(S=d.meta.ESRI_lod.thresholds[n]),d.lods[n]=d.lods[n]||{parts:[],name:a,lodThreshold:S},d.lods[n].parts[v]=k;case 65:case"end":return e.stop()}}),e)})));return function(t,r,n,a){return e.apply(this,arguments)}}());case 11:v=Object(n.a)(d.lods);try{for(v.s();!(y=v.n()).done;)(m=y.value).parts=m.parts.filter((function(e){return!!e}))}catch(O){v.e(O)}finally{v.f()}return e.abrupt("return",{model:d,meta:{isEsriSymbolResource:l,uri:f.uri},customMeta:{}});case 14:case"end":return e.stop()}}),e)}))),te.apply(this,arguments)}function re(e){var t=e.json,r=null;return t.nodes.forEach((function(e){var t=e.extras;Object(s.k)(t)&&(t.ESRI_proxyEllipsoid||t.ESRI_lod)&&(r=t)})),r}function ne(e,t){return ae.apply(this,arguments)}function ae(){return ae=Object(a.a)(o.a.mark((function e(t,r){var u,s,i,c,f,p,d,l,b,h;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h=function(){return h=Object(a.a)(o.a.mark((function e(a,s){var i,f,p,d,l,h,v,y,m;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=u.nodes[a],f=t.getNodeTransform(a),se.warnUnsupportedIf(null!=i.weights,"Morph targets are not supported."),null!=i.mesh){p=u.meshes[i.mesh],d=Object(n.a)(p.primitives);try{for(d.s();!(l=d.n()).done;)h=l.value,c.push(r(h,f,s,p.name))}catch(o){d.e(o)}finally{d.f()}}v=Object(n.a)(i.children||[]);try{for(v.s();!(y=v.n()).done;)m=y.value,c.push(b(m,s))}catch(o){v.e(o)}finally{v.f()}case 4:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)},b=function(e,t){return h.apply(this,arguments)},u=t.json,s=u.scenes[u.scene||0].nodes,i=s.length>1,c=[],f=Object(n.a)(s);try{for(f.s();!(p=f.n()).done;)d=p.value,l=u.nodes[d],c.push(b(d,0)),ue(l)&&!i&&l.extensions.MSFT_lod.ids.forEach((function(e,t){return b(e,t+1)}))}catch(v){f.e(v)}finally{f.f()}return e.next=7,Promise.all(c);case 7:case"end":return e.stop()}}),e)}))),ae.apply(this,arguments)}function ue(e){return e.extensions&&e.extensions.MSFT_lod&&Array.isArray(e.extensions.MSFT_lod.ids)}function oe(e,t,r){var n=function(t){var n="".concat(r,"_tex_").concat(t&&t.id).concat(t&&t.name?"_"+t.name:"");if(t&&!e.textures.has(n)){var a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{data:e,parameters:Object(b.a)({wrap:Object(b.a)({s:h.B.REPEAT,t:h.B.REPEAT},t.wrap),noUnpackFlip:!0,mipmap:!1},t)}}(t.data,{wrap:{s:t.wrapS,t:t.wrapT},mipmap:ie.includes(t.minFilter),noUnpackFlip:!0});e.textures.set(n,a)}return n},a="".concat(r,"_mat_").concat(t.id,"_").concat(t.name);if(!e.materials.has(a)){var u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(b.a)({color:[1,1,1],opacity:1,alphaMode:"OPAQUE",alphaCutoff:.5,doubleSided:!1,castShadows:!0,receiveShadows:!0,receiveAmbientOcclustion:!0,textureColor:null,textureNormal:null,textureOcclusion:null,textureEmissive:null,textureMetallicRoughness:null,emissiveFactor:[0,0,0],metallicFactor:1,roughnessFactor:1,colorMixMode:"multiply"},e)}({color:[t.color[0],t.color[1],t.color[2]],opacity:t.color[3],alphaMode:t.alphaMode,alphaCutoff:t.alphaCutoff,doubleSided:t.doubleSided,colorMixMode:t.ESRI_externalColorMixMode,textureColor:t.colorTexture?n(t.colorTexture):void 0,textureNormal:t.normalTexture?n(t.normalTexture):void 0,textureOcclusion:t.occlusionTexture?n(t.occlusionTexture):void 0,textureEmissive:t.emissiveTexture?n(t.emissiveTexture):void 0,textureMetallicRoughness:t.metallicRoughnessTexture?n(t.metallicRoughnessTexture):void 0,emissiveFactor:[t.emissiveFactor[0],t.emissiveFactor[1],t.emissiveFactor[2]],metallicFactor:t.metallicFactor,roughnessFactor:t.roughnessFactor});e.materials.set(a,u)}return a}var se=new l,ie=[h.z.LINEAR_MIPMAP_LINEAR,h.z.LINEAR_MIPMAP_NEAREST],ce=["POINTS","LINES","LINE_LOOP","LINE_STRIP","TRIANGLES","TRIANGLE_STRIP","TRIANGLE_FAN"]},1077:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(552);Object.freeze(Object.defineProperty({__proto__:null,copy:function(e,t,r){for(var n=e.typedBuffer,a=e.typedBufferStride,u=t.typedBuffer,o=t.typedBufferStride,s=r?r.count:t.count,i=(r&&r.dstIndex?r.dstIndex:0)*a,c=(r&&r.srcIndex?r.srcIndex:0)*o,f=0;f<s;++f){for(var p=0;p<9;++p)n[i+p]=u[c+p];i+=a,c+=o}}},Symbol.toStringTag,{value:"Module"}));Object.freeze(Object.defineProperty({__proto__:null,copy:function(e,t,r){for(var n=e.typedBuffer,a=e.typedBufferStride,u=t.typedBuffer,o=t.typedBufferStride,s=r?r.count:t.count,i=(r&&r.dstIndex?r.dstIndex:0)*a,c=(r&&r.srcIndex?r.srcIndex:0)*o,f=0;f<s;++f){for(var p=0;p<16;++p)n[i+p]=u[c+p];i+=a,c+=o}}},Symbol.toStringTag,{value:"Module"})),r(891),r(754),r(525),r(755);function a(e,t){return new e(new ArrayBuffer(t*e.ElementCount*Object(n.a)(e.ElementType)))}},425:function(e,t,r){"use strict";r.d(t,"a",(function(){return y})),r.d(t,"b",(function(){return h})),r.d(t,"c",(function(){return v}));var n=r(142),a=r(143),u=r(483),o=r(516),s=r(319),i=r(332),c=r(377),f=r(236),p=r(210),d=r(373),l=function(){function e(t,r,a){Object(n.a)(this,e),this.itemByteSize=t,this.itemCreate=r,this._buffers=new Array,this._items=new Array,this._itemsPtr=0,this._itemsPerBuffer=Math.ceil(a/this.itemByteSize)}return Object(a.a)(e,[{key:"get",value:function(){var e=this;0===this._itemsPtr&&Object(o.a)((function(){return e._reset()}));for(var t=Math.floor(this._itemsPtr/this._itemsPerBuffer);this._buffers.length<=t;){for(var r=new ArrayBuffer(this._itemsPerBuffer*this.itemByteSize),n=0;n<this._itemsPerBuffer;++n)this._items.push(this.itemCreate(r,n*this.itemByteSize));this._buffers.push(r)}return this._items[this._itemsPtr++]}},{key:"_reset",value:function(){for(var e=2*(Math.floor(this._itemsPtr/this._itemsPerBuffer)+1);this._buffers.length>e;)this._buffers.pop(),this._items.length=this._buffers.length*this._itemsPerBuffer;this._itemsPtr=0}},{key:"test",get:function(){return{size:this._buffers.length*this._itemsPerBuffer*this.itemByteSize}}}],[{key:"createVec2f64",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b;return new e(16,f.c,t)}},{key:"createVec3f64",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b;return new e(24,p.d,t)}},{key:"createVec4f64",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b;return new e(32,d.a,t)}},{key:"createMat3f64",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b;return new e(72,s.a,t)}},{key:"createMat4f64",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b;return new e(128,i.b,t)}},{key:"createQuatf64",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b;return new e(32,c.d,t)}}]),e}(),b=4*u.a.KILOBYTES,h=(l.createVec2f64(),l.createVec3f64()),v=l.createVec4f64(),y=(l.createMat3f64(),l.createMat4f64());l.createQuatf64()},491:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(142),a=r(143),u=r(516),o=function(){function e(t){Object(n.a)(this,e),this.allocator=t,this._items=[],this._itemsPtr=0,this._grow()}return Object(a.a)(e,[{key:"get",value:function(){var e=this;return 0===this._itemsPtr&&Object(u.a)((function(){return e._reset()})),this._itemsPtr===this._items.length&&this._grow(),this._items[this._itemsPtr++]}},{key:"_reset",value:function(){var e=Math.min(3*Math.max(8,this._itemsPtr),this._itemsPtr+3*s);this._items.length=Math.min(e,this._items.length),this._itemsPtr=0}},{key:"_grow",value:function(){for(var e=0;e<Math.max(8,Math.min(this._items.length,s));e++)this._items.push(this.allocator())}}]),e}(),s=1024},552:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return u})),r.d(t,"c",(function(){return a})),r.d(t,"d",(function(){return o}));r(147);function n(e){switch(e){case"u8":case"i8":return 1;case"u16":case"i16":return 2;case"u32":case"i32":case"f32":return 4;case"f64":return 8;default:return}}function a(e){switch(e){case"u8":case"u16":case"u32":return!1;case"i8":case"i16":case"i32":case"f32":case"f64":return!0;default:return}}function u(e){switch(e){case"u8":case"u16":case"u32":case"i8":case"i16":case"i32":return!0;case"f32":case"f64":return!1;default:return}}function o(e){switch(e){case"u8":return 255;case"u16":return 65535;case"u32":return 4294967295;case"i8":return 127;case"i16":return 32767;case"i32":return 2147483647;case"f32":return 3402823e32;case"f64":return 179769e303;default:return}}},754:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return u}));var n=r(552);function a(e,t,r){for(var n=e.typedBuffer,a=e.typedBufferStride,u=t.typedBuffer,o=t.typedBufferStride,s=r?r.count:t.count,i=(r&&r.dstIndex?r.dstIndex:0)*a,c=(r&&r.srcIndex?r.srcIndex:0)*o,f=0;f<s;++f)n[i]=u[c],n[i+1]=u[c+1],i+=a,c+=o}function u(e,t,r){var u=e.typedBuffer,o=e.typedBufferStride,s=t.typedBuffer,i=t.typedBufferStride,c=r?r.count:t.count,f=(r&&r.dstIndex?r.dstIndex:0)*o,p=(r&&r.srcIndex?r.srcIndex:0)*i;if(Object(n.b)(t.elementType)){var d=Object(n.d)(t.elementType);if(Object(n.c)(t.elementType))for(var l=0;l<c;++l)u[f]=Math.max(s[p]/d,-1),u[f+1]=Math.max(s[p+1]/d,-1),f+=o,p+=i;else for(var b=0;b<c;++b)u[f]=s[p]/d,u[f+1]=s[p+1]/d,f+=o,p+=i}else a(e,t,r);return e}function o(e,t,r,n){for(var a,u,o=e.typedBuffer,s=e.typedBufferStride,i=null!==(a=null===n||void 0===n?void 0:n.count)&&void 0!==a?a:e.count,c=(null!==(u=null===n||void 0===n?void 0:n.dstIndex)&&void 0!==u?u:0)*s,f=0;f<i;++f)o[c]=t,o[c+1]=r,c+=s}Object.freeze(Object.defineProperty({__proto__:null,copy:a,normalizeIntegerBuffer:u,fill:o},Symbol.toStringTag,{value:"Module"}))},755:function(e,t,r){"use strict";function n(e,t,r){for(var n=e.typedBuffer,a=e.typedBufferStride,u=t.typedBuffer,o=t.typedBufferStride,s=r?r.count:t.count,i=(r&&r.dstIndex?r.dstIndex:0)*a,c=(r&&r.srcIndex?r.srcIndex:0)*o,f=0;f<s;++f)n[i]=u[c],n[i+1]=u[c+1],n[i+2]=u[c+2],n[i+3]=u[c+3],i+=a,c+=o}function a(e,t,r,n,a,u){for(var o,s,i=e.typedBuffer,c=e.typedBufferStride,f=null!==(o=null===u||void 0===u?void 0:u.count)&&void 0!==o?o:e.count,p=(null!==(s=null===u||void 0===u?void 0:u.dstIndex)&&void 0!==s?s:0)*c,d=0;d<f;++d)i[p]=t,i[p+1]=r,i[p+2]=n,i[p+3]=a,p+=c}r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}));Object.freeze(Object.defineProperty({__proto__:null,copy:n,fill:a},Symbol.toStringTag,{value:"Module"}))},858:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return p})),r.d(t,"c",(function(){return f})),r.d(t,"d",(function(){return c})),r.d(t,"e",(function(){return d}));var n=r(188),a=r(491),u=r(222),o=r(210),s=r(425);function i(e){return e?{origin:Object(o.c)(e.origin),vector:Object(o.c)(e.vector)}:{origin:Object(o.e)(),vector:Object(o.e)()}}function c(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i();return Object(u.e)(r.origin,e),Object(u.e)(r.vector,t),r}function f(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i();return Object(u.e)(r.origin,e),Object(u.d)(r.vector,t,e),r}function p(e,t){var r=Object(u.d)(s.b.get(),t,e.origin),a=Object(u.g)(e.vector,r),o=Object(u.g)(e.vector,e.vector),i=Object(n.d)(a/o,0,1),c=Object(u.d)(s.b.get(),Object(u.i)(s.b.get(),e.vector,i),r);return Object(u.g)(c,c)}function d(e,t,r){return function(e,t,r,a,o){var i=e.vector,c=e.origin,f=Object(u.d)(s.b.get(),t,c),p=Object(u.g)(i,f)/Object(u.r)(i);return Object(u.i)(o,i,Object(n.d)(p,r,a)),Object(u.c)(o,o,e.origin)}(e,t,0,1,r)}Object(o.e)(),Object(o.e)(),new a.a((function(){return{origin:null,vector:null}}))},891:function(e,t,r){"use strict";function n(e,t){var r=e.count;t||(t=new e.TypedArrayConstructor(r));for(var n=0;n<r;n++)t[n]=e.get(n);return t}r.d(t,"a",(function(){return n}));Object.freeze(Object.defineProperty({__proto__:null,copy:function(e,t,r){for(var n=e.typedBuffer,a=e.typedBufferStride,u=t.typedBuffer,o=t.typedBufferStride,s=r?r.count:t.count,i=(r&&r.dstIndex?r.dstIndex:0)*a,c=(r&&r.srcIndex?r.srcIndex:0)*o,f=0;f<s;++f)n[i]=u[c],i+=a,c+=o},makeDense:n},Symbol.toStringTag,{value:"Module"}))},921:function(e,t,r){"use strict";r.d(t,"a",(function(){return h})),r.d(t,"b",(function(){return b})),r.d(t,"c",(function(){return d})),r.d(t,"d",(function(){return l}));var n=r(222),a=r(210),u=r(491),o=r(858);r(425);new u.a(o.a),new u.a((function(){return{p0:null,p1:null,p2:null}}));var s=Object(a.e)(),i=Object(a.e)(),c=function(){for(var e=new Uint32Array(131072),t=0;t<e.length;++t)e[t]=t;return e}(),f=new Uint16Array([0]),p=function(){for(var e=new Uint16Array(65536),t=0;t<e.length;++t)e[t]=t;return e}();function d(e){if(1===e)return f;if(e<p.length)return new Uint16Array(p.buffer,0,e);if(e>c.length){var t=Math.max(2*c.length,e);c=new Uint32Array(t);for(var r=0;r<c.length;r++)c[r]=r}return new Uint32Array(c.buffer,0,e)}function l(e){if(1===e)return new Uint16Array(f);if(e<p.length)return new Uint16Array(p.slice(0,e));if(e>c.length){for(var t=new Uint32Array(e),r=0;r<t.length;r++)t[r]=r;return t}return new Uint32Array(c.slice(0,e))}function b(e,t,r){if(!e)return!1;var a=e.size,u=e.data;Object(n.u)(r,0,0,0),Object(n.u)(x,0,0,0);for(var o,c,f,p=0,d=0,l=0;l<t.length-2;l+=3){var b=t[l+0]*a,h=t[l+1]*a,O=t[l+2]*a;Object(n.u)(v,u[b+0],u[b+1],u[b+2]),Object(n.u)(y,u[h+0],u[h+1],u[h+2]),Object(n.u)(m,u[O+0],u[O+1],u[O+2]);var w=(o=v,c=y,f=m,Object(n.d)(s,c,o),Object(n.d)(i,f,o),Object(n.n)(Object(n.h)(s,s,i))/2);w?(Object(n.c)(v,v,y),Object(n.c)(v,v,m),Object(n.i)(v,v,1/3*w),Object(n.c)(r,r,v),p+=w):(Object(n.c)(x,x,v),Object(n.c)(x,x,y),Object(n.c)(x,x,m),d+=3)}return(0!==d||0!==p)&&(0!==p?(Object(n.i)(r,r,1/p),!0):0!==d&&(Object(n.i)(r,x,1/d),!0))}function h(e,t,r){if(!e||!t)return!1;var a=e.size,u=e.data;Object(n.u)(r,0,0,0);for(var o=-1,s=0,i=0;i<t.length;i++){var c=t[i]*a;o!==c&&(r[0]+=u[c+0],r[1]+=u[c+1],r[2]+=u[c+2],s++),o=c}return s>1&&Object(n.i)(r,r,1/s),s>0}var v=Object(a.e)(),y=Object(a.e)(),m=Object(a.e)(),x=Object(a.e)()}}]);
//# sourceMappingURL=19.97da7c9c.chunk.js.map