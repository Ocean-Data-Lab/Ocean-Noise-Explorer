(this["webpackJsonpmatx-react-pro"]=this["webpackJsonpmatx-react-pro"]||[]).push([[117],{1198:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return m}));var a=n(60),i=n(155),r=n(142),h=n(143),o=n(154),s=n.n(o),c=n(147),l=n(146),u=n(850),f=n(636),m=function(){function t(){Object(r.a)(this,t)}return Object(h.a)(t,[{key:"createIndex",value:function(){var t=Object(i.a)(s.a.mark((function t(e,n){var a,i,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=new Array,e.vertexAttributes&&e.vertexAttributes.position){t.next=3;break}return t.abrupt("return",new u.a);case 3:if(i=this._createMeshData(e),!Object(l.k)(n)){t.next=10;break}return t.next=7,n.invoke("createIndexThread",i,{transferList:a});case 7:t.t0=t.sent,t.next=11;break;case 10:t.t0=this.createIndexThread(i).result;case 11:return r=t.t0,t.abrupt("return",this._createPooledRBush().fromJSON(r));case 13:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"createIndexThread",value:function(t){var e=new Float64Array(t.position),n=this._createPooledRBush();return t.components?this._createIndexComponentsThread(n,e,t.components.map((function(t){return new Uint32Array(t)}))):this._createIndexAllThread(n,e)}},{key:"_createIndexAllThread",value:function(t,e){for(var n=new Array(e.length/9),a=0,i=0;i<e.length;i+=9)n[a++]=d(e,i+0,i+3,i+6);return t.load(n),{result:t.toJSON()}}},{key:"_createIndexComponentsThread",value:function(t,e,n){var i,r=0,h=Object(a.a)(n);try{for(h.s();!(i=h.n()).done;){r+=i.value.length/3}}catch(m){h.e(m)}finally{h.f()}var o,s=new Array(r),c=0,l=Object(a.a)(n);try{for(l.s();!(o=l.n()).done;)for(var u=o.value,f=0;f<u.length;f+=3)s[c++]=d(e,3*u[f+0],3*u[f+1],3*u[f+2])}catch(m){l.e(m)}finally{l.f()}return t.load(s),{result:t.toJSON()}}},{key:"_createMeshData",value:function(t){var e=(t.transform?Object(f.b)({position:t.vertexAttributes.position,normal:null,tangent:null},t.transform,t.spatialReference).position:t.vertexAttributes.position).buffer;return!t.components||t.components.some((function(t){return!t.faces}))?{position:e}:{position:e,components:t.components.map((function(t){return t.faces}))}}},{key:"_createPooledRBush",value:function(){return new u.a(9,Object(c.a)("esri-csp-restrictions")?function(t){return t}:[".minX",".minY",".maxX",".maxY"])}}]),t}();function d(t,e,n,a){return{minX:Math.min(t[e+0],t[n+0],t[a+0]),maxX:Math.max(t[e+0],t[n+0],t[a+0]),minY:Math.min(t[e+1],t[n+1],t[a+1]),maxY:Math.max(t[e+1],t[n+1],t[a+1]),p0:[t[e+0],t[e+1],t[e+2]],p1:[t[n+0],t[n+1],t[n+2]],p2:[t[a+0],t[a+1],t[a+2]]}}},850:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var a=n(144),i=n(145),r=n(60),h=n(142),o=n(143),s=n(152),c=n(146),l=n(456),u=n(837),f=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9,n=arguments.length>1?arguments[1]:void 0;Object(h.a)(this,t),this.compareMinX=x,this.compareMinY=p,this._toBBox=function(t){return t},this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),n&&("function"==typeof n?this._toBBox=n:this._initFormat(n)),this.clear()}return Object(o.a)(t,[{key:"destroy",value:function(){this.clear(),B.prune(),k.prune(),O.prune(),j.prune()}},{key:"all",value:function(t){this._all(this.data,t)}},{key:"search",value:function(t,e){var n=this.data,a=this._toBBox;if(X(t,n))for(B.clear();n;){for(var i=0,r=n.children.length;i<r;i++){var h=n.children[i],o=n.leaf?a(h):h;X(t,o)&&(n.leaf?e(h):y(t,o)?this._all(h,e):B.push(h))}n=B.pop()}}},{key:"collides",value:function(t){var e=this.data,n=this._toBBox;if(!X(t,e))return!1;for(B.clear();e;){for(var a=0,i=e.children.length;a<i;a++){var r=e.children[a],h=e.leaf?n(r):r;if(X(t,h)){if(e.leaf||y(t,h))return!0;B.push(r)}}e=B.pop()}return!1}},{key:"load",value:function(t){if(!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var a=this._build(t.slice(0,t.length),0,t.length-1,0);if(this.data.children.length)if(this.data.height===a.height)this._splitRoot(this.data,a);else{if(this.data.height<a.height){var i=this.data;this.data=a,a=i}this._insert(a,this.data.height-a.height-1,!0)}else this.data=a;return this}},{key:"insert",value:function(t){return t&&this._insert(t,this.data.height-1),this}},{key:"clear",value:function(){return this.data=new A([]),this}},{key:"remove",value:function(t){if(!t)return this;var e,n=this.data,a=null,i=0,r=!1,h=this._toBBox(t);for(O.clear(),j.clear();n||O.length>0;){var o;if(n||(n=Object(c.c)(O.pop()),a=O.data[O.length-1],i=null!==(o=j.pop())&&void 0!==o?o:0,r=!0),n.leaf&&-1!==(e=Object(s.f)(n.children,t,n.children.length,n.indexHint)))return n.children.splice(e,1),O.push(n),this._condense(O),this;r||n.leaf||!y(n,h)?a?(i++,n=a.children[i],r=!1):n=null:(O.push(n),j.push(i),i=0,a=n,n=n.children[0])}return this}},{key:"toJSON",value:function(){return this.data}},{key:"fromJSON",value:function(t){return this.data=t,this}},{key:"_all",value:function(t,e){var n=t;for(k.clear();n;){var a;if(!0===n.leaf){var i,h=Object(r.a)(n.children);try{for(h.s();!(i=h.n()).done;){e(i.value)}}catch(o){h.e(o)}finally{h.f()}}else k.pushArray(n.children);n=null!==(a=k.pop())&&void 0!==a?a:null}}},{key:"_build",value:function(t,e,n,a){var i=n-e+1,r=this._maxEntries;if(i<=r){var h=new A(t.slice(e,n+1));return m(h,this._toBBox),h}a||(a=Math.ceil(Math.log(i)/Math.log(r)),r=Math.ceil(i/Math.pow(r,a-1)));var o=new S([]);o.height=a;var s=Math.ceil(i/r),c=s*Math.ceil(Math.sqrt(r));Y(t,e,n,c,this.compareMinX);for(var l=e;l<=n;l+=c){var u=Math.min(l+c-1,n);Y(t,l,u,s,this.compareMinY);for(var f=l;f<=u;f+=s){var d=Math.min(f+s-1,u);o.children.push(this._build(t,f,d,a-1))}}return m(o,this._toBBox),o}},{key:"_chooseSubtree",value:function(t,e,n,a){for(;a.push(e),!0!==e.leaf&&a.length-1!==n;){for(var i=void 0,r=1/0,h=1/0,o=0,s=e.children.length;o<s;o++){var c=e.children[o],l=_(c),u=g(t,c)-l;u<h?(h=u,r=l<r?l:r,i=c):u===h&&l<r&&(r=l,i=c)}e=i||e.children[0]}return e}},{key:"_insert",value:function(t,e,n){var a=this._toBBox,i=n?t:a(t);O.clear();var r=this._chooseSubtree(i,this.data,e,O);for(r.children.push(t),v(r,i);e>=0&&O.data[e].children.length>this._maxEntries;)this._split(O,e),e--;this._adjustParentBBoxes(i,O,e)}},{key:"_split",value:function(t,e){var n=t.data[e],a=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,a);var r=this._chooseSplitIndex(n,i,a);if(r){var h=n.children.splice(r,n.children.length-r),o=n.leaf?new A(h):new S(h);o.height=n.height,m(n,this._toBBox),m(o,this._toBBox),e?t.data[e-1].children.push(o):this._splitRoot(n,o)}else console.log("  Error: assertion failed at PooledRBush._split: no valid split index")}},{key:"_splitRoot",value:function(t,e){this.data=new S([t,e]),this.data.height=t.height+1,m(this.data,this._toBBox)}},{key:"_chooseSplitIndex",value:function(t,e,n){var a,i,r;a=i=1/0;for(var h=e;h<=n-e;h++){var o=d(t,0,h,this._toBBox),s=d(t,h,n,this._toBBox),c=M(o,s),l=_(o)+_(s);c<a?(a=c,r=h,i=l<i?l:i):c===a&&l<i&&(i=l,r=h)}return r}},{key:"_chooseSplitAxis",value:function(t,e,n){var a=t.leaf?this.compareMinX:x,i=t.leaf?this.compareMinY:p;this._allDistMargin(t,e,n,a)<this._allDistMargin(t,e,n,i)&&t.children.sort(a)}},{key:"_allDistMargin",value:function(t,e,n,a){t.children.sort(a);for(var i=this._toBBox,r=d(t,0,e,i),h=d(t,n-e,n,i),o=b(r)+b(h),s=e;s<n-e;s++){var c=t.children[s];v(r,t.leaf?i(c):c),o+=b(r)}for(var l=n-e-1;l>=e;l--){var u=t.children[l];v(h,t.leaf?i(u):u),o+=b(h)}return o}},{key:"_adjustParentBBoxes",value:function(t,e,n){for(var a=n;a>=0;a--)v(e.data[a],t)}},{key:"_condense",value:function(t){for(var e=t.length-1;e>=0;e--){var n=t.data[e];if(0===n.children.length)if(e>0){var a=t.data[e-1],i=a.children;i.splice(Object(s.f)(i,n,i.length,a.indexHint),1)}else this.clear();else m(n,this._toBBox)}}},{key:"_initFormat",value:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this._toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}]),t}();function m(t,e){d(t,0,t.children.length,e,t)}function d(t,e,n,a,i){i||(i=new A([])),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var r,h=e;h<n;h++)r=t.children[h],v(i,t.leaf?a(r):r);return i}function v(t,e){t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY)}function x(t,e){return t.minX-e.minX}function p(t,e){return t.minY-e.minY}function _(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function b(t){return t.maxX-t.minX+(t.maxY-t.minY)}function g(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function M(t,e){var n=Math.max(t.minX,e.minX),a=Math.max(t.minY,e.minY),i=Math.min(t.maxX,e.maxX),r=Math.min(t.maxY,e.maxY);return Math.max(0,i-n)*Math.max(0,r-a)}function y(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function X(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function Y(t,e,n,a,i){for(var r=[e,n];r.length;){var h=Object(c.c)(r.pop()),o=Object(c.c)(r.pop());if(!(h-o<=a)){var s=o+Math.ceil((h-o)/a/2)*a;Object(u.a)(t,s,o,h,i),r.push(o,s,s,h)}}}var B=new l.a,k=new l.a,O=new l.a,j=new l.a({deallocator:void 0}),w=function(t){Object(a.a)(n,t);var e=Object(i.a)(n);function n(){var t;return Object(h.a)(this,n),(t=e.apply(this,arguments)).height=1,t.indexHint=new s.a,t}return Object(o.a)(n)}(Object(o.a)((function t(){Object(h.a)(this,t),this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}))),A=function(t){Object(a.a)(n,t);var e=Object(i.a)(n);function n(t){var a;return Object(h.a)(this,n),(a=e.call(this)).children=t,a.leaf=!0,a}return Object(o.a)(n)}(w),S=function(t){Object(a.a)(n,t);var e=Object(i.a)(n);function n(t){var a;return Object(h.a)(this,n),(a=e.call(this)).children=t,a.leaf=!1,a}return Object(o.a)(n)}(w)}}]);