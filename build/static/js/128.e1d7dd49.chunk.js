(this["webpackJsonpmatx-react-pro"]=this["webpackJsonpmatx-react-pro"]||[]).push([[128],{1332:function(e,t,r){"use strict";r.r(t),r.d(t,"executeScript",(function(){return ft})),r.d(t,"extend",(function(){return pt})),r.d(t,"extractFieldLiterals",(function(){return ht})),r.d(t,"findFunctionCalls",(function(){return Ot})),r.d(t,"functionHelper",(function(){return lt})),r.d(t,"referencesFunction",(function(){return wt})),r.d(t,"referencesMember",(function(){return dt})),r.d(t,"validateScript",(function(){return xt}));var n=r(60),a=r(155),c=r(154),u=r.n(c),s=r(636),o=r(637),i=r(413),l=r(523),p=r(629),f=r(729),b=r(581),h=r(340),x=r(638),d=r(842),w=r(843),O=r(1214),v=r(844),k=r(846),g=r(847),m=r(908),j=r(176),y=r(249),E=r(349),N=r(197),I=r(217),S=r(297),T=r(185);function C(e){return e&&"function"==typeof e.then}var R=100;function U(e,t){return F.apply(this,arguments)}function F(){return(F=Object(a.a)(u.a.mark((function e(t,r){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],a=0;case 2:if(!(a<r.arguments.length)){e.next=11;break}return e.t0=n,e.next=6,H(t,r.arguments[a]);case 6:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 8:a++,e.next=2;break;case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e,t,r){return D.apply(this,arguments)}function D(){return(D=Object(a.a)(u.a.mark((function e(t,r,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==r.preparsed){e.next=2;break}return e.abrupt("return",n(t,null,r.arguments));case 2:return e.t0=n,e.t1=t,e.t2=r,e.next=7,U(t,r);case 7:return e.t3=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e,t,r){return P.apply(this,arguments)}function P(){return(P=Object(a.a)(u.a.mark((function e(t,r,n){var a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==r.preparsed){e.next=3;break}return a=n(t,null,r.arguments),e.abrupt("return",(C(a),a));case 3:return e.t0=n,e.t1=t,e.t2=r,e.next=8,U(t,r);case 8:return e.t3=e.sent,c=(0,e.t0)(e.t1,e.t2,e.t3),e.abrupt("return",(C(c),c));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e,t,r){return X.apply(this,arguments)}function X(){return(X=Object(a.a)(u.a.mark((function e(t,r,n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.breakpoint||!0===n){e.next=5;break}return a=r.breakpoint(),e.next=4,a;case 4:return e.abrupt("return",H(t,r,!0));case 5:e.t0=r.type,e.next="VariableDeclarator"===e.t0?8:"VariableDeclaration"===e.t0?9:"BlockStatement"===e.t0?10:"FunctionDeclaration"===e.t0?11:"ReturnStatement"===e.t0?12:"IfStatement"===e.t0?13:"ExpressionStatement"===e.t0?14:"UpdateExpression"===e.t0?15:"AssignmentExpression"===e.t0?16:"ForStatement"===e.t0?17:"ForInStatement"===e.t0?18:"BreakStatement"===e.t0?19:"EmptyStatement"===e.t0?20:"ContinueStatement"===e.t0?21:"TemplateElement"===e.t0?22:"TemplateLiteral"===e.t0?23:"Identifier"===e.t0?24:"MemberExpression"===e.t0?25:"Literal"===e.t0?26:"CallExpression"===e.t0?27:"UnaryExpression"===e.t0?28:"BinaryExpression"===e.t0?29:"LogicalExpression"===e.t0?30:"ArrayExpression"===e.t0?31:"ObjectExpression"===e.t0?32:"Property"===e.t0?33:34;break;case 8:return e.abrupt("return",me(t,r));case 9:return e.abrupt("return",ke(t,r,0));case 10:return e.abrupt("return",fe(t,r));case 11:return e.abrupt("return",Oe(t,r));case 12:return e.abrupt("return",de(t,r));case 13:return e.abrupt("return",le(t,r));case 14:return e.abrupt("return",oe(t,r));case 15:return e.abrupt("return",ne(t,r));case 16:return e.abrupt("return",ue(t,r));case 17:return e.abrupt("return",Z(t,r));case 18:return e.abrupt("return",te(t,r));case 19:return e.abrupt("return",h.Y);case 20:return e.abrupt("return",h.X);case 21:return e.abrupt("return",h.Z);case 22:return e.abrupt("return",Le(t,r));case 23:return e.abrupt("return",Be(t,r));case 24:return e.abrupt("return",Me(t,r));case 25:return e.abrupt("return",Ne(t,r));case 26:return e.abrupt("return",r.value);case 27:return e.abrupt("return",He(t,r));case 28:return e.abrupt("return",Se(t,r));case 29:return e.abrupt("return",Ue(t,r));case 30:return e.abrupt("return",Ae(t,r));case 31:return e.abrupt("return",Ce(t,r));case 32:return e.abrupt("return",L(t,r));case 33:return e.abrupt("return",B(t,r));case 34:throw new Error(Object(x.g)(r,"RUNTIME","UNREOGNISED"));case 35:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e,t){return _.apply(this,arguments)}function _(){return(_=Object(a.a)(u.a.mark((function e(t,r){var n,a,c,s,o,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],a=0;case 2:if(!(a<r.properties.length)){e.next=9;break}return e.next=5,H(t,r.properties[a]);case 5:n[a]=e.sent;case 6:a++,e.next=2;break;case 9:c={},s=0;case 11:if(!(s<n.length)){e.next=21;break}if(o=n[s],!Object(h.Q)(o.value)){e.next=15;break}throw new Error("Illegal Argument");case 15:if(!1!==Object(h.D)(o.key)){e.next=17;break}throw new Error("Illegal Argument");case 17:o.value===h.X?c[o.key.toString()]=null:c[o.key.toString()]=o.value;case 18:s++,e.next=11;break;case 21:return l=new i.a(c),e.abrupt("return",(l.immutable=!1,l));case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e,t){return Y.apply(this,arguments)}function Y(){return(Y=Object(a.a)(u.a.mark((function e(t,r){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H(t,r.value);case 2:if(n=e.sent,"Identifier"!==r.key.type){e.next=5;break}return e.abrupt("return",{key:r.key.name,value:n});case 5:return e.next=7,H(t,r.key);case 7:return e.t0=e.sent,e.t1=n,e.abrupt("return",{key:e.t0,value:e.t1});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e,t,r){return V.apply(this,arguments)}function V(){return(V=Object(a.a)(u.a.mark((function e(t,r,n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H(t,r.body);case 2:if(a=e.sent,n.lastAction=a,!(n.lastAction===h.Y||n.lastAction instanceof h.s)){e.next=8;break}e.t0=(n.testResult=!1,n),e.next=16;break;case 8:if(null===r.update){e.next=14;break}return e.next=11,H(t,r.update);case 11:e.t1=n,e.next=15;break;case 14:e.t1=n;case 15:e.t0=e.t1;case 16:return e.abrupt("return",e.t0);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(){return(J=Object(a.a)(u.a.mark((function e(t,r,n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===r.test){e.next=11;break}return e.next=3,H(t,r.test);case 3:if(a=e.sent,!0!==t.abortSignal.aborted){e.next=6;break}throw new Error("Cancelled");case 6:if(n.testResult=a,!1!==n.testResult){e.next=8;break}return e.abrupt("return",n);case 8:if(!0===n.testResult){e.next=10;break}throw new Error(Object(x.g)(r,"RUNTIME","CANNOT_USE_NONBOOLEAN_IN_CONDITION"));case 10:case 11:return e.abrupt("return",G(t,r,n));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e,t,r,n,a,c){try{(function(e,t,r){return J.apply(this,arguments)})(e,t,r).then((function(){try{!0===r.testResult?++c>R?(c=0,setTimeout((function(){K(e,t,r,n,a,c)}),0)):K(e,t,r,n,a,c):r.lastAction instanceof h.s?n(r.lastAction):n(h.X)}catch(u){a(u)}}),(function(e){a(e)}))}catch(u){a(u)}}function Z(e,t){try{return null!==t.init?H(e,t.init).then((function(){return new Promise((function(r,n){K(e,t,{testResult:!0,lastAction:h.X},(function(e){r(e)}),(function(e){n(e)}),0)}))})):new Promise((function(r,n){K(e,t,{testResult:!0,lastAction:h.X},(function(e){r(e)}),(function(e){n(e)}),0)}))}catch(r){return Promise.reject(r)}}function z(e,t,r,n,a,c,u,s,o,i){try{if(n<=c)return void s(h.X);a.value="k"===u?r[c]:c,H(e,t.body).then((function(l){try{l instanceof h.s?s(l):l===h.Y?s(h.X):++i>R?(i=0,setTimeout((function(){z(e,t,r,n,a,c+1,u,s,o,i)}),0)):z(e,t,r,n,a,c+1,u,s,o,i)}catch(p){o(p)}}),(function(e){o(e)}))}catch(l){o(l)}}function q(e,t,r,n,a,c,u,s,o){try{if(r.length()<=a)return void u(h.X);n.value="k"===c?r.get(a):a,H(e,t.body).then((function(i){i instanceof h.s?u(i):i===h.Y?u(h.X):++o>R?(o=0,setTimeout((function(){q(e,t,r,n,a+1,c,u,s,o)}),0)):q(e,t,r,n,a+1,c,u,s,o)}),(function(e){s(e)}))}catch(i){s(i)}}function Q(e,t,r,n,a,c){try{if(void 0===c&&(c="i"),0===r.length)return void n.resolve(h.X);z(e,t,r,r.length,a,0,c,(function(e){n.resolve(e)}),(function(e){n.reject(e)}),0)}catch(u){n.reject(u)}}function W(e,t,r,n,a,c){try{if(void 0===c&&(c="i"),0===r.length)return void n.resolve(h.X);q(e,t,r,a,0,c,(function(e){n.resolve(e)}),(function(e){n.reject(e)}),0)}catch(u){n.reject(u)}}function $(e,t,r,n,a){try{Q(e,t,r.keys(),n,a,"k")}catch(c){n.reject(c)}}function ee(e,t,r,n,a,c,u,s){try{e.next().then((function(o){try{if(null===o)c(h.X);else{var i=l.a.createFromGraphicLikeObject(o.geometry,o.attributes,n);i._underlyingGraphic=o,a.value=i,H(t,r.body).then((function(i){try{i===h.Y?c(h.X):i instanceof h.s?c(i):++s>R?(s=0,setTimeout((function(){ee(e,t,r,n,a,c,u,s)}),0)):ee(e,t,r,n,a,c,u,s)}catch(o){u(o)}}),(function(e){u(e)}))}}catch(p){u(p)}}),(function(e){u(e)}))}catch(o){u(o)}}function te(e,t){return re.apply(this,arguments)}function re(){return(re=Object(a.a)(u.a.mark((function e(t,r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){H(t,r.right).then((function(a){try{("VariableDeclaration"===r.left.type?H(t,r.left):Promise.resolve()).then((function(){try{var c="";if("VariableDeclaration"===r.left.type){var u=r.left.declarations[0].id;"Identifier"===u.type&&(c=u.name)}else"Identifier"===r.left.type&&(c=r.left.name);if(!c)throw new Error(Object(x.g)(r,"RUNTIME","INVALIDVARIABLE"));c=c.toLowerCase();var s=null;if(null!==t.localScope&&void 0!==t.localScope[c]&&(s=t.localScope[c]),null===s&&void 0!==t.globalScope[c]&&(s=t.globalScope[c]),null===s)return void n(new Error(Object(x.g)(r,"RUNTIME","VARIABLENOTDECLARED")));Object(h.N)(a)||Object(h.D)(a)?Q(t,r,a,{reject:n,resolve:e},s):Object(h.P)(a)?W(t,r,a,{reject:n,resolve:e},s):a instanceof i.a||Object(h.U)(a)?$(t,r,a,{reject:n,resolve:e},s):Object(h.ab)(a)?ee(a.iterator(t.abortSignal),t,r,a,s,(function(t){e(t)}),(function(e){n(e)}),0):Q(t,r,[],{reject:n,resolve:e},s)}catch(o){n(o)}}),n)}catch(c){n(c)}}),n)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e,t){return ae.apply(this,arguments)}function ae(){return(ae=Object(a.a)(u.a.mark((function e(t,r){var n,a,c,s,o,l,p,f;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("MemberExpression"!==(n=r.argument).type){e.next=40;break}return a={t:null},e.next=5,H(t,n.object);case 5:if(c=e.sent,s=null,a.t=c,!0!==n.computed){e.next=14;break}return e.next=11,H(t,n.property);case 11:s=e.sent,e.next=15;break;case 14:"Identifier"===n.property.type&&(s=n.property.name);case 15:if(o=a.t,!Object(h.N)(o)){e.next=24;break}if(Object(h.C)(s)){e.next=19;break}throw new Error("Invalid Parameter");case 19:if(s<0&&(s=o.length+s),!(s<0||s>=o.length)){e.next=21;break}throw new Error("Assignment outside of array bounds");case 21:l=Object(h.H)(o[s]),o[s]="++"===r.operator?l+1:l-1,e.next=39;break;case 24:if(!(o instanceof i.a)){e.next=32;break}if(!1!==Object(h.D)(s)){e.next=27;break}throw new Error("Dictionary accessor must be a string");case 27:if(!0===o.hasField(s)){e.next=29;break}throw new Error("Invalid Parameter");case 29:l=Object(h.H)(o.field(s)),o.setField(s,"++"===r.operator?l+1:l-1),e.next=39;break;case 32:if(Object(h.U)(o)){e.next=34;break}throw Object(h.P)(o)?new Error("Array is Immutable"):new Error("Invalid Parameter");case 34:if(!1!==Object(h.D)(s)){e.next=36;break}throw new Error("Feature accessor must be a string");case 36:if(!0===o.hasField(s)){e.next=38;break}throw new Error("Invalid Parameter");case 38:l=Object(h.H)(o.field(s)),o.setField(s,"++"===r.operator?l+1:l-1);case 39:return e.abrupt("return",!1===r.prefix?l:"++"===r.operator?l+1:l-1);case 40:if(p="Identifier"===r.argument.type?r.argument.name.toLowerCase():""){e.next=43;break}throw new Error("Invalid identifier");case 43:if(null===t.localScope||void 0===t.localScope[p]){e.next=45;break}return e.abrupt("return",(f=Object(h.H)(t.localScope[p].value),t.localScope[p]={value:"++"===r.operator?f+1:f-1,valueset:!0,node:r},!1===r.prefix?f:"++"===r.operator?f+1:f-1));case 45:if(void 0===t.globalScope[p]){e.next=47;break}return e.abrupt("return",(f=Object(h.H)(t.globalScope[p].value),t.globalScope[p]={value:"++"===r.operator?f+1:f-1,valueset:!0,node:r},!1===r.prefix?f:"++"===r.operator?f+1:f-1));case 47:throw new Error("Variable not recognised");case 48:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(e,t,r,n){switch(t){case"=":return e===h.X?null:e;case"/=":return Object(h.H)(r)/Object(h.H)(e);case"*=":return Object(h.H)(r)*Object(h.H)(e);case"-=":return Object(h.H)(r)-Object(h.H)(e);case"+=":return Object(h.D)(r)||Object(h.D)(e)?Object(h.J)(r)+Object(h.J)(e):Object(h.H)(r)+Object(h.H)(e);case"%=":return Object(h.H)(r)%Object(h.H)(e);default:throw new Error(Object(x.g)(n,"RUNTIME","OPERATORNOTRECOGNISED"))}}function ue(e,t){return se.apply(this,arguments)}function se(){return(se=Object(a.a)(u.a.mark((function e(t,r){var n,a,c,s,o,l,p;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("MemberExpression"!==(n=r.left).type){e.next=56;break}return e.next=4,H(t,r.right);case 4:return a=e.sent,e.next=7,H(t,n.object);case 7:if(c=e.sent,s=null,!0!==n.computed){e.next=15;break}return e.next=12,H(t,n.property);case 12:s=e.sent,e.next=18;break;case 15:if("Identifier"===n.property.type){e.next=17;break}throw new Error("Expected computed or identifier for assignemnt target");case 17:s=n.property.name;case 18:if(!Object(h.N)(c)){e.next=32;break}if(Object(h.C)(s)){e.next=21;break}throw new Error("Invalid Parameter");case 21:if(s<0&&(s=c.length+s),!(s<0||s>c.length)){e.next=23;break}throw new Error("Assignment outside of array bounds");case 23:if(s!==c.length){e.next=29;break}if("="===r.operator){e.next=26;break}throw new Error("Invalid Parameter");case 26:c[s]=ce(a,r.operator,c[s],r),e.next=30;break;case 29:c[s]=ce(a,r.operator,c[s],r);case 30:e.next=55;break;case 32:if(!(c instanceof i.a)){e.next=44;break}if(!1!==Object(h.D)(s)){e.next=35;break}throw new Error("Dictionary accessor must be a string");case 35:if(!0!==c.hasField(s)){e.next=39;break}c.setField(s,ce(a,r.operator,c.field(s),r)),e.next=42;break;case 39:if("="===r.operator){e.next=41;break}throw new Error("Invalid Parameter");case 41:c.setField(s,ce(a,r.operator,null,r));case 42:e.next=55;break;case 44:if(Object(h.U)(c)){e.next=46;break}throw Object(h.P)(c)?new Error("Array is Immutable"):new Error("Invalid Parameter");case 46:if(!1!==Object(h.D)(s)){e.next=48;break}throw new Error("Feature accessor must be a string");case 48:if(!0!==c.hasField(s)){e.next=52;break}c.setField(s,ce(a,r.operator,c.field(s),r)),e.next=55;break;case 52:if("="===r.operator){e.next=54;break}throw new Error("Invalid Parameter");case 54:c.setField(s,ce(a,r.operator,null,r));case 55:return e.abrupt("return",h.X);case 56:if(o=n.name.toLowerCase(),null===t.localScope||void 0===t.localScope[o]){e.next=62;break}return e.next=60,H(t,r.right);case 60:return l=e.sent,e.abrupt("return",(t.localScope[o]={value:ce(l,r.operator,t.localScope[o].value,r),valueset:!0,node:r.right},h.X));case 62:if(void 0===t.globalScope[o]){e.next=67;break}return e.next=65,H(t,r.right);case 65:return p=e.sent,e.abrupt("return",(t.globalScope[o]={value:ce(p,r.operator,t.globalScope[o].value,r),valueset:!0,node:r.right},h.X));case 67:throw new Error("Cannot assign undeclared variable");case 68:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(e,t){return ie.apply(this,arguments)}function ie(){return(ie=Object(a.a)(u.a.mark((function e(t,r){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("AssignmentExpression"!==r.expression.type){e.next=2;break}return e.abrupt("return",H(t,r.expression));case 2:if("CallExpression"!==r.expression.type){e.next=7;break}return e.next=5,H(t,r.expression);case 5:return n=e.sent,e.abrupt("return",n===h.X?h.X:new h.j(n));case 7:return e.next=9,H(t,r.expression);case 9:return a=e.sent,e.abrupt("return",a===h.X?h.X:new h.j(a));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(e,t){return pe.apply(this,arguments)}function pe(){return(pe=Object(a.a)(u.a.mark((function e(t,r){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("AssignmentExpression"!==r.test.type&&"UpdateExpression"!==r.test.type){e.next=2;break}throw new Error(Object(x.g)(r.test,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));case 2:return e.next=4,H(t,r.test);case 4:if(!0!==(n=e.sent)){e.next=7;break}return e.abrupt("return",H(t,r.consequent));case 7:if(!1!==n){e.next=9;break}return e.abrupt("return",null!==r.alternate?H(t,r.alternate):h.X);case 9:throw new Error(Object(x.g)(r.test,"RUNTIME","CANNOT_USE_NONBOOLEAN_IN_CONDITION"));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fe(e,t){return be.apply(this,arguments)}function be(){return(be=Object(a.a)(u.a.mark((function e(t,r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",he(t,r,0));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function he(e,t,r){return xe.apply(this,arguments)}function xe(){return(xe=Object(a.a)(u.a.mark((function e(t,r,n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n>=r.body.length)){e.next=2;break}return e.abrupt("return",h.X);case 2:return e.next=4,H(t,r.body[n]);case 4:return a=e.sent,e.abrupt("return",a instanceof h.s||a===h.Y||a===h.Z||n===r.body.length-1?a:he(t,r,n+1));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(e,t){return we.apply(this,arguments)}function we(){return(we=Object(a.a)(u.a.mark((function e(t,r){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==r.argument){e.next=2;break}return e.abrupt("return",new h.s(h.X));case 2:return e.next=4,H(t,r.argument);case 4:return n=e.sent,e.abrupt("return",new h.s(n));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oe(e,t){return ve.apply(this,arguments)}function ve(){return(ve=Object(a.a)(u.a.mark((function e(t,r){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.id.name.toLowerCase(),e.abrupt("return",(t.globalScope[n]={valueset:!0,node:null,value:new p.a(r,t)},h.X));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ke(e,t,r){return ge.apply(this,arguments)}function ge(){return(ge=Object(a.a)(u.a.mark((function e(t,r,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n>=r.declarations.length)){e.next=4;break}e.t0=h.X,e.next=11;break;case 4:return e.next=6,H(t,r.declarations[n]);case 6:if(e.t1=n===r.declarations.length-1,e.t1){e.next=10;break}return e.next=10,ke(t,r,n+1);case 10:e.t0=h.X;case 11:return e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function me(e,t){return je.apply(this,arguments)}function je(){return(je=Object(a.a)(u.a.mark((function e(t,r){var n,a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null,null!==r.init){e.next=5;break}e.t0=null,e.next=8;break;case 5:return e.next=7,H(t,r.init);case 7:e.t0=e.sent;case 8:if(n=e.t0,null===t.localScope){e.next=14;break}if(n===h.X&&(n=null),"Identifier"===r.id.type){e.next=12;break}throw new Error("Can only assign a regular variable");case 12:return a=r.id.name.toLowerCase(),e.abrupt("return",(t.localScope[a]={value:n,valueset:!0,node:r.init},h.X));case 14:if("Identifier"===r.id.type){e.next=16;break}throw new Error("Can only assign a regular variable");case 16:return c=r.id.name.toLowerCase(),e.abrupt("return",(n===h.X&&(n=null),t.globalScope[c]={value:n,valueset:!0,node:r.init},h.X));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ye=0;function Ee(e,t,r,n){var a;switch(t=t.toLowerCase()){case"hasz":var c=e.hasZ;return void 0!==c&&c;case"hasm":var u=e.hasM;return void 0!==u&&u;case"spatialreference":var s=e.spatialReference._arcadeCacheId;if(void 0===s){var o=!0;Object.freeze&&Object.isFrozen(e.spatialReference)&&(o=!1),o&&(ye++,e.spatialReference._arcadeCacheId=ye,s=ye)}var l=new i.a({wkt:e.spatialReference.wkt,wkid:e.spatialReference.wkid});return void 0!==s&&(l._arcadeCacheId="SPREF"+s.toString()),l}switch(e.type){case"extent":switch(t){case"xmin":case"xmax":case"ymin":case"ymax":case"zmin":case"zmax":case"mmin":case"mmax":var p=e[t];return void 0!==p?p:null;case"type":return"Extent"}break;case"polygon":switch(t){case"rings":return void 0===(a=e.cache._arcadeCacheId)&&(a=++ye,e.cache._arcadeCacheId=a),new f.a(e.rings,e.spatialReference,!0===e.hasZ,!0===e.hasM,a);case"type":return"Polygon"}break;case"point":switch(t){case"x":case"y":case"z":case"m":return void 0!==e[t]?e[t]:null;case"type":return"Point"}break;case"polyline":switch(t){case"paths":return void 0===(a=e.cache._arcadeCacheId)&&(a=++ye,e.cache._arcadeCacheId=a),new f.a(e.paths,e.spatialReference,!0===e.hasZ,!0===e.hasM,a);case"type":return"Polyline"}break;case"multipoint":switch(t){case"points":return void 0===(a=e.cache._arcadeCacheId)&&(a=++ye,e.cache._arcadeCacheId=a),new b.a(e.points,e.spatialReference,!0===e.hasZ,!0===e.hasM,a,1);case"type":return"Multipoint"}}throw new Error(Object(x.g)(n,"RUNTIME","PROPERTYNOTFOUND"))}function Ne(e,t){return Ie.apply(this,arguments)}function Ie(){return(Ie=Object(a.a)(u.a.mark((function e(t,r){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H(t,r.object);case 2:if(null!==(n=e.sent)){e.next=5;break}throw new Error(Object(x.g)(r,"RUNTIME","NOTFOUND"));case 5:if(!1!==r.computed){e.next=13;break}if("Identifier"!==r.property.type){e.next=12;break}if(!(n instanceof i.a||Object(h.U)(n))){e.next=9;break}return e.abrupt("return",n.field(r.property.name));case 9:if(!(n instanceof y.a)){e.next=11;break}return e.abrupt("return",Ee(n,r.property.name,0,r));case 11:case 12:case 19:case 23:case 29:case 35:case 41:case 42:throw new Error(Object(x.g)(r,"RUNTIME","INVALIDTYPE"));case 13:return e.next=15,H(t,r.property);case 15:if(a=e.sent,!(n instanceof i.a||Object(h.U)(n))){e.next=20;break}if(!Object(h.D)(a)){e.next=19;break}return e.abrupt("return",n.field(a));case 20:if(!(n instanceof y.a)){e.next=24;break}if(!Object(h.D)(a)){e.next=23;break}return e.abrupt("return",Ee(n,a,0,r));case 24:if(!Object(h.N)(n)){e.next=30;break}if(!Object(h.C)(a)||!isFinite(a)||Math.floor(a)!==a){e.next=29;break}if(a<0&&(a=n.length+a),!(a>=n.length||a<0)){e.next=28;break}throw new Error(Object(x.g)(r,"RUNTIME","OUTOFBOUNDS"));case 28:case 40:return e.abrupt("return",n[a]);case 30:if(!Object(h.P)(n)){e.next=36;break}if(!Object(h.C)(a)||!isFinite(a)||Math.floor(a)!==a){e.next=35;break}if(a<0&&(a=n.length()+a),!(a>=n.length()||a<0)){e.next=34;break}throw new Error(Object(x.g)(r,"RUNTIME","OUTOFBOUNDS"));case 34:return e.abrupt("return",n.get(a));case 36:if(!Object(h.D)(n)){e.next=42;break}if(!Object(h.C)(a)||!isFinite(a)||Math.floor(a)!==a){e.next=41;break}if(a<0&&(a=n.length+a),!(a>=n.length||a<0)){e.next=40;break}throw new Error(Object(x.g)(r,"RUNTIME","OUTOFBOUNDS"));case 43:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Se(e,t){return Te.apply(this,arguments)}function Te(){return(Te=Object(a.a)(u.a.mark((function e(t,r){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H(t,r.argument);case 2:if(n=e.sent,!Object(h.K)(n)){e.next=13;break}if("!"!==r.operator){e.next=6;break}return e.abrupt("return",!n);case 6:if("-"!==r.operator){e.next=8;break}return e.abrupt("return",-1*Object(h.H)(n));case 8:if("+"!==r.operator){e.next=10;break}return e.abrupt("return",1*Object(h.H)(n));case 10:if("~"!==r.operator){e.next=12;break}return e.abrupt("return",~Object(h.H)(n));case 12:case 19:throw new Error(Object(x.g)(r,"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"));case 13:if("-"!==r.operator){e.next=15;break}return e.abrupt("return",-1*Object(h.H)(n));case 15:if("+"!==r.operator){e.next=17;break}return e.abrupt("return",1*Object(h.H)(n));case 17:if("~"!==r.operator){e.next=19;break}return e.abrupt("return",~Object(h.H)(n));case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ce(e,t){return Re.apply(this,arguments)}function Re(){return(Re=Object(a.a)(u.a.mark((function e(t,r){var n,a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],a=0;case 2:if(!(a<r.elements.length)){e.next=11;break}return e.t0=n,e.next=6,H(t,r.elements[a]);case 6:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 8:a++,e.next=2;break;case 11:c=0;case 12:if(!(c<n.length)){e.next=19;break}if(!Object(h.Q)(n[c])){e.next=15;break}throw new Error(Object(x.g)(r,"RUNTIME","FUNCTIONCONTEXTILLEGAL"));case 15:n[c]===h.X&&(n[c]=null);case 16:c++,e.next=12;break;case 19:return e.abrupt("return",n);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ue(e,t){return Fe.apply(this,arguments)}function Fe(){return(Fe=Object(a.a)(u.a.mark((function e(t,r){var n,a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,H(t,r.left);case 3:return n[0]=e.sent,e.next=6,H(t,r.right);case 6:n[1]=e.sent,a=n[0],c=n[1],e.t0=r.operator,e.next="|"===e.t0||"<<"===e.t0||">>"===e.t0||">>>"===e.t0||"^"===e.t0||"&"===e.t0?11:"=="===e.t0?12:"!="===e.t0?13:"<"===e.t0||">"===e.t0||"<="===e.t0||">="===e.t0?14:"+"===e.t0?15:"-"===e.t0?16:"*"===e.t0?17:"/"===e.t0?18:"%"===e.t0?19:20;break;case 11:return e.abrupt("return",Object(h.T)(Object(h.H)(a),Object(h.H)(c),r.operator));case 12:return e.abrupt("return",Object(h.O)(a,c));case 13:return e.abrupt("return",!Object(h.O)(a,c));case 14:return e.abrupt("return",Object(h.S)(a,c,r.operator));case 15:return e.abrupt("return",Object(h.D)(a)||Object(h.D)(c)?Object(h.J)(a)+Object(h.J)(c):Object(h.H)(a)+Object(h.H)(c));case 16:return e.abrupt("return",Object(h.H)(a)-Object(h.H)(c));case 17:return e.abrupt("return",Object(h.H)(a)*Object(h.H)(c));case 18:return e.abrupt("return",Object(h.H)(a)/Object(h.H)(c));case 19:return e.abrupt("return",Object(h.H)(a)%Object(h.H)(c));case 20:throw new Error(Object(x.g)(r,"RUNTIME","OPERATORNOTRECOGNISED"));case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ae(e,t){return De.apply(this,arguments)}function De(){return(De=Object(a.a)(u.a.mark((function e(t,r){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("AssignmentExpression"!==r.left.type&&"UpdateExpression"!==r.left.type){e.next=2;break}throw new Error(Object(x.g)(r.left,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));case 2:if("AssignmentExpression"!==r.right.type&&"UpdateExpression"!==r.right.type){e.next=4;break}throw new Error(Object(x.g)(r.right,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));case 4:return e.next=6,H(t,r.left);case 6:if(n=e.sent,a=null,Object(h.K)(n)){e.next=10;break}throw new Error(Object(x.g)(r,"RUNTIME","ONLYBOOLEAN"));case 10:e.t0=r.operator,e.next="||"===e.t0?13:"&&"===e.t0?21:29;break;case 13:if(!0!==n){e.next=15;break}return e.abrupt("return",n);case 15:return e.next=17,H(t,r.right);case 17:if(a=e.sent,!Object(h.K)(a)){e.next=20;break}return e.abrupt("return",a);case 20:case 28:case 29:throw new Error(Object(x.g)(r,"RUNTIME","ONLYORORAND"));case 21:if(!1!==n){e.next=23;break}return e.abrupt("return",n);case 23:return e.next=25,H(t,r.right);case 25:if(a=e.sent,!Object(h.K)(a)){e.next=28;break}return e.abrupt("return",a);case 30:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Me(e,t){return Pe.apply(this,arguments)}function Pe(){return(Pe=Object(a.a)(u.a.mark((function e(t,r){var n,a,c,s,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.name.toLowerCase(),null===t.localScope||void 0===t.localScope[n]){e.next=12;break}if(!0!==(a=t.localScope[n]).valueset){e.next=5;break}return e.abrupt("return",a.value);case 5:if(null===a.d){e.next=7;break}return e.abrupt("return",a.d);case 7:return a.d=H(t,a.node),e.next=10,a.d;case 10:return c=e.sent,e.abrupt("return",(a.value=c,a.valueset=!0,c));case 12:if(void 0===t.globalScope[n]){e.next=23;break}if(!0!==(s=t.globalScope[n]).valueset){e.next=16;break}return e.abrupt("return",s.value);case 16:if(null===s.d){e.next=18;break}return e.abrupt("return",s.d);case 18:return s.d=H(t,s.node),e.next=21,s.d;case 21:return o=e.sent,e.abrupt("return",(s.value=o,s.valueset=!0,o));case 23:throw new Error(Object(x.g)(r,"RUNTIME","VARIABLENOTFOUND"));case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function He(e,t){return Xe.apply(this,arguments)}function Xe(){return(Xe=Object(a.a)(u.a.mark((function e(t,r){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Identifier"===r.callee.type){e.next=2;break}throw new Error(Object(x.g)(r,"RUNTIME","ONLYNODESSUPPORTED"));case 2:if(null===t.localScope||void 0===t.localScope[r.callee.name.toLowerCase()]){e.next=9;break}if(!((n=t.localScope[r.callee.name.toLowerCase()]).value instanceof h.o)){e.next=6;break}return e.abrupt("return",n.value.fn(t,r));case 6:if(!(n.value instanceof p.a)){e.next=8;break}return e.abrupt("return",nt(t,r,n.value.definition));case 8:case 15:throw new Error(Object(x.g)(r,"RUNTIME","NOTAFUNCTION"));case 9:if(void 0===t.globalScope[r.callee.name.toLowerCase()]){e.next=16;break}if(!((a=t.globalScope[r.callee.name.toLowerCase()]).value instanceof h.o)){e.next=13;break}return e.abrupt("return",a.value.fn(t,r));case 13:if(!(a.value instanceof p.a)){e.next=15;break}return e.abrupt("return",nt(t,r,a.value.definition));case 16:throw new Error(Object(x.g)(r,"RUNTIME","NOTFOUND"));case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Le(e,t){return _e.apply(this,arguments)}function _e(){return(_e=Object(a.a)(u.a.mark((function e(t,r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.value?r.value.cooked:"");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Be(e,t){return Ye.apply(this,arguments)}function Ye(){return(Ye=Object(a.a)(u.a.mark((function e(t,r){var a,c,s,o,i,l,p,f;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],c=0;case 2:if(!(c<r.expressions.length)){e.next=10;break}return e.next=5,H(t,r.expressions[c]);case 5:s=e.sent,a[c]=Object(h.J)(s);case 7:c++,e.next=2;break;case 10:o="",i=0,l=Object(n.a)(r.quasis);try{for(l.s();!(p=l.n()).done;)f=p.value,o+=f.value?f.value.cooked:"",!1===f.tail&&(o+=a[i]?a[i]:"",i++)}catch(u){l.e(u)}finally{l.f()}return e.abrupt("return",o);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ge={};function Ve(e){return null===e?"":Object(h.N)(e)||Object(h.P)(e)?"Array":Object(h.L)(e)?"Date":Object(h.D)(e)?"String":Object(h.K)(e)?"Boolean":Object(h.C)(e)?"Number":e instanceof o.a?"Attachment":e instanceof s.a?"Portal":e instanceof i.a?"Dictionary":Object(h.U)(e)?"Feature":e instanceof N.a?"Point":e instanceof I.a?"Polygon":e instanceof S.a?"Polyline":e instanceof E.a?"Multipoint":e instanceof j.a?"Extent":Object(h.Q)(e)?"Function":Object(h.ab)(e)?"FeatureSet":Object(h.bb)(e)?"FeatureSetCollection":e===h.X?"":"number"==typeof e&&isNaN(e)?"Number":"Unrecognised Type"}function Je(e,t,r,n){return Ke.apply(this,arguments)}function Ke(){return(Ke=Object(a.a)(u.a.mark((function e(t,r,n,a){var c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H(t,r.arguments[n]);case 2:if(c=e.sent,!Object(h.O)(c,a)){e.next=5;break}return e.abrupt("return",H(t,r.arguments[n+1]));case 5:return s=r.arguments.length-n,e.abrupt("return",1===s?H(t,r.arguments[n]):2===s?null:3===s?H(t,r.arguments[n+2]):Je(t,r,n+2,a));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ze(e,t,r,n){return ze.apply(this,arguments)}function ze(){return(ze=Object(a.a)(u.a.mark((function e(t,r,n,a){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==a){e.next=2;break}return e.abrupt("return",H(t,r.arguments[n+1]));case 2:if(3!==r.arguments.length-n){e.next=4;break}return e.abrupt("return",H(t,r.arguments[n+2]));case 4:return e.next=6,H(t,r.arguments[n+2]);case 6:if(c=e.sent,!1!==Object(h.K)(c)){e.next=9;break}throw new Error("WHEN needs boolean test conditions");case 9:return e.abrupt("return",Ze(t,r,n+2,c));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qe(e,t){return Qe.apply(this,arguments)}function Qe(){return(Qe=Object(a.a)(u.a.mark((function e(t,r){var n,a,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.length,a=Math.floor(n/2),0!==n){e.next=3;break}return e.abrupt("return",[]);case 3:if(1!==n){e.next=5;break}return e.abrupt("return",[t[0]]);case 5:return c=[qe(t.slice(0,a),r),qe(t.slice(a,n),r)],e.next=8,Promise.all(c);case 8:return s=e.sent,e.abrupt("return",We(s[0],s[1],r,[]));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function We(e,t,r,n){return $e.apply(this,arguments)}function $e(){return($e=Object(a.a)(u.a.mark((function e(t,r,n,a){var c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=a,t.length>0||r.length>0){e.next=3;break}return e.abrupt("return",a);case 3:if(!(t.length>0&&r.length>0)){e.next=8;break}return e.next=6,n(t[0],r[0]);case 6:return s=e.sent,e.abrupt("return",(isNaN(s)&&(s=1),s<=0?(c.push(t[0]),t=t.slice(1)):(c.push(r[0]),r=r.slice(1)),We(t,r,n,a)));case 8:return e.abrupt("return",t.length>0?(c.push(t[0]),We(t=t.slice(1),r,n,a)):r.length>0?(c.push(r[0]),We(t,r=r.slice(1),n,a)):void 0);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function et(e,t){var r=e.length,n=Math.floor(r/2);return t||(t=function(e,t){return e<t?-1:e===t?0:1}),0===r?[]:1===r?[e[0]]:function(e,t,r){for(var n=[];e.length>0||t.length>0;)if(e.length>0&&t.length>0){var a=r(e[0],t[0]);isNaN(a)&&(a=1),a<=0?(n.push(e[0]),e=e.slice(1)):(n.push(t[0]),t=t.slice(1))}else e.length>0?(n.push(e[0]),e=e.slice(1)):t.length>0&&(n.push(t[0]),t=t.slice(1));return n}(et(e.slice(0,n),t),et(e.slice(n,r),t),t)}function tt(e,t,r){return rt.apply(this,arguments)}function rt(){return(rt=Object(a.a)(u.a.mark((function e(t,r,n){var a,c,s,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.body,n.length===t.params.length){e.next=3;break}throw new Error("Invalid Parameter calls to function.");case 3:for(c=0;c<n.length;c++)"Identifier"===(s=t.params[c]).type&&(r.localScope[s.name.toLowerCase()]={d:null,value:n[c],valueset:!0,node:null});return e.next=6,H(r,a);case 6:if(!((o=e.sent)instanceof h.s)){e.next=9;break}return e.abrupt("return",o.value);case 9:if(o!==h.Y){e.next=11;break}throw new Error("Cannot Break from a Function");case 11:if(o!==h.Z){e.next=13;break}throw new Error("Cannot Continue from a Function");case 13:return e.abrupt("return",o instanceof h.j?o.value:o);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nt(e,t,r){return M(e,t,(function(t,n,a){var c={spatialReference:e.spatialReference,services:e.services,console:e.console,lrucache:e.lrucache,interceptor:e.interceptor,localScope:{},abortSignal:e.abortSignal,globalScope:e.globalScope,depthCounter:e.depthCounter+1};if(c.depthCounter>64)throw new Error("Exceeded maximum function depth");return tt(r,c,a)}))}function at(e){return function(){var t={abortSignal:e.context.abortSignal,spatialReference:e.context.spatialReference,console:e.context.console,lrucache:e.context.lrucache,interceptor:e.context.interceptor,services:e.context.services,localScope:{},globalScope:e.context.globalScope,depthCounter:e.context.depthCounter+1};if(t.depthCounter>64)throw new Error("Exceeded maximum function depth");return tt(e.definition,t,arguments)}}Object(w.a)(Ge,A),Object(m.a)(Ge,A),Object(k.a)(Ge,A),Object(v.a)(Ge,A),Object(g.a)(Ge,A),Object(O.registerFunctions)({functions:Ge,compiled:!1,signatures:null,evaluateIdentifier:null,arcadeCustomFunctionHandler:null,mode:"async",standardFunction:A,standardFunctionAsync:M}),Ge.typeof=function(e,t){return A(e,t,(function(e,t,r){Object(h.R)(r,1,1);var n=Ve(r[0]);if("Unrecognised Type"===n)throw new Error("Unrecognised Type");return n}))},Ge.iif=function(){var e=Object(a.a)(u.a.mark((function e(t,r){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(h.R)(null===r.arguments?[]:r.arguments,3,3),e.next=3,H(t,r.arguments[0]);case 3:if(n=e.sent,!1!==Object(h.K)(n)){e.next=6;break}throw new Error("IF Function must have a boolean test condition");case 6:return a=[],e.next=9,H(t,r.arguments[1]);case 9:return a[0]=e.sent,e.next=12,H(t,r.arguments[2]);case 12:return a[1]=e.sent,e.abrupt("return",n?a[0]:a[1]);case 14:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Ge.decode=function(){var e=Object(a.a)(u.a.mark((function e(t,r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.arguments.length<2)){e.next=2;break}throw new Error("Missing Parameters");case 2:if(2!==r.arguments.length){e.next=4;break}return e.abrupt("return",H(t,r.arguments[1]));case 4:if((r.arguments.length-1)%2!=0){e.next=6;break}throw new Error("Must have a default value result.");case 6:return e.t0=Je,e.t1=t,e.t2=r,e.next=11,H(t,r.arguments[0]);case 11:return e.t3=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2,1,e.t3));case 13:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Ge.when=function(){var e=Object(a.a)(u.a.mark((function e(t,r){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.arguments.length<3)){e.next=2;break}throw new Error("Missing Parameters");case 2:if(r.arguments.length%2!=0){e.next=4;break}throw new Error("Must have a default value result.");case 4:return e.next=6,H(t,r.arguments[0]);case 6:if(n=e.sent,!1!==Object(h.K)(n)){e.next=9;break}throw new Error("WHEN needs boolean test conditions");case 9:return e.abrupt("return",Ze(t,r,0,n));case 10:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Ge.sort=function(e,t){return M(e,t,function(){var e=Object(a.a)(u.a.mark((function e(t,r,n){var a,c,s,o,i,l,p,f;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(h.R)(n,1,2),a=n[0],Object(h.P)(a)&&(a=a.toArray()),!1!==Object(h.N)(a)){e.next=4;break}throw new Error("Illegal Argument");case 4:if(!(n.length>1)){e.next=8;break}if(!1!==Object(h.Q)(n[1])){e.next=7;break}throw new Error("Illegal Argument");case 7:return e.abrupt("return",qe(a,at(n[1])));case 8:if(0!==(c=a).length){e.next=11;break}return e.abrupt("return",[]);case 11:for(s={},o=0;o<c.length;o++)""!==(i=Ve(c[o]))&&(s[i]=!0);if(!0!==s.Array&&!0!==s.Dictionary&&!0!==s.Feature&&!0!==s.Point&&!0!==s.Polygon&&!0!==s.Polyline&&!0!==s.Multipoint&&!0!==s.Extent&&!0!==s.Function){e.next=15;break}return e.abrupt("return",c.slice(0));case 15:for(f in l=0,p="",s)l++,p=f;return e.abrupt("return",(l>1||"String"===p?c=et(c,(function(e,t){if(null==e||e===h.X)return null==t||t===h.X?0:1;if(null==t||t===h.X)return-1;var r=Object(h.J)(e),n=Object(h.J)(t);return r<n?-1:r===n?0:1})):"Number"===p?c=et(c,(function(e,t){return e-t})):"Boolean"===p?c=et(c,(function(e,t){return e===t?0:t?-1:1})):"Date"===p&&(c=et(c,(function(e,t){return t-e}))),c));case 18:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}())};var ct={fixSpatialReference:h.b,parseArguments:U,standardFunction:A,standardFunctionAsync:M,evaluateIdentifier:Me,arcadeCustomFunction:at};for(var ut in Ge)Ge[ut]={value:new h.o(Ge[ut]),valueset:!0,node:null};var st=function(){};function ot(e,t){var r=new st;null==e&&(e={}),null==t&&(t={});var n=new i.a({newline:"\n",tab:"\t",singlequote:"'",doublequote:'"',forwardslash:"/",backwardslash:"\\"});for(var a in n.immutable=!1,r.textformatting={value:n,valueset:!0,node:null},t)r[a]={value:new h.o(t[a]),native:!0,valueset:!0,node:null};for(var c in e)e[c]&&"esri.Graphic"===e[c].declaredClass?r[c]={value:l.a.createFromGraphic(e[c]),valueset:!0,node:null}:r[c]={value:e[c],valueset:!0,node:null};return r}function it(e){console.log(e)}(st.prototype=Ge).infinity={value:Number.POSITIVE_INFINITY,valueset:!0,node:null},st.prototype.pi={value:Math.PI,valueset:!0,node:null};var lt=ct;function pt(e){for(var t={mode:"async",compiled:!1,functions:{},signatures:[],standardFunction:A,standardFunctionAsync:M,evaluateIdentifier:Me,arcadeCustomFunctionHandler:at},r=0;r<e.length;r++)e[r].registerFunctions(t);for(var n in t.functions)Ge[n]={value:new h.o(t.functions[n]),valueset:!0,node:null},st.prototype[n]=Ge[n];for(var a=0;a<t.signatures.length;a++)Object(x.a)(t.signatures[a],"async")}function ft(e,t){return bt.apply(this,arguments)}function bt(){return(bt=Object(a.a)(u.a.mark((function e(t,r){var n,a,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==(n=r.spatialReference)&&(n=new T.a({wkid:102100})),a=ot(r.vars,r.customfunctions),c={spatialReference:n,services:r.services,abortSignal:void 0===r.abortSignal||null===r.abortSignal?{aborted:!1}:r.abortSignal,globalScope:a,console:r.console?r.console:it,lrucache:r.lrucache,interceptor:r.interceptor,localScope:null,depthCounter:1},e.next=5,H(c,t.body[0].body);case 5:if((s=e.sent)instanceof h.s&&(s=s.value),s instanceof h.j&&(s=s.value),s===h.X&&(s=null),s!==h.Y){e.next=8;break}throw new Error("Cannot return BREAK");case 8:if(s!==h.Z){e.next=10;break}throw new Error("Cannot return CONTINUE");case 10:if(!(s instanceof h.o)){e.next=12;break}throw new Error("Cannot return FUNCTION");case 12:if(!(s instanceof p.a)){e.next=14;break}throw new Error("Cannot return FUNCTION");case 14:return e.abrupt("return",s);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ht(e,t){return Object(x.d)(e)}function xt(e,t){return Object(x.k)(e,t,"full")}function dt(e,t){return Object(x.i)(e,t)}function wt(e,t){return Object(x.h)(e,t)}function Ot(e){return Object(x.e)(e)}pt([d.a])}}]);