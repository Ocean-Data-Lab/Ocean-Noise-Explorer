(this["webpackJsonpmatx-react-pro"]=this["webpackJsonpmatx-react-pro"]||[]).push([[193],{1391:function(e,t,a){"use strict";a.r(t),a.d(t,"getContrastingBackgroundTheme",(function(){return C})),a.d(t,"getRenderSymbolParameters",(function(){return z})),a.d(t,"previewSymbol2D",(function(){return L}));var n=a(5),l=a(155),i=a(154),o=a.n(i),r=a(202),c=a(159),u=a(167),s=a(725),d=a(630),m=a(776);a(146);function h(e){var t=e.r,a=e.g,n=e.b,l=e.a;return l<1&&(t=Math.round(l*t+255*(1-l)),a=Math.round(l*a+255*(1-l)),n=Math.round(l*n+255*(1-l))),new r.a({r:t,g:a,b:n})}function p(e){var t=h(e);return.2126*t.r+.7152*t.g+.0722*t.b}var v="picture-fill",f=d.a.size,b=d.a.maxSize,y=d.a.maxOutlineSize,g=d.a.lineWidth,w=225,j=document.createElement("canvas");function O(e){var t=null===e||void 0===e?void 0:e.size;return{width:null!=t&&"object"==typeof t&&"width"in t?Object(u.c)(t.width):null,height:null!=t&&"object"==typeof t&&"height"in t?Object(u.c)(t.height):null}}function k(e,t){return x.apply(this,arguments)}function x(){return(x=Object(l.a)(o.a.mark((function e(t,a){var n,l,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.fill,l=t.color,"pattern"!==(null===n||void 0===n?void 0:n.type)||!l||t.type===v){e.next=6;break}return e.next=4,Object(s.d)(n.src,l.toCss(!0));case 4:i=e.sent,n.src=i,a.fill=n;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e,t){return e>t?"dark":"light"}function z(e,t){var a,l,i="number"==typeof(null===t||void 0===t?void 0:t.size)?null===t||void 0===t?void 0:t.size:null,o=null!=i?Object(u.c)(i):null,r=null!=(null===t||void 0===t?void 0:t.maxSize)?Object(u.c)(t.maxSize):null,c=null!=(null===t||void 0===t?void 0:t.rotation)?t.rotation:"angle"in e?e.angle:null,m=Object(s.c)(e),h=Object(s.e)(e);"dark"!==C(e,245)||(null===t||void 0===t?void 0:t.ignoreWhiteSymbols)||(h=Object(n.a)(Object(n.a)({width:.75},h),{},{color:"#bdc3c7"}));var p={shape:null,fill:m,stroke:h,offset:[0,0]};(null===(a=h)||void 0===a?void 0:a.width)&&(h.width=Math.min(h.width,y));var w=(null===(l=h)||void 0===l?void 0:l.width)||0,k=null!=(null===t||void 0===t?void 0:t.size)&&(null==(null===t||void 0===t?void 0:t.scale)||(null===t||void 0===t?void 0:t.scale)),x=0,M=0,z=!1;switch(e.type){case"simple-marker":var L=e.style,S=Math.min(null!=o?o:Object(u.c)(e.size),r||b);switch(x=S,M=S,L){case"circle":p.shape={type:"circle",cx:0,cy:0,r:.5*S},k||(x+=w,M+=w);break;case"cross":p.shape={type:"path",path:[{command:"M",values:[0,.5*M]},{command:"L",values:[x,.5*M]},{command:"M",values:[.5*x,0]},{command:"L",values:[.5*x,M]}]};break;case"diamond":p.shape={type:"path",path:[{command:"M",values:[0,.5*M]},{command:"L",values:[.5*x,0]},{command:"L",values:[x,.5*M]},{command:"L",values:[.5*x,M]},{command:"Z",values:[]}]},k||(x+=w,M+=w);break;case"square":p.shape={type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[x,0]},{command:"L",values:[x,M]},{command:"L",values:[0,M]},{command:"Z",values:[]}]},k||(x+=w,M+=w),c&&(z=!0);break;case"triangle":p.shape={type:"path",path:[{command:"M",values:[.5*x,0]},{command:"L",values:[x,M]},{command:"L",values:[0,M]},{command:"Z",values:[]}]},k||(x+=w,M+=w),c&&(z=!0);break;case"x":p.shape={type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[x,M]},{command:"M",values:[x,0]},{command:"L",values:[0,M]}]},c&&(z=!0);break;case"path":p.shape={type:"path",path:e.path||""},k||(x+=w,M+=w),c&&(z=!0),k=!0}break;case"simple-line":var F,D=O(t),Z=D.width,q=D.height,E=null!=q?q:Math.min(null!=o?o:w,r||y),P=null!=Z?Z:g;h.width=E,x=P,M=E;var T=(null===p||void 0===p||null===(F=p.stroke)||void 0===F?void 0:F.cap)||"butt",A="round"===T;k=!0,p.stroke.cap="butt"===T?"square":T,p.shape={type:"path",path:[{command:"M",values:[A?E/2:0,M/2]},{command:"L",values:[A?x-E/2:x,M/2]}]};break;case v:case"simple-fill":var B="object"==typeof(null===t||void 0===t?void 0:t.symbolConfig)&&(null===t||void 0===t?void 0:t.symbolConfig.isSquareFill),J=O(t),R=J.width,V=J.height;x=B&&null!=R?R:null!=o?o:f,M=B&&null!=V?V:x,k||(x+=w,M+=w),k=!0,p.shape=B?{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[x,0]},{command:"L",values:[x,M]},{command:"L",values:[0,M]},{command:"L",values:[0,0]},{command:"Z",values:[]}]}:d.m.fill[0];break;case"picture-marker":var W=Object(u.c)(e.width),H=Object(u.c)(e.height),G=null!=o?o:Math.max(W,H),I=W/H;W=I<=1?Math.ceil(G*I):G,H=I<=1?G:Math.ceil(G/I),x=Math.min(W,r||b),M=Math.min(H,r||b),p.shape={type:"image",x:-Math.round(x/2),y:-Math.round(M/2),width:x,height:M,src:e.url||""},c&&(z=!0);break;case"text":var K=e,N=K.text||"Aa",Q=K.font,U=Math.min(null!=o?o:Object(u.c)(Q.size),r||b),X=function(e,t){var a=j.getContext("2d"),n=[];return t&&(t.weight&&n.push(t.weight),t.size&&n.push(t.size+"px"),t.family&&n.push(t.family)),a.font=n.join(" "),a.measureText(e).width}(N,{weight:Q.weight,size:U,family:Q.family}),Y=/[\uE600-\uE6FF]/.test(N);x=Y?U:X,M=U;var $=.25*function(e){if(0===e.length)return 0;if(e.length>2){var t=Object(u.d)(1),a=parseFloat(e);switch(e.slice(-2)){case"px":return a;case"pt":return a*t;case"in":return 72*a*t;case"pc":return 12*a*t;case"mm":return 2.8346456692913384*a*t;case"cm":return 28.346456692913385*a*t}}return parseFloat(e)}((Q?U:0).toString());Y&&($+=5),p.shape={type:"text",text:N,x:K.xoffset||0,y:K.yoffset||$,align:"middle",alignBaseline:K.verticalAlignment,decoration:Q&&Q.decoration,rotated:K.rotated,kerning:K.kerning},p.font=Q&&{size:U,style:Q.style,decoration:Q.decoration,weight:Q.weight,family:Q.family}}return{shapeDescriptor:p,size:[x,M],renderOptions:{node:null===t||void 0===t?void 0:t.node,scale:k,opacity:null===t||void 0===t?void 0:t.opacity,rotation:c,useRotationSize:z,effectView:null===t||void 0===t?void 0:t.effectView}}}function L(e,t){return S.apply(this,arguments)}function S(){return(S=Object(l.a)(o.a.mark((function e(t,a){var l,i,r,u,s,h;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=z(t,a),i=l.shapeDescriptor,r=l.size,u=l.renderOptions,i.shape){e.next=3;break}throw new c.a("symbolPreview: renderPreviewHTML2D","symbol not supported.");case 3:return e.next=5,k(t,i);case 5:return s=[[i]],"object"==typeof(null===a||void 0===a?void 0:a.symbolConfig)&&null!==a&&void 0!==a&&a.symbolConfig.applyColorModulation&&(h=.6*r[0],s.unshift([Object(n.a)(Object(n.a)({},i),{},{offset:[-h,0],fill:Object(d.b)(i.fill,-.3)})]),s.push([Object(n.a)(Object(n.a)({},i),{},{offset:[h,0],fill:Object(d.b)(i.fill,.3)})]),r[0]+=2*h,u.scale=!1),e.abrupt("return",Object(m.a)(s,r,u));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w,a=Object(s.c)(e),n=Object(s.e)(e),l=!a||"type"in a?null:new r.a(a),i=null!==n&&void 0!==n&&n.color?new r.a(null===n||void 0===n?void 0:n.color):null,o=l?M(p(l),t):null,c=i?M(p(i),t):null;return c?o?o===c?o:t>=w?"light":"dark":c:o}}}]);
//# sourceMappingURL=193.a9618ab3.chunk.js.map