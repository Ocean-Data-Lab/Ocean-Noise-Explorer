(this["webpackJsonpmatx-react-pro"]=this["webpackJsonpmatx-react-pro"]||[]).push([[85],{1211:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return x}));var r=n(60),a=n(155),i=n(142),u=n(143),o=n(154),s=n.n(o),c=n(159),l=n(156),p=n(146),f=n(162),d=n(182),y=n(189),b=n(674),h=n(278),v=n(551),m=n(488),g=n(642),w=n(775),j=n(330),x=function(){function e(){var t=this;Object(i.a)(this,e),this._queryEngine=null,this._customParameters=null,this._snapshotFeatures=function(){var e=Object(a.a)(s.a.mark((function e(n){var a,i,u,o,c,l,b,v,j,x,O;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t._queryEngine.objectIdField,e.next=3,Object(w.d)(t._getFeatureUrl,t._featureType.typeName,t._getFeatureOutputFormat,{customParameters:t._customParameters,dateFields:t._queryEngine.fieldsIndex.dateFields.map((function(e){return e.name})),signal:n});case 3:return i=e.sent,e.next=6,Object(m.d)(i);case 6:if(Object(f.p)(n),u=Object(m.a)(i,{geometryType:t._queryEngine.geometryType,hasZ:!1,objectIdField:a}),!Object(d.d)(t._queryEngine.spatialReference,d.b)){o=Object(r.a)(u);try{for(o.s();!(c=o.n()).done;)l=c.value,Object(p.k)(l.geometry)&&(l.geometry=Object(y.d)(Object(h.b)(Object(y.k)(l.geometry,t._queryEngine.geometryType,!1,!1),d.b,t._queryEngine.spatialReference)))}catch(s){o.e(s)}finally{o.f()}}b=1,v=Object(r.a)(u);try{for(v.s();!(j=v.n()).done;)x=j.value,O={},Object(g.d)(t._fieldsIndex,O,x.attributes,!0),x.attributes=O,null==x.attributes[a]&&(x.objectId=x.attributes[a]=b++)}catch(s){v.e(s)}finally{v.f()}return e.abrupt("return",u);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}return Object(u.a)(e,[{key:"destroy",value:function(){var e;null!==(e=this._queryEngine)&&void 0!==e&&e.destroy(),this._queryEngine=null}},{key:"load",value:function(){var e=Object(a.a)(s.a.mark((function e(t,n){var r,a,i,u,o,c,l,d,y;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.getFeatureUrl,a=t.getFeatureOutputFormat,i=t.spatialReference,u=t.fields,o=t.geometryType,c=t.featureType,l=t.objectIdField,d=t.customParameters,this._featureType=c,this._customParameters=d,this._getFeatureUrl=r,this._getFeatureOutputFormat=a,this._fieldsIndex=new j.a(u),e.next=8,this._checkProjection(i);case 8:return Object(f.p)(n),this._queryEngine=new v.a({fields:u,geometryType:o,hasM:!1,hasZ:!1,objectIdField:l,spatialReference:i,timeInfo:null,featureStore:new b.a({geometryType:o,hasM:!1,hasZ:!1})}),e.next=12,this._snapshotFeatures(Object(p.q)(n.signal));case 12:return y=e.sent,e.abrupt("return",(this._queryEngine.featureStore.addMany(y),{extent:this._queryEngine.fullExtent}));case 14:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"applyEdits",value:function(){var e=Object(a.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new c.a("wfs-source:editing-not-supported","applyEdits() is not supported on WFSLayer");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"queryFeatures",value:function(){var e=Object(a.a)(s.a.mark((function e(){var t,n,r=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=4,this._waitSnapshotComplete();case 4:return e.abrupt("return",this._queryEngine.executeQuery(t,n.signal));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"queryFeatureCount",value:function(){var e=Object(a.a)(s.a.mark((function e(){var t,n,r=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=4,this._waitSnapshotComplete();case 4:return e.abrupt("return",this._queryEngine.executeQueryForCount(t,n.signal));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"queryObjectIds",value:function(){var e=Object(a.a)(s.a.mark((function e(){var t,n,r=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=4,this._waitSnapshotComplete();case 4:return e.abrupt("return",this._queryEngine.executeQueryForIds(t,n.signal));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"queryExtent",value:function(){var e=Object(a.a)(s.a.mark((function e(){var t,n,r=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=4,this._waitSnapshotComplete();case 4:return e.abrupt("return",this._queryEngine.executeQueryForExtent(t,n.signal));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"querySnapping",value:function(){var e=Object(a.a)(s.a.mark((function e(t){var n,r=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=3,this._waitSnapshotComplete();case 3:return e.abrupt("return",this._queryEngine.executeQueryForSnapping(t,n.signal));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"refresh",value:function(){var e=Object(a.a)(s.a.mark((function e(t){var n,r=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._customParameters=t,null!==(n=this._snapshotTask)&&void 0!==n&&n.abort(),this._snapshotTask=Object(f.e)(this._snapshotFeatures),this._snapshotTask.promise.then((function(e){r._queryEngine.featureStore.clear(),e&&r._queryEngine.featureStore.addMany(e)}),(function(e){r._queryEngine.featureStore.clear(),Object(f.j)(e)||l.a.getLogger("esri.layers.WFSLayer").error(new c.a("wfs-layer:getfeature-error","An error occurred during the GetFeature request",{error:e}))})),e.next=6,this._waitSnapshotComplete();case 6:return e.abrupt("return",{extent:this._queryEngine.fullExtent});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_waitSnapshotComplete",value:function(){var e=Object(a.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._snapshotTask||this._snapshotTask.finished){e.next=9;break}return e.prev=1,e.next=4,this._snapshotTask.promise;case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:return e.abrupt("return",this._waitSnapshotComplete());case 9:case"end":return e.stop()}}),e,this,[[1,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"_checkProjection",value:function(){var e=Object(a.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(h.a)(d.b,t);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),new c.a("unsupported-projection","Projection not supported",{spatialReference:t});case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()}]),e}()},488:function(e,t,n){"use strict";n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return C})),n.d(t,"d",(function(){return P}));var r=n(14),a=n(60),i=n(154),u=n.n(i),o=n(159),s=n(351),c=n(216),l=n(238),p=u.a.mark(h),f=u.a.mark(v),d=u.a.mark(m),y={LineString:"esriGeometryPolyline",MultiLineString:"esriGeometryPolyline",MultiPoint:"esriGeometryMultipoint",Point:"esriGeometryPoint",Polygon:"esriGeometryPolygon",MultiPolygon:"esriGeometryPolygon"};function b(e){return y[e]}function h(e){var t,n,r;return u.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:i.t0=e.type,i.next="Feature"===i.t0?3:"FeatureCollection"===i.t0?6:25;break;case 3:return i.next=5,e;case 5:return i.abrupt("break",25);case 6:t=Object(a.a)(e.features),i.prev=7,t.s();case 9:if((n=t.n()).done){i.next=17;break}if(r=n.value,i.t1=r,!i.t1){i.next=15;break}return i.next=15,r;case 15:i.next=9;break;case 17:i.next=22;break;case 19:i.prev=19,i.t2=i.catch(7),t.e(i.t2);case 22:return i.prev=22,t.f(),i.finish(22);case 25:case"end":return i.stop()}}),p,null,[[7,19,22,25]])}function v(e){var t,n,r,i,o,s,c,l,p;return u.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:if(e){u.next=2;break}return u.abrupt("return",null);case 2:u.t0=e.type,u.next="Point"===u.t0?5:"LineString"===u.t0||"MultiPoint"===u.t0?8:"MultiLineString"===u.t0||"Polygon"===u.t0?10:"MultiPolygon"===u.t0?27:58;break;case 5:return u.next=7,e.coordinates;case 7:return u.abrupt("break",58);case 8:return u.delegateYield(e.coordinates,"t1",9);case 9:return u.abrupt("break",58);case 10:t=Object(a.a)(e.coordinates),u.prev=11,t.s();case 13:if((n=t.n()).done){u.next=18;break}return r=n.value,u.delegateYield(r,"t2",16);case 16:u.next=13;break;case 18:u.next=23;break;case 20:u.prev=20,u.t3=u.catch(11),t.e(u.t3);case 23:return u.prev=23,t.f(),u.finish(23);case 26:return u.abrupt("break",58);case 27:i=Object(a.a)(e.coordinates),u.prev=28,i.s();case 30:if((o=i.n()).done){u.next=50;break}s=o.value,c=Object(a.a)(s),u.prev=33,c.s();case 35:if((l=c.n()).done){u.next=40;break}return p=l.value,u.delegateYield(p,"t4",38);case 38:u.next=35;break;case 40:u.next=45;break;case 42:u.prev=42,u.t5=u.catch(33),c.e(u.t5);case 45:return u.prev=45,c.f(),u.finish(45);case 48:u.next=30;break;case 50:u.next=55;break;case 52:u.prev=52,u.t6=u.catch(28),i.e(u.t6);case 55:return u.prev=55,i.f(),u.finish(55);case 58:case"end":return u.stop()}}),f,null,[[11,20,23,26],[28,52,55,58],[33,42,45,48]])}function m(e){var t,n,r,i,o,l,p,f,y,h,v,m,g,w=arguments;return u.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:t=w.length>1&&void 0!==w[1]?w[1]:{},n=t.geometryType,r=t.objectIdField,i=Object(a.a)(e),u.prev=3,i.s();case 5:if((o=i.n()).done){u.next=18;break}if(p=o.value,f=p.geometry,y=p.properties,h=p.id,!f||b(f.type)===n){u.next=10;break}return u.abrupt("continue",16);case 10:return m=null!==(l=(v=y||{})[r])&&void 0!==l?l:null,r&&null!=h&&!v[r]&&(v[r]=m=h),g=new s.a(f?x(new c.a,f,t):null,v,null,m),u.next=16,g;case 16:u.next=5;break;case 18:u.next=23;break;case 20:u.prev=20,u.t0=u.catch(3),i.e(u.t0);case 23:return u.prev=23,i.f(),u.finish(23);case 26:case"end":return u.stop()}}),d,null,[[3,20,23,26]])}function g(e){var t,n=Object(a.a)(e);try{for(n.s();!(t=n.n()).done;){if(t.value.length>2)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}function w(e){for(var t=0,n=0;n<e.length;n++){var r=e[n],a=e[(n+1)%e.length];t+=r[0]*a[1]-a[0]*r[1]}return t<=0}function j(e){var t=e[0],n=e[e.length-1];return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]||e.push(t),e}function x(e,t,n){switch(t.type){case"LineString":case"MultiPoint":return function(e,t,n){return F(e,t.coordinates,n),e}(e,t,n);case"MultiLineString":return function(e,t,n){var r,i=Object(a.a)(t.coordinates);try{for(i.s();!(r=i.n()).done;){F(e,r.value,n)}}catch(u){i.e(u)}finally{i.f()}return e}(e,t,n);case"MultiPolygon":return function(e,t,n){var r,i=Object(a.a)(t.coordinates);try{for(i.s();!(r=i.n()).done;){var u=r.value;O(e,u[0],n);for(var o=1;o<u.length;o++)k(e,u[o],n)}}catch(s){i.e(s)}finally{i.f()}return e}(e,t,n);case"Point":return function(e,t,n){return T(e,t.coordinates,n),e}(e,t,n);case"Polygon":return function(e,t,n){var r=t.coordinates;O(e,r[0],n);for(var a=1;a<r.length;a++)k(e,r[a],n);return e}(e,t,n)}}function O(e,t,n){var r=j(t);!function(e){return!w(e)}(r)?F(e,r,n):S(e,r,n)}function k(e,t,n){var r=j(t);!function(e){return w(e)}(r)?F(e,r,n):S(e,r,n)}function F(e,t,n){var r,i=Object(a.a)(t);try{for(i.s();!(r=i.n()).done;){T(e,r.value,n)}}catch(u){i.e(u)}finally{i.f()}e.lengths.push(t.length)}function S(e,t,n){for(var r=t.length-1;r>=0;r--)T(e,t[r],n);e.lengths.push(t.length)}function T(e,t,n){var a=Object(r.a)(t,3),i=a[0],u=a[1],o=a[2];e.coords.push(i,u),n.hasZ&&e.coords.push(o||0)}function E(e){switch(typeof e){case"string":return"esriFieldTypeString";case"number":return"esriFieldTypeDouble";default:return"unknown"}}function P(e){if(!e)throw new o.a("geojson-layer:empty","GeoJSON data is empty");if("Feature"!==e.type&&"FeatureCollection"!==e.type)throw new o.a("geojson-layer:unsupported-geojson-object","missing or not supported GeoJSON object type",{data:e});var t=e.crs;if(t){var n="string"==typeof t?t:"name"===t.type?t.properties.name:"EPSG"===t.type?t.properties.code:null,r=new RegExp(".*(CRS84H?|4326)$","i");if(!n||!r.test(n))throw new o.a("geojson-layer:unsupported-crs","unsupported GeoJSON 'crs' member",{crs:t})}}function C(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=[],u=new Set,o=new Set,s=!1,c=null,p=!1,f=r.geometryType,d=void 0===f?null:f,y=!1,m=Object(a.a)(h(e));try{var w=function(){var e=n.value,r=e.geometry,a=e.properties,l=e.id;if((!r||(d||(d=b(r.type)),b(r.type)===d))&&(s||(s=g(v(r))),p||(p=null!=l)&&(t=typeof l,c=Object.keys(a).filter((function(e){return a[e]===l}))),p&&null!=l&&(c.length>1?c=c.filter((function(e){return a[e]===l})):1===c.length&&(c=a[c[0]]===l?c:[])),!y&&a)){var f=!0;for(var h in a)if(!u.has(h)){var m=a[h];if(null!=m){var w=E(m);"unknown"!==w?(o.delete(h),u.add(h),i.push({name:h,alias:h,type:w})):o.add(h)}else f=!1,o.add(h)}y=f}};for(m.s();!(n=m.n()).done;)w()}catch(F){m.e(F)}finally{m.f()}var j=c&&1===c.length&&c[0]||null;if(j){var x,O=Object(a.a)(i);try{for(O.s();!(x=O.n()).done;){var k=x.value;if(k.name===j&&Object(l.p)(k)){k.type="esriFieldTypeOID";break}}}catch(F){O.e(F)}finally{O.f()}}return{fields:i,geometryType:d,hasZ:s,objectIdFieldName:j,objectIdFieldType:t,unknownFields:Array.from(o)}}function _(e,t){return Array.from(m(h(e),t))}},501:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(426),a=n(513),i=n(144);function u(){u=function(e,t){return new n(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function n(e,r,i){var u=new RegExp(e,r);return t.set(u,i||t.get(e)),Object(a.a)(u,n.prototype)}function o(e,n){var r=t.get(n);return Object.keys(r).reduce((function(t,n){return t[n]=e[r[n]],t}),Object.create(null))}return Object(i.a)(n,RegExp),n.prototype.exec=function(t){var n=e.exec.call(this,t);return n&&(n.groups=o(n,this)),n},n.prototype[Symbol.replace]=function(n,a){if("string"==typeof a){var i=t.get(this);return e[Symbol.replace].call(this,n,a.replace(/\$<([^>]+)>/g,(function(e,t){return"$"+i[t]})))}if("function"==typeof a){var u=this;return e[Symbol.replace].call(this,n,(function(){var e=arguments;return"object"!=Object(r.a)(e[e.length-1])&&(e=[].slice.call(e)).push(o(e,u)),a.apply(this,e)}))}return e[Symbol.replace].call(this,n,a)},u.apply(this,arguments)}},642:function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return k})),n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return j}));var r=n(155),a=n(60),i=n(143),u=n(142),o=n(154),s=n.n(o),c=n(146),l=n(182),p=n(238),f=Object(i.a)((function e(){Object(u.a)(this,e),this.code=null,this.description=null})),d=Object(i.a)((function e(t){Object(u.a)(this,e),this.error=new f,this.globalId=null,this.objectId=null,this.success=!1,this.uniqueId=null,this.error.description=t}));function y(e){return new d(e)}var b=Object(i.a)((function e(t){Object(u.a)(this,e),this.globalId=null,this.success=!0,this.objectId=this.uniqueId=t}));function h(e){return new b(e)}var v,m=new Set;function g(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4?arguments[4]:void 0;for(var u in m.clear(),n){var o=e.get(u);if(o){var s=n[u],c=w(o,s);if(c!==s&&i&&i.push({name:"invalid-value-type",message:"attribute value was converted to match the field type",details:{field:o,originalValue:s,sanitizedValue:c}}),m.add(o.name),o&&(r||o.editable)){var l=Object(p.v)(o,c);if(l)return y(Object(p.w)(l,o,c));t[o.name]=c}}}var f,d=Object(a.a)(e.requiredFields);try{for(d.s();!(f=d.n()).done;){var b=f.value;if(!m.has(b.name))return y('missing required field "'.concat(b.name,'"'))}}catch(h){d.e(h)}finally{d.f()}return null}function w(e,t){var n=t;return"string"==typeof t&&Object(p.p)(e)?n=parseFloat(t):null!=t&&Object(p.r)(e)&&"string"!=typeof t&&(n=String(t)),Object(p.t)(n)}function j(e,t){if(!e||!Object(l.l)(t))return e;if("rings"in e||"paths"in e){if(Object(c.j)(v))throw new TypeError("geometry engine not loaded");return v.simplify(t,e)}return e}function x(){return O.apply(this,arguments)}function O(){return(O=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Object(c.j)(v),!e.t0){e.next=5;break}return e.next=4,Promise.all([n.e(6),n.e(16)]).then(n.bind(null,528));case 4:v=e.sent;case 5:return e.abrupt("return",v);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e,t){return F.apply(this,arguments)}function F(){return(F=Object(r.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=!Object(l.l)(t)||"esriGeometryPolygon"!==n&&"esriGeometryPolyline"!==n,e.t0){e.next=4;break}return e.next=4,x();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},643:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));var r=n(60),a=n(154),i=n.n(a),u=i.a.mark(s);function o(e,t){var n,a=Object(r.a)(e.children);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(i.localName in t){var u=t[i.localName];if("function"==typeof u){var s=u(i);s&&o(i,s)}else o(i,u)}}}catch(c){a.e(c)}finally{a.f()}}function s(e,t){var n,a,o,c;return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:n=Object(r.a)(e.children),i.prev=1,n.s();case 3:if((a=n.n()).done){i.next=15;break}if(!((o=a.value).localName in t)){i.next=13;break}if("function"!=typeof(c=t[o.localName])){i.next=12;break}return i.next=10,c(o);case 10:i.next=13;break;case 12:return i.delegateYield(s(o,c),"t0",13);case 13:i.next=3;break;case 15:i.next=20;break;case 17:i.prev=17,i.t1=i.catch(1),n.e(i.t1);case 20:return i.prev=20,n.f(),i.finish(20);case 23:case"end":return i.stop()}}),u,null,[[1,17,20,23]])}},775:function(e,t,n){"use strict";n.d(t,"a",(function(){return P})),n.d(t,"b",(function(){return Y})),n.d(t,"c",(function(){return M})),n.d(t,"d",(function(){return ae})),n.d(t,"e",(function(){return J})),n.d(t,"f",(function(){return Z}));var r=n(5),a=n(14),i=n(60),u=n(16),o=n(501),s=n(155),c=n(154),l=n.n(c),p=(n(177),n(186)),f=n(159),d=n(696),y=n(146),b=n(162),h=n(183),v=n(256),m=n(182),g=n(386),w=n(488);function j(e){var t;return null!==(t=function(e){var t,n,r,a,i=x.exec(e);if(!i)return null;var u=i.groups,o=+u.year,s=+u.month-1,c=+u.day,l=+(null!==(t=u.hours)&&void 0!==t?t:"0"),p=+(null!==(n=u.minutes)&&void 0!==n?n:"0"),f=+(null!==(r=u.seconds)&&void 0!==r?r:"0");if(l>23)return null;if(p>59)return null;if(f>59)return null;var d,y=null!==(a=u.ms)&&void 0!==a?a:"0",b=y?+y.padEnd(3,"0").substring(0,3):0;if(u.isUTC)d=Date.UTC(o,s,c,l,p,f,b);else if(u.offsetSign){var h=+u.offsetHours,v=+u.offsetMinutes;d=6e4*("+"===u.offsetSign?-1:1)*(60*h+v)+Date.UTC(o,s,c,l,p,f,b)}else d=new Date(o,s,c,l,p,f,b).getTime();return Number.isNaN(d)?null:d}(e))&&void 0!==t?t:function(e){var t=new Date(e).getTime();return Number.isNaN(t)?null:t}(e)}var x=Object(o.a)(/^(?:(\x2D?\d{4,})\x2D(\d{2})\x2D(\d{2}))(?:T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?)?(?:(Z)|(?:(\+|\x2D)(\d{2}):(\d{2})))?$/,{year:1,month:2,day:3,hours:4,minutes:5,seconds:6,ms:7,isUTC:8,offsetSign:9,offsetHours:10,offsetMinutes:11}),O=n(643),k=n(357),F=n(185),S=n(176),T="xlink:href",E="2.0.0",P="__esri_wfs_id__",C="wfs-layer:getWFSLayerTypeInfo-error",_="wfs-layer:empty-service",N="wfs-layer:feature-type-not-found",G="wfs-layer:malformed-json",q="wfs-layer:unknown-geometry-type",I="wfs-layer:unknown-field-type",R="wfs-layer:unsupported-spatial-reference",A="wfs-layer:unsupported-wfs-version";function M(e,t){return D.apply(this,arguments)}function D(){return(D=Object(s.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=L,e.next=3,Object(p.default)(t,{responseType:"text",query:Object(r.a)({SERVICE:"WFS",REQUEST:"GetCapabilities",VERSION:E},null===n||void 0===n?void 0:n.customParameters),signal:null===n||void 0===n?void 0:n.signal});case 3:return e.t1=e.sent.data,a=(0,e.t0)(e.t1),e.abrupt("return",(W(t,a),a));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e){var t=oe(e);(function(e){var t=e.firstElementChild.getAttribute("version");if(t&&t!==E)throw new f.a(A,"Unsupported WFS version ".concat(t,". Supported version: ").concat(E))})(t),ce(t);var n=t.firstElementChild,r=Object(d.a)(function(e){return Object(O.a)(e,{FeatureTypeList:{FeatureType:function(e){var t,n={typeName:"undefined:undefined",name:"",title:"",description:"",extent:null,namespacePrefix:"",namespaceUri:"",supportedSpatialReferences:[]},r=new Set([4326]),s=function(e){var t,n,a=parseInt(null===(t=e.textContent.match(Object(o.a)(/(\d+$)/i,{wkid:1})))||void 0===t||null===(n=t.groups)||void 0===n?void 0:n.wkid,10);Number.isNaN(a)||r.add(a)};return Object(O.b)(e,{Name:function(e){var t=se(e.textContent),r=t.name,a=t.prefix;n.typeName="".concat(a,":").concat(r),n.name=r,n.namespacePrefix=a,n.namespaceUri=e.lookupNamespaceURI(a)},Abstract:function(e){n.description=e.textContent},Title:function(e){n.title=e.textContent},WGS84BoundingBox:function(e){n.extent=function(e){var t,n,r,u,o,s=Object(i.a)(e.children);try{for(s.s();!(o=s.n()).done;){var c=o.value;switch(c.localName){case"LowerCorner":var l=c.textContent.split(" ").map((function(e){return Number.parseFloat(e)})),p=Object(a.a)(l,2);t=p[0],n=p[1];break;case"UpperCorner":var f=c.textContent.split(" ").map((function(e){return Number.parseFloat(e)})),d=Object(a.a)(f,2);r=d[0],u=d[1]}}}catch(y){s.e(y)}finally{s.f()}return{xmin:t,ymin:n,xmax:r,ymax:u,spatialReference:m.b}}(e)},DefaultSRS:s,DefaultCRS:s,OtherSRS:s,OtherCRS:s}),n.title||(n.title=n.name),(t=n.supportedSpatialReferences).push.apply(t,Object(u.a)(r)),n}}})}(n));return{operations:V(n),get featureTypes(){return Array.from(r())},readFeatureTypes:r}}var U=new Set(["json","application/json","geojson","application/json; subtype=geojson"]);function V(e){var t=!1,n={GetCapabilities:{url:""},DescribeFeatureType:{url:""},GetFeature:{url:"",outputFormat:null,supportsPagination:!1}};if(Object(O.b)(e,{OperationsMetadata:{Operation:function(e){switch(e.getAttribute("name")){case"GetCapabilities":return{DCP:{HTTP:{Get:function(e){n.GetCapabilities.url=e.getAttribute(T)}}}};case"DescribeFeatureType":return{DCP:{HTTP:{Get:function(e){n.DescribeFeatureType.url=e.getAttribute(T)}}}};case"GetFeature":return{DCP:{HTTP:{Get:function(e){n.GetFeature.url=e.getAttribute(T)}}},Parameter:function(e){if("outputFormat"===e.getAttribute("name"))return{AllowedValues:{Value:function(e){var t=e.textContent;U.has(t.toLowerCase())&&(n.GetFeature.outputFormat=t)}}}}}}},Constraint:function(e){switch(e.getAttribute("name")){case"KVPEncoding":return{DefaultValue:function(e){t="true"===e.textContent.toLowerCase()}};case"ImplementsResultPaging":return{DefaultValue:function(e){n.GetFeature.supportsPagination="true"===e.textContent.toLowerCase()}}}}}}),!t)throw new f.a("wfs-layer:kvp-encoding-not-supported","WFS service doesn't support key/value pair (KVP) encoding");if(Object(y.j)(n.GetFeature.outputFormat))throw new f.a("wfs-layer:geojson-not-supported","WFS service doesn't support GeoJSON output format");return n}function W(e,t){Object(h.x)(e)&&(Object(h.s)(e,t.operations.DescribeFeatureType.url,!0)&&(t.operations.DescribeFeatureType.url=Object(h.L)(t.operations.DescribeFeatureType.url)),Object(h.s)(e,t.operations.GetFeature.url,!0)&&(t.operations.GetFeature.url=Object(h.L)(t.operations.GetFeature.url)))}function Y(e,t,n){return Object(d.b)(e,(function(e){return n?e.name===t&&e.namespaceUri===n:e.typeName===t||e.name===t}))}function J(e,t,n){return X.apply(this,arguments)}function X(){return X=Object(s.a)(l.a.mark((function e(t,n,r){var a,i,u,o,s,c,p,f,d,y,b,h=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=h.length>3&&void 0!==h[3]?h[3]:{},e.next=3,z(t,n,r,i);case 3:return u=e.sent,o=u.featureType,s=u.extent,e.next=8,$(t,o.typeName,i);case 8:return c=e.sent,p=c.fields,f=c.geometryType,d=c.swapXY,y=c.objectIdField,b=c.geometryField,e.abrupt("return",{url:t.operations.GetCapabilities.url,name:o.name,namespaceUri:o.namespaceUri,fields:p,geometryField:b,geometryType:f,objectIdField:y,spatialReference:null!==(a=i.spatialReference)&&void 0!==a?a:F.a.WGS84,extent:s,swapXY:d,wfsCapabilities:t,customParameters:i.customParameters});case 15:case"end":return e.stop()}}),e)}))),X.apply(this,arguments)}function z(e,t,n){return Q.apply(this,arguments)}function Q(){return Q=Object(s.a)(l.a.mark((function e(t,n,a){var i,u,o,s,c,p,d=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=d.length>3&&void 0!==d[3]?d[3]:{},u=i.spatialReference,o=void 0===u?F.a.WGS84:u,s=t.readFeatureTypes(),c=n?Y(s,n,a):s.next().value,!Object(y.j)(c)){e.next=4;break}throw n?new f.a(N,"The type '".concat(n,"' could not be found in the service")):new f.a(_,"The service is empty");case 4:if(p=new S.a(Object(r.a)(Object(r.a)({},c.extent),{},{spatialReference:o})),Object(m.d)(o,m.b)){e.next=15;break}return e.prev=6,e.next=9,Object(v.d)(m.b,o,void 0,i);case 9:p=Object(v.g)(p,m.b),e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(6),new f.a(R,"Projection not supported");case 15:return e.abrupt("return",{extent:p,spatialReference:o,featureType:c});case 16:case"end":return e.stop()}}),e,null,[[6,12]])}))),Q.apply(this,arguments)}function $(e,t){return H.apply(this,arguments)}function H(){return H=Object(s.a)(l.a.mark((function e(t,n){var i,u,o,s,c,p,d,h,v,m,g=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=g.length>2&&void 0!==g[2]?g[2]:{},e.next=3,Object(b.g)([ee(t.operations.DescribeFeatureType.url,n,i),B(t,n,i)]);case 3:if(u=e.sent,o=Object(a.a)(u,2),s=o[0],c=o[1],!s.error&&!c.error){e.next=9;break}throw new f.a(C,"An error occurred while getting info about the feature type '".concat(n,"'"),{error:s.error||c.error});case 9:if(p=s.value,d=p.fields,h=p.errors,v=s.value.geometryType||c.value.geometryType,m=c.value.swapXY,!Object(y.j)(v)){e.next=12;break}throw new f.a(q,"The geometry type could not be determined for type '".concat(n),{typeName:n,geometryType:v,fields:d,errors:h});case 12:return e.abrupt("return",Object(r.a)(Object(r.a)({},Z(d)),{},{geometryType:v,swapXY:m}));case 13:case"end":return e.stop()}}),e)}))),H.apply(this,arguments)}function Z(e){var t,n=e.find((function(e){return"geometry"===e.type})),r=e.find((function(e){return"oid"===e.type}));return e=e.filter((function(e){return"geometry"!==e.type})),r||(r=new k.a({name:P,type:"oid",alias:P}),e.unshift(r)),{geometryField:null!==(t=null===n||void 0===n?void 0:n.name)&&void 0!==t?t:null,objectIdField:r.name,fields:e}}function B(e,t){return K.apply(this,arguments)}function K(){return K=Object(s.a)(l.a.mark((function e(t,n){var i,u,o,s,c,f,d,y,b,h,v,m,j,x,O=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=O.length>2&&void 0!==O[2]?O[2]:{},s=!1,e.next=4,Promise.all([ae(t.operations.GetFeature.url,n,t.operations.GetFeature.outputFormat,Object(r.a)(Object(r.a)({},u),{},{count:1})),Object(p.default)(t.operations.GetFeature.url,{responseType:"text",query:ue(n,void 0,Object(r.a)(Object(r.a)({},u),{},{count:1})),signal:null===u||void 0===u?void 0:u.signal})]);case 4:if(c=e.sent,f=Object(a.a)(c,2),d=f[0],y=f[1],!(b="FeatureCollection"===d.type&&(null===(i=d.features[0])||void 0===i?void 0:i.geometry))){e.next=22;break}e.t0=(o=g.a.fromJSON(Object(w.b)(b.type)),b.type),e.next="Point"===e.t0?13:"LineString"===e.t0||"MultiPoint"===e.t0?15:"MultiLineString"===e.t0||"Polygon"===e.t0?17:"MultiPolygon"===e.t0?19:20;break;case 13:return h=b.coordinates,e.abrupt("break",20);case 15:return h=b.coordinates[0],e.abrupt("break",20);case 17:return h=b.coordinates[0][0],e.abrupt("break",20);case 19:h=b.coordinates[0][0][0];case 20:(v=/<[^>]*pos[^>]*> *(-?\d+(?:\.\d+)?) (-?\d+(?:\.\d+)?)/.exec(y.data))&&(m=h[0].toFixed(3),j=h[1].toFixed(3),x=parseFloat(v[1]).toFixed(3),m===parseFloat(v[2]).toFixed(3)&&j===x&&(s=!0));case 22:return e.abrupt("return",{geometryType:o,swapXY:s});case 23:case"end":return e.stop()}}),e)}))),K.apply(this,arguments)}function ee(e,t,n){return te.apply(this,arguments)}function te(){return(te=Object(s.a)(l.a.mark((function e(t,n,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=ne,e.t1=n,e.next=4,Object(p.default)(t,{responseType:"text",query:Object(r.a)({SERVICE:"WFS",REQUEST:"DescribeFeatureType",VERSION:E,TYPENAME:n},null===a||void 0===a?void 0:a.customParameters),signal:null===a||void 0===a?void 0:a.signal});case 4:return e.t2=e.sent.data,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e,t){var n=se(e).name,r=oe(t);ce(r);var a=Object(d.b)(Object(O.a)(r.firstElementChild,{element:function(e){return{name:e.getAttribute("name"),typeName:se(e.getAttribute("type")).name}}}),(function(e){return e.name===n}));if(Object(y.k)(a)){var u=Object(d.b)(Object(O.a)(r.firstElementChild,{complexType:function(e){return e}}),(function(e){return e.getAttribute("name")===a.typeName}));if(Object(y.k)(u))return function(e){var t,n,r,a,u=[],o=[],s=Object(O.a)(e,{complexContent:{extension:{sequence:{element:function(e){return e}}}}}),c=Object(i.a)(s);try{for(c.s();!(a=c.n()).done;){var l=a.value,p=l.getAttribute("name");if(p){var d=void 0,y=void 0;if(l.hasAttribute("type")?d=se(l.getAttribute("type")).name:Object(O.b)(l,{simpleType:{restriction:function(e){return d=se(e.getAttribute("base")).name,{maxLength:function(e){y=+e.getAttribute("value")}}}}}),d){var b="true"===l.getAttribute("nillable"),h=!1;switch(d.toLowerCase()){case"integer":case"nonpositiveinteger":case"negativeinteger":case"long":case"int":case"short":case"byte":case"nonnegativeinteger":case"unsignedlong":case"unsignedint":case"unsignedshort":case"unsignedbyte":case"positiveinteger":o.push(new k.a({name:p,alias:p,type:"integer",nullable:b}));break;case"float":case"double":case"decimal":o.push(new k.a({name:p,alias:p,type:"double",nullable:b}));break;case"boolean":case"string":case"gyearmonth":case"gyear":case"gmonthday":case"gday":case"gmonth":case"anyuri":case"qname":case"notation":case"normalizedstring":case"token":case"language":case"idrefs":case"entities":case"nmtoken":case"nmtokens":case"name":case"ncname":case"id":case"idref":case"entity":case"duration":case"time":o.push(new k.a({name:p,alias:p,type:"string",nullable:b,length:null!==(t=y)&&void 0!==t?t:255}));break;case"datetime":case"date":o.push(new k.a({name:p,alias:p,type:"date",nullable:b,length:null!==(n=y)&&void 0!==n?n:36}));break;case"pointpropertytype":r="point",h=!0;break;case"multipointpropertytype":r="multipoint",h=!0;break;case"curvepropertytype":case"multicurvepropertytype":case"multilinestringpropertytype":r="polyline",h=!0;break;case"surfacepropertytype":case"multisurfacepropertytype":case"multipolygonpropertytype":r="polygon",h=!0;break;case"geometrypropertytype":case"multigeometrypropertytype":h=!0,u.push(new f.a(q,"geometry type '".concat(d,"' is not supported"),{type:(new XMLSerializer).serializeToString(e)}));break;default:u.push(new f.a(I,"Unknown field type '".concat(d,"'"),{type:(new XMLSerializer).serializeToString(e)}))}h&&o.push(new k.a({name:p,alias:p,type:"geometry",nullable:b}))}}}}catch(w){c.e(w)}finally{c.f()}for(var v=0,m=o;v<m.length;v++){var g=m[v];if("integer"===g.type&&!g.nullable&&re.has(g.name.toLowerCase())){g.type="oid";break}}return{geometryType:r,fields:o,errors:u}}(u)}throw new f.a(N,"Type '".concat(e,"' not found in document"),{document:(new XMLSerializer).serializeToString(r)})}var re=new Set(["objectid","fid"]);function ae(e,t,n,r){return ie.apply(this,arguments)}function ie(){return(ie=Object(s.a)(l.a.mark((function e(t,n,r,a){var i,u,o,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.default)(t,{responseType:"text",query:ue(n,r,a),signal:null===a||void 0===a?void 0:a.signal});case 2:if(i=e.sent,u=(u=i.data).replace(/": +(-?\d+),(\d+)(,)?/g,'": $1.$2$3'),e.prev=5,null===a||void 0===a||null===(o=a.dateFields)||void 0===o||!o.length){e.next=9;break}return s=new Set(a.dateFields),e.abrupt("return",JSON.parse(u,(function(e,t){return s.has(e)?j(t):t})));case 9:return e.abrupt("return",JSON.parse(u));case 12:throw e.prev=12,e.t0=e.catch(5),new f.a(G,"Error while parsing the\xa0response",{response:u,error:e.t0});case 15:case"end":return e.stop()}}),e,null,[[5,12]])})))).apply(this,arguments)}function ue(e,t,n){return Object(r.a)({SERVICE:"WFS",REQUEST:"GetFeature",VERSION:E,TYPENAMES:e,OUTPUTFORMAT:t,SRSNAME:"EPSG:4326",STARTINDEX:null===n||void 0===n?void 0:n.startIndex,COUNT:null===n||void 0===n?void 0:n.count},null===n||void 0===n?void 0:n.customParameters)}function oe(e){return(new DOMParser).parseFromString(e.trim(),"text/xml")}function se(e){var t=e.split(":"),n=Object(a.a)(t,2),r=n[0],i=n[1];return{prefix:i?r:"",name:null!==i&&void 0!==i?i:r}}function ce(e){var t,n;if(Object(O.b)(e.firstElementChild,{Exception:function(e){return t=e.getAttribute("exceptionCode"),{ExceptionText:function(e){n=e.textContent}}}}),t)throw new f.a("wfs-layer:".concat(t),n)}}}]);
//# sourceMappingURL=85.91c5f65a.chunk.js.map