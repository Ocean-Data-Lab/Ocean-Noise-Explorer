(this["webpackJsonpmatx-react-pro"]=this["webpackJsonpmatx-react-pro"]||[]).push([[80],{1091:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return oe}));var n=r(155),a=r(60),i=r(142),o=r(143),s=r(209),u=r(144),c=r(145),p=r(154),l=r.n(p),f=r(148),d=(r(177),r(282)),y=(r(384),r(442),r(454),r(455),r(453),r(362),r(429),r(402),r(420),r(463)),b=r(146),v=r(272),m=r(334),O=r(183),h=r(151),g=(r(152),r(147)),j=r(150),w=r(149),x=r(192),k=r(383),F=r(286),S=r(14),T=r(5),P=r(159),C=r(215),R=r(346),I=r(162),E=r(422),N=r(386),G=r(773),D=r(288),U=r(176),q=function(e){Object(u.a)(r,e);var t=Object(c.a)(r);function r(){var e;return Object(i.a)(this,r),(e=t.apply(this,arguments)).capabilities=Object(N.a)(!1,!1),e.type="wfs",e.refresh=Object(I.f)(function(){var t=Object(n.a)(l.a.mark((function t(r){var n,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.load();case 2:return t.next=4,e._connection.invoke("refresh",r);case 4:return n=t.sent,a=n.extent,t.abrupt("return",(e.sourceJSON.extent=a,{dataChanged:!0,updates:{extent:e.sourceJSON.extent}}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e}return Object(o.a)(r,[{key:"load",value:function(e){var t,r=null!==(t=Object(b.k)(e)&&e.signal)&&void 0!==t?t:null;return this.addResolvingPromise(this._startWorker({signal:r})),Promise.resolve(this)}},{key:"destroy",value:function(){var e;null!==(e=this._connection)&&void 0!==e&&e.close(),this._connection=null}},{key:"openPorts",value:function(){var e=Object(n.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.load();case 2:return e.abrupt("return",this._connection.openPorts());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"queryFeatures",value:function(){var e=Object(n.a)(l.a.mark((function e(t){var r,n,a=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.load(r);case 3:return e.next=5,this._connection.invoke("queryFeatures",t?t.toJSON():null,r);case 5:return n=e.sent,e.abrupt("return",D.default.fromJSON(n));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queryFeaturesJSON",value:function(){var e=Object(n.a)(l.a.mark((function e(t){var r,n=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},e.next=3,this.load(r);case 3:return e.abrupt("return",this._connection.invoke("queryFeatures",t?t.toJSON():null,r));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queryFeatureCount",value:function(){var e=Object(n.a)(l.a.mark((function e(t){var r,n=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},e.next=3,this.load(r);case 3:return e.abrupt("return",this._connection.invoke("queryFeatureCount",t?t.toJSON():null,r));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queryObjectIds",value:function(){var e=Object(n.a)(l.a.mark((function e(t){var r,n=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},e.next=3,this.load(r);case 3:return e.abrupt("return",this._connection.invoke("queryObjectIds",t?t.toJSON():null,r));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queryExtent",value:function(){var e=Object(n.a)(l.a.mark((function e(t){var r,n,a=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.load(r);case 3:return e.next=5,this._connection.invoke("queryExtent",t?t.toJSON():null,r);case 5:return n=e.sent,e.abrupt("return",{count:n.count,extent:U.a.fromJSON(n.extent)});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"querySnapping",value:function(){var e=Object(n.a)(l.a.mark((function e(t){var r,n=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},e.next=3,this.load(r);case 3:return e.abrupt("return",this._connection.invoke("querySnapping",t,r));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_createLoadOptions",value:function(){var e=Object(n.a)(l.a.mark((function e(t){var r,n,a,i,o,s,u,c,p,f,d,y,v,m=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.layer,n=r.url,a=r.customParameters,i=r.name,o=r.namespaceUri,s=r.spatialReference,u=r.fields,c=r.geometryType,p=r.swapXY,n){e.next=3;break}throw new P.a("wfs-layer:missing-url","WFSLayer must be created with a url");case 3:if(e.t0=this.wfsCapabilities,e.t0){e.next=8;break}return e.next=7,Object(G.c)(n,Object(T.a)({customParameters:a},t));case 7:this.wfsCapabilities=e.sent;case 8:if(f=["fields","geometryType","name","namespaceUri","spatialReference","swapXY"].some((function(e){return null==m.layer[e]})),!f){e.next=15;break}return e.next=12,Object(G.e)(this.wfsCapabilities,i,o,{spatialReference:s,customParameters:a,signal:null===t||void 0===t?void 0:t.signal});case 12:e.t1=e.sent,e.next=16;break;case 15:e.t1=Object(T.a)(Object(T.a)({},Object(G.f)(u)),{},{geometryType:c,name:i,namespaceUri:o,spatialReference:s,swapXY:p});case 16:return d=e.t1,y=Object(b.q)(Object(G.b)(this.wfsCapabilities.readFeatureTypes(),d.name,d.namespaceUri)),v=k.a.toJSON(d.geometryType),e.abrupt("return",{customParameters:a,featureType:y,fields:d.fields.map((function(e){return e.toJSON()})),geometryField:d.geometryField,geometryType:v,getFeatureUrl:this.wfsCapabilities.operations.GetFeature.url,getFeatureOutputFormat:this.wfsCapabilities.operations.GetFeature.outputFormat,objectIdField:d.objectIdField,spatialReference:d.spatialReference.toJSON(),swapXY:d.swapXY});case 20:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_startWorker",value:function(){var e=Object(n.a)(l.a.mark((function e(t){var r,n,a,i,o,s,u,c,p;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(I.g)([this._createLoadOptions(t),Object(E.b)("WFSSourceWorker",Object(T.a)(Object(T.a)({},t),{},{strategy:Object(g.a)("feature-layers-workers")?"dedicated":"local"}))]);case 2:if(r=e.sent,n=Object(S.a)(r,2),a=n[0],i=n[1],o=a.error||i.error||null,s=i.value||null,!o){e.next=10;break}throw s&&s.close(),o;case 10:return u=a.value,this._connection=i.value,e.next=14,this._connection.invoke("load",u,t);case 14:c=e.sent,p=c.extent,this.sourceJSON={extent:p,fields:u.fields,geometryType:u.geometryType,objectIdField:u.objectIdField,geometryField:u.geometryField,drawingInfo:Object(N.d)(u.geometryType),name:u.featureType.title,wfsInfo:{name:u.featureType.name,featureUrl:u.getFeatureUrl,maxFeatures:3e3,swapXY:u.swapXY,supportedSpatialReferences:u.featureType.supportedSpatialReferences,version:"2.0.0",wfsNamespace:u.featureType.namespaceUri}};case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(Object(C.b)(R.a));Object(f.a)([Object(h.b)()],q.prototype,"capabilities",void 0),Object(f.a)([Object(h.b)({constructOnly:!0})],q.prototype,"layer",void 0),Object(f.a)([Object(h.b)()],q.prototype,"sourceJSON",void 0),Object(f.a)([Object(h.b)()],q.prototype,"type",void 0),Object(f.a)([Object(h.b)()],q.prototype,"wfsCapabilities",void 0),q=Object(f.a)([Object(w.a)("esri.layers.graphics.sources.WFSSource")],q);var A,M=r(336),L=r(480),J=r(616),W=r(304),_=r(767),Y=r(306),Q=r(398),X=r(307),V=r(494),z=r(259),H=r(656),$=r(356),B=r(518),Z=r(238),K=r(489),ee=r(574),te=r(254),re=r(464),ne=r(185),ae=Object(B.a)(),ie=A=function(e){Object(u.a)(r,e);var t=Object(c.a)(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).capabilities=null,n.copyright=null,n.customParameters=null,n.definitionExpression=null,n.displayField=null,n.elevationInfo=null,n.featureReduction=null,n.featureUrl=void 0,n.fields=null,n.fieldsIndex=null,n.fullExtent=null,n.geometryType=null,n.labelsVisible=!0,n.labelingInfo=null,n.legendEnabled=!0,n.objectIdField=null,n.operationalLayerType="WFS",n.maxFeatures=3e3,n.mode=0,n.name=null,n.namespaceUri=null,n.outFields=null,n.popupEnabled=!0,n.popupTemplate=null,n.screenSizePerspectiveEnabled=!0,n.source=new q({layer:Object(s.a)(n)}),n.spatialReference=ne.a.WGS84,n.spatialReferences=[4326],n.swapXY=void 0,n.title="WFS",n.type="wfs",n.url=null,n.version=void 0,n}return Object(o.a)(r,[{key:"destroy",value:function(){var e;null===(e=this.source)||void 0===e||e.destroy()}},{key:"load",value:function(e){var t=this;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["WFS"]},e).then((function(){return t.source.load(e)})).then((function(){t.read(t.source.sourceJSON,{origin:"service",url:t.parsedUrl}),t.revert(["objectIdField","fields","timeInfo","spatialReference","name","namespaceUri"],"service"),Object(Z.k)(t.renderer,t.fieldsIndex),Object(Z.l)(t.timeInfo,t.fieldsIndex)}))),Promise.resolve(this)}},{key:"createQueryVersion",get:function(){return this.commitProperty("definitionExpression"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("capabilities"),(this._get("createQueryVersion")||0)+1}},{key:"defaultPopupTemplate",get:function(){return this.createPopupTemplate()}},{key:"writeFields",value:function(e,t,r){var n=e.filter((function(e){return e.name!==G.a}));this.geometryField&&n.unshift(new $.a({name:this.geometryField,alias:this.geometryField,type:"geometry"})),Object(m.c)(r,n.map((function(e){return e.toJSON()})),t)}},{key:"parsedUrl",get:function(){return this.url?Object(O.M)(this.url):null}},{key:"renderer",set:function(e){Object(Z.k)(e,this.fieldsIndex),this._set("renderer",e)}},{key:"createPopupTemplate",value:function(e){return Object(re.a)(this,e)}},{key:"createQuery",value:function(){var e=new te.a;e.returnGeometry=!0,e.outFields=["*"],e.where=this.definitionExpression||"1=1";var t=this.timeOffset,r=this.timeExtent;return e.timeExtent=null!=t&&null!=r?r.offset(-t.value,t.unit):r||null,e}},{key:"getFieldDomain",value:function(e,t){var r;return null===(r=this.getField(e))||void 0===r?void 0:r.domain}},{key:"getField",value:function(e){return this.fieldsIndex.get(e)}},{key:"queryFeatures",value:function(e,t){var r=this;return this.load().then((function(){return r.source.queryFeatures(te.a.from(e)||r.createQuery(),t)})).then((function(e){if(null!==e&&void 0!==e&&e.features){var t,n=Object(a.a)(e.features);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.layer=i.sourceLayer=r}}catch(o){n.e(o)}finally{n.f()}}return e}))}},{key:"queryObjectIds",value:function(e,t){var r=this;return this.load().then((function(){return r.source.queryObjectIds(te.a.from(e)||r.createQuery(),t)}))}},{key:"queryFeatureCount",value:function(e,t){var r=this;return this.load().then((function(){return r.source.queryFeatureCount(te.a.from(e)||r.createQuery(),t)}))}},{key:"queryExtent",value:function(e,t){var r=this;return this.load().then((function(){return r.source.queryExtent(te.a.from(e)||r.createQuery(),t)}))}},{key:"hasDataChanged",value:function(){var e=Object(n.a)(l.a.mark((function e(){var t,r,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.source.refresh(this.customParameters);case 3:return t=e.sent,r=t.dataChanged,n=t.updates,e.abrupt("return",(Object(b.k)(n)&&this.read(n,{origin:"service",url:this.parsedUrl,ignoreDefaults:!0}),r));case 9:e.prev=9,e.t0=e.catch(0);case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()}],[{key:"fromWFSLayerInfo",value:function(e){var t=e.customParameters,r=e.fields,n=e.geometryField,a=e.geometryType,i=e.name,o=e.namespaceUri,s=e.objectIdField,u=e.spatialReference,c=e.swapXY,p=e.url,l=e.wfsCapabilities;return new A({customParameters:t,fields:r,geometryField:n,geometryType:a,name:i,namespaceUri:o,objectIdField:s,spatialReference:u,swapXY:c,url:p,wfsCapabilities:l})}}]),r}(Object(_.a)(Object(L.a)(Object(J.a)(Object(M.a)(Object(V.a)(Object(Q.a)(Object(X.a)(Object(W.a)(Object(Y.a)(Object(v.a)(F.a)))))))))));Object(f.a)([Object(h.b)({readOnly:!0,aliasOf:"source.capabilities"})],ie.prototype,"capabilities",void 0),Object(f.a)([Object(h.b)({type:String})],ie.prototype,"copyright",void 0),Object(f.a)([Object(h.b)({readOnly:!0})],ie.prototype,"createQueryVersion",null),Object(f.a)([Object(h.b)({json:{name:"wfsInfo.customParameters",write:{ignoreOrigin:!0}}})],ie.prototype,"customParameters",void 0),Object(f.a)([Object(h.b)({readOnly:!0})],ie.prototype,"defaultPopupTemplate",null),Object(f.a)([Object(h.b)({type:String,json:{name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],ie.prototype,"definitionExpression",void 0),Object(f.a)([Object(h.b)({type:String})],ie.prototype,"displayField",void 0),Object(f.a)([Object(h.b)(z.b)],ie.prototype,"elevationInfo",void 0),Object(f.a)([Object(h.b)(H.a)],ie.prototype,"featureReduction",void 0),Object(f.a)([Object(h.b)({type:String,readOnly:!0,json:{name:"wfsInfo.featureUrl",write:{ignoreOrigin:!0,isRequired:!0}}})],ie.prototype,"featureUrl",void 0),Object(f.a)([Object(h.b)({type:[$.a],json:{name:"layerDefinition.fields",write:{ignoreOrigin:!0,isRequired:!0},origins:{service:{name:"fields"}}}})],ie.prototype,"fields",void 0),Object(f.a)([Object(x.a)("fields")],ie.prototype,"writeFields",null),Object(f.a)([Object(h.b)(ae.fieldsIndex)],ie.prototype,"fieldsIndex",void 0),Object(f.a)([Object(h.b)({type:U.a,json:{name:"extent"}})],ie.prototype,"fullExtent",void 0),Object(f.a)([Object(h.b)()],ie.prototype,"geometryField",void 0),Object(f.a)([Object(h.b)({type:String,json:{read:{source:"layerDefinition.geometryType",reader:k.a.read},write:{target:"layerDefinition.geometryType",writer:k.a.write,ignoreOrigin:!0},origins:{service:{read:k.a.read}}}})],ie.prototype,"geometryType",void 0),Object(f.a)([Object(h.b)({type:String})],ie.prototype,"id",void 0),Object(f.a)([Object(h.b)(z.d)],ie.prototype,"labelsVisible",void 0),Object(f.a)([Object(h.b)({type:[K.a],json:{name:"layerDefinition.drawingInfo.labelingInfo",read:{reader:ee.a},write:!0}})],ie.prototype,"labelingInfo",void 0),Object(f.a)([Object(h.b)(z.e)],ie.prototype,"legendEnabled",void 0),Object(f.a)([Object(h.b)({type:["show","hide"]})],ie.prototype,"listMode",void 0),Object(f.a)([Object(h.b)({type:String})],ie.prototype,"objectIdField",void 0),Object(f.a)([Object(h.b)({type:["WFS"]})],ie.prototype,"operationalLayerType",void 0),Object(f.a)([Object(h.b)({type:j.a,json:{name:"wfsInfo.maxFeatures",write:{ignoreOrigin:!0,isRequired:!0}}})],ie.prototype,"maxFeatures",void 0),Object(f.a)([Object(h.b)({type:[0],readOnly:!0,json:{origins:{"web-map":{write:{ignoreOrigin:!0,isRequired:!0}}}}})],ie.prototype,"mode",void 0),Object(f.a)([Object(h.b)({type:String,json:{name:"wfsInfo.name",write:{ignoreOrigin:!0,isRequired:!0}}})],ie.prototype,"name",void 0),Object(f.a)([Object(h.b)({type:String,json:{name:"wfsInfo.wfsNamespace",write:{ignoreOrigin:!0,isRequired:!0}}})],ie.prototype,"namespaceUri",void 0),Object(f.a)([Object(h.b)(z.j)],ie.prototype,"opacity",void 0),Object(f.a)([Object(h.b)(ae.outFields)],ie.prototype,"outFields",void 0),Object(f.a)([Object(h.b)({readOnly:!0})],ie.prototype,"parsedUrl",null),Object(f.a)([Object(h.b)(z.k)],ie.prototype,"popupEnabled",void 0),Object(f.a)([Object(h.b)({type:d.a,json:{name:"popupInfo",write:!0}})],ie.prototype,"popupTemplate",void 0),Object(f.a)([Object(h.b)({types:y.a,json:{origins:{service:{name:"drawingInfo.renderer"},"web-scene":{types:y.b,name:"layerDefinition.drawingInfo.renderer",write:!0}},name:"layerDefinition.drawingInfo.renderer",write:{ignoreOrigin:!0}}})],ie.prototype,"renderer",null),Object(f.a)([Object(h.b)(z.n)],ie.prototype,"screenSizePerspectiveEnabled",void 0),Object(f.a)([Object(h.b)({readOnly:!0})],ie.prototype,"source",void 0),Object(f.a)([Object(h.b)({type:ne.a,json:{name:"layerDefinition.spatialReference",write:{ignoreOrigin:!0,isRequired:!0},origins:{service:{name:"extent.spatialReference"}}}})],ie.prototype,"spatialReference",void 0),Object(f.a)([Object(h.b)({readOnly:!0,type:[j.a],json:{name:"wfsInfo.supportedSpatialReferences",write:{ignoreOrigin:!0,isRequired:!0}}})],ie.prototype,"spatialReferences",void 0),Object(f.a)([Object(h.b)({type:Boolean,value:!1,json:{name:"wfsInfo.swapXY",write:{ignoreOrigin:!0,isRequired:!0}}})],ie.prototype,"swapXY",void 0),Object(f.a)([Object(h.b)({json:{write:{ignoreOrigin:!0,isRequired:!0},origins:{service:{name:"name"}}}})],ie.prototype,"title",void 0),Object(f.a)([Object(h.b)({json:{read:!1},readOnly:!0})],ie.prototype,"type",void 0),Object(f.a)([Object(h.b)(z.o)],ie.prototype,"url",void 0),Object(f.a)([Object(h.b)({type:String,readOnly:!0,json:{name:"wfsInfo.version",write:{ignoreOrigin:!0,isRequired:!0}}})],ie.prototype,"version",void 0),Object(f.a)([Object(h.b)({aliasOf:"source.wfsCapabilities"})],ie.prototype,"wfsCapabilities",void 0);var oe=ie=A=Object(f.a)([Object(w.a)("esri.layers.WFSLayer")],ie)},386:function(e,t,r){"use strict";r.d(t,"a",(function(){return y})),r.d(t,"b",(function(){return f})),r.d(t,"c",(function(){return d})),r.d(t,"d",(function(){return c}));var n=r(7),a=r(5),i=r(147),o=r(161),s=r(387),u=r(365);function c(e){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===e||"esriGeometryMultipoint"===e?u.a:"esriGeometryPolyline"===e?u.c:u.b}}}var p=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/,l=1;function f(e,t){if(Object(i.a)("esri-csp-restrictions"))return function(){return Object(a.a)(Object(n.a)({},t,null),e)};try{var r="this.".concat(t," = null;");for(var o in e)r+="this".concat(p.test(o)?".".concat(o):'["'.concat(o,'"]')," = ").concat(JSON.stringify(e[o]),";");var s=new Function("\n      return class AttributesClass$".concat(l++," {\n        constructor() {\n          ").concat(r,";\n        }\n      }\n    "))();return function(){return new s}}catch(u){return function(){return Object(a.a)(Object(n.a)({},t,null),e)}}}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[{name:"New Feature",description:"",prototype:{attributes:Object(o.a)(e)}}]}function y(e,t){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:e},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:t,supportsDelete:t,supportsEditing:t,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:t,supportsExceedsLimitStatistics:!0},query:s.a,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},editing:{supportsGeometryUpdate:t,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1}}}},387:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsCentroid:!0,supportsCacheHint:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsTopFeaturesQuery:!1,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,supportsDefaultSpatialReference:!1,supportsCompactGeometry:!1,maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0}},485:function(e,t,r){"use strict";r.d(t,"a",(function(){return I})),r.d(t,"b",(function(){return b})),r.d(t,"c",(function(){return R})),r.d(t,"d",(function(){return C}));var n=r(14),a=r(60),i=r(154),o=r.n(i),s=r(159),u=r(350),c=r(216),p=r(238),l=o.a.mark(v),f=o.a.mark(m),d=o.a.mark(O),y={LineString:"esriGeometryPolyline",MultiLineString:"esriGeometryPolyline",MultiPoint:"esriGeometryMultipoint",Point:"esriGeometryPoint",Polygon:"esriGeometryPolygon",MultiPolygon:"esriGeometryPolygon"};function b(e){return y[e]}function v(e){var t,r,n;return o.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:i.t0=e.type,i.next="Feature"===i.t0?3:"FeatureCollection"===i.t0?6:25;break;case 3:return i.next=5,e;case 5:return i.abrupt("break",25);case 6:t=Object(a.a)(e.features),i.prev=7,t.s();case 9:if((r=t.n()).done){i.next=17;break}if(n=r.value,i.t1=n,!i.t1){i.next=15;break}return i.next=15,n;case 15:i.next=9;break;case 17:i.next=22;break;case 19:i.prev=19,i.t2=i.catch(7),t.e(i.t2);case 22:return i.prev=22,t.f(),i.finish(22);case 25:case"end":return i.stop()}}),l,null,[[7,19,22,25]])}function m(e){var t,r,n,i,s,u,c,p,l;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(e){o.next=2;break}return o.abrupt("return",null);case 2:o.t0=e.type,o.next="Point"===o.t0?5:"LineString"===o.t0||"MultiPoint"===o.t0?8:"MultiLineString"===o.t0||"Polygon"===o.t0?10:"MultiPolygon"===o.t0?27:58;break;case 5:return o.next=7,e.coordinates;case 7:return o.abrupt("break",58);case 8:return o.delegateYield(e.coordinates,"t1",9);case 9:return o.abrupt("break",58);case 10:t=Object(a.a)(e.coordinates),o.prev=11,t.s();case 13:if((r=t.n()).done){o.next=18;break}return n=r.value,o.delegateYield(n,"t2",16);case 16:o.next=13;break;case 18:o.next=23;break;case 20:o.prev=20,o.t3=o.catch(11),t.e(o.t3);case 23:return o.prev=23,t.f(),o.finish(23);case 26:return o.abrupt("break",58);case 27:i=Object(a.a)(e.coordinates),o.prev=28,i.s();case 30:if((s=i.n()).done){o.next=50;break}u=s.value,c=Object(a.a)(u),o.prev=33,c.s();case 35:if((p=c.n()).done){o.next=40;break}return l=p.value,o.delegateYield(l,"t4",38);case 38:o.next=35;break;case 40:o.next=45;break;case 42:o.prev=42,o.t5=o.catch(33),c.e(o.t5);case 45:return o.prev=45,c.f(),o.finish(45);case 48:o.next=30;break;case 50:o.next=55;break;case 52:o.prev=52,o.t6=o.catch(28),i.e(o.t6);case 55:return o.prev=55,i.f(),o.finish(55);case 58:case"end":return o.stop()}}),f,null,[[11,20,23,26],[28,52,55,58],[33,42,45,48]])}function O(e){var t,r,n,i,s,p,l,f,y,v,m,O,h,g=arguments;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:t=g.length>1&&void 0!==g[1]?g[1]:{},r=t.geometryType,n=t.objectIdField,i=Object(a.a)(e),o.prev=3,i.s();case 5:if((s=i.n()).done){o.next=18;break}if(l=s.value,f=l.geometry,y=l.properties,v=l.id,!f||b(f.type)===r){o.next=10;break}return o.abrupt("continue",16);case 10:return O=null!==(p=(m=y||{})[n])&&void 0!==p?p:null,n&&null!=v&&!m[n]&&(m[n]=O=v),h=new u.a(f?w(new c.a,f,t):null,m,null,O),o.next=16,h;case 16:o.next=5;break;case 18:o.next=23;break;case 20:o.prev=20,o.t0=o.catch(3),i.e(o.t0);case 23:return o.prev=23,i.f(),o.finish(23);case 26:case"end":return o.stop()}}),d,null,[[3,20,23,26]])}function h(e){var t,r=Object(a.a)(e);try{for(r.s();!(t=r.n()).done;){if(t.value.length>2)return!0}}catch(n){r.e(n)}finally{r.f()}return!1}function g(e){for(var t=0,r=0;r<e.length;r++){var n=e[r],a=e[(r+1)%e.length];t+=n[0]*a[1]-a[0]*n[1]}return t<=0}function j(e){var t=e[0],r=e[e.length-1];return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]||e.push(t),e}function w(e,t,r){switch(t.type){case"LineString":case"MultiPoint":return function(e,t,r){return F(e,t.coordinates,r),e}(e,t,r);case"MultiLineString":return function(e,t,r){var n,i=Object(a.a)(t.coordinates);try{for(i.s();!(n=i.n()).done;){F(e,n.value,r)}}catch(o){i.e(o)}finally{i.f()}return e}(e,t,r);case"MultiPolygon":return function(e,t,r){var n,i=Object(a.a)(t.coordinates);try{for(i.s();!(n=i.n()).done;){var o=n.value;x(e,o[0],r);for(var s=1;s<o.length;s++)k(e,o[s],r)}}catch(u){i.e(u)}finally{i.f()}return e}(e,t,r);case"Point":return function(e,t,r){return T(e,t.coordinates,r),e}(e,t,r);case"Polygon":return function(e,t,r){var n=t.coordinates;x(e,n[0],r);for(var a=1;a<n.length;a++)k(e,n[a],r);return e}(e,t,r)}}function x(e,t,r){var n=j(t);!function(e){return!g(e)}(n)?F(e,n,r):S(e,n,r)}function k(e,t,r){var n=j(t);!function(e){return g(e)}(n)?F(e,n,r):S(e,n,r)}function F(e,t,r){var n,i=Object(a.a)(t);try{for(i.s();!(n=i.n()).done;){T(e,n.value,r)}}catch(o){i.e(o)}finally{i.f()}e.lengths.push(t.length)}function S(e,t,r){for(var n=t.length-1;n>=0;n--)T(e,t[n],r);e.lengths.push(t.length)}function T(e,t,r){var a=Object(n.a)(t,3),i=a[0],o=a[1],s=a[2];e.coords.push(i,o),r.hasZ&&e.coords.push(s||0)}function P(e){switch(typeof e){case"string":return"esriFieldTypeString";case"number":return"esriFieldTypeDouble";default:return"unknown"}}function C(e){if(!e)throw new s.a("geojson-layer:empty","GeoJSON data is empty");if("Feature"!==e.type&&"FeatureCollection"!==e.type)throw new s.a("geojson-layer:unsupported-geojson-object","missing or not supported GeoJSON object type",{data:e});var t=e.crs;if(t){var r="string"==typeof t?t:"name"===t.type?t.properties.name:"EPSG"===t.type?t.properties.code:null,n=new RegExp(".*(CRS84H?|4326)$","i");if(!r||!n.test(r))throw new s.a("geojson-layer:unsupported-crs","unsupported GeoJSON 'crs' member",{crs:t})}}function R(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=[],o=new Set,s=new Set,u=!1,c=null,l=!1,f=n.geometryType,d=void 0===f?null:f,y=!1,O=Object(a.a)(v(e));try{var g=function(){var e=r.value,n=e.geometry,a=e.properties,p=e.id;if((!n||(d||(d=b(n.type)),b(n.type)===d))&&(u||(u=h(m(n))),l||(l=null!=p)&&(t=typeof p,c=Object.keys(a).filter((function(e){return a[e]===p}))),l&&null!=p&&(c.length>1?c=c.filter((function(e){return a[e]===p})):1===c.length&&(c=a[c[0]]===p?c:[])),!y&&a)){var f=!0;for(var v in a)if(!o.has(v)){var O=a[v];if(null!=O){var g=P(O);"unknown"!==g?(s.delete(v),o.add(v),i.push({name:v,alias:v,type:g})):s.add(v)}else f=!1,s.add(v)}y=f}};for(O.s();!(r=O.n()).done;)g()}catch(F){O.e(F)}finally{O.f()}var j=c&&1===c.length&&c[0]||null;if(j){var w,x=Object(a.a)(i);try{for(x.s();!(w=x.n()).done;){var k=w.value;if(k.name===j&&Object(p.p)(k)){k.type="esriFieldTypeOID";break}}}catch(F){x.e(F)}finally{x.f()}}return{fields:i,geometryType:d,hasZ:u,objectIdFieldName:j,objectIdFieldType:t,unknownFields:Array.from(s)}}function I(e,t){return Array.from(O(v(e),t))}},499:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(425),a=r(510),i=r(144);function o(){o=function(e,t){return new r(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function r(e,n,i){var o=new RegExp(e,n);return t.set(o,i||t.get(e)),Object(a.a)(o,r.prototype)}function s(e,r){var n=t.get(r);return Object.keys(n).reduce((function(t,r){return t[r]=e[n[r]],t}),Object.create(null))}return Object(i.a)(r,RegExp),r.prototype.exec=function(t){var r=e.exec.call(this,t);return r&&(r.groups=s(r,this)),r},r.prototype[Symbol.replace]=function(r,a){if("string"==typeof a){var i=t.get(this);return e[Symbol.replace].call(this,r,a.replace(/\$<([^>]+)>/g,(function(e,t){return"$"+i[t]})))}if("function"==typeof a){var o=this;return e[Symbol.replace].call(this,r,(function(){var e=arguments;return"object"!=Object(n.a)(e[e.length-1])&&(e=[].slice.call(e)).push(s(e,o)),a.apply(this,e)}))}return e[Symbol.replace].call(this,r,a)},o.apply(this,arguments)}},639:function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return s}));var n=r(60),a=r(154),i=r.n(a),o=i.a.mark(u);function s(e,t){var r,a=Object(n.a)(e.children);try{for(a.s();!(r=a.n()).done;){var i=r.value;if(i.localName in t){var o=t[i.localName];if("function"==typeof o){var u=o(i);u&&s(i,u)}else s(i,o)}}}catch(c){a.e(c)}finally{a.f()}}function u(e,t){var r,a,s,c;return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:r=Object(n.a)(e.children),i.prev=1,r.s();case 3:if((a=r.n()).done){i.next=15;break}if(!((s=a.value).localName in t)){i.next=13;break}if("function"!=typeof(c=t[s.localName])){i.next=12;break}return i.next=10,c(s);case 10:i.next=13;break;case 12:return i.delegateYield(u(s,c),"t0",13);case 13:i.next=3;break;case 15:i.next=20;break;case 17:i.prev=17,i.t1=i.catch(1),r.e(i.t1);case 20:return i.prev=20,r.f(),i.finish(20);case 23:case"end":return i.stop()}}),o,null,[[1,17,20,23]])}},773:function(e,t,r){"use strict";r.d(t,"a",(function(){return C})),r.d(t,"b",(function(){return Y})),r.d(t,"c",(function(){return A})),r.d(t,"d",(function(){return ae})),r.d(t,"e",(function(){return Q})),r.d(t,"f",(function(){return B}));var n=r(5),a=r(14),i=r(60),o=r(16),s=r(499),u=r(155),c=r(154),p=r.n(c),l=(r(177),r(186)),f=r(159),d=r(691),y=r(146),b=r(162),v=r(183),m=r(266),O=r(182),h=r(383),g=r(485);function j(e){var t;return null!==(t=function(e){var t,r,n,a,i=w.exec(e);if(!i)return null;var o=i.groups,s=+o.year,u=+o.month-1,c=+o.day,p=+(null!==(t=o.hours)&&void 0!==t?t:"0"),l=+(null!==(r=o.minutes)&&void 0!==r?r:"0"),f=+(null!==(n=o.seconds)&&void 0!==n?n:"0");if(p>23)return null;if(l>59)return null;if(f>59)return null;var d,y=null!==(a=o.ms)&&void 0!==a?a:"0",b=y?+y.padEnd(3,"0").substring(0,3):0;if(o.isUTC)d=Date.UTC(s,u,c,p,l,f,b);else if(o.offsetSign){var v=+o.offsetHours,m=+o.offsetMinutes;d=6e4*("+"===o.offsetSign?-1:1)*(60*v+m)+Date.UTC(s,u,c,p,l,f,b)}else d=new Date(s,u,c,p,l,f,b).getTime();return Number.isNaN(d)?null:d}(e))&&void 0!==t?t:function(e){var t=new Date(e).getTime();return Number.isNaN(t)?null:t}(e)}var w=Object(s.a)(/^(?:(\x2D?\d{4,})\x2D(\d{2})\x2D(\d{2}))(?:T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?)?(?:(Z)|(?:(\+|\x2D)(\d{2}):(\d{2})))?$/,{year:1,month:2,day:3,hours:4,minutes:5,seconds:6,ms:7,isUTC:8,offsetSign:9,offsetHours:10,offsetMinutes:11}),x=r(639),k=r(356),F=r(185),S=r(176),T="xlink:href",P="2.0.0",C="__esri_wfs_id__",R="wfs-layer:getWFSLayerTypeInfo-error",I="wfs-layer:empty-service",E="wfs-layer:feature-type-not-found",N="wfs-layer:malformed-json",G="wfs-layer:unknown-geometry-type",D="wfs-layer:unknown-field-type",U="wfs-layer:unsupported-spatial-reference",q="wfs-layer:unsupported-wfs-version";function A(e,t){return M.apply(this,arguments)}function M(){return(M=Object(u.a)(p.a.mark((function e(t,r){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=L,e.next=3,Object(l.default)(t,{responseType:"text",query:Object(n.a)({SERVICE:"WFS",REQUEST:"GetCapabilities",VERSION:P},null===r||void 0===r?void 0:r.customParameters),signal:null===r||void 0===r?void 0:r.signal});case 3:return e.t1=e.sent.data,a=(0,e.t0)(e.t1),e.abrupt("return",(_(t,a),a));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e){var t=se(e);(function(e){var t=e.firstElementChild.getAttribute("version");if(t&&t!==P)throw new f.a(q,"Unsupported WFS version ".concat(t,". Supported version: ").concat(P))})(t),ce(t);var r=t.firstElementChild,n=Object(d.a)(function(e){return Object(x.a)(e,{FeatureTypeList:{FeatureType:function(e){var t,r={typeName:"undefined:undefined",name:"",title:"",description:"",extent:null,namespacePrefix:"",namespaceUri:"",supportedSpatialReferences:[]},n=new Set([4326]),u=function(e){var t,r,a=parseInt(null===(t=e.textContent.match(Object(s.a)(/(\d+$)/i,{wkid:1})))||void 0===t||null===(r=t.groups)||void 0===r?void 0:r.wkid,10);Number.isNaN(a)||n.add(a)};return Object(x.b)(e,{Name:function(e){var t=ue(e.textContent),n=t.name,a=t.prefix;r.typeName="".concat(a,":").concat(n),r.name=n,r.namespacePrefix=a,r.namespaceUri=e.lookupNamespaceURI(a)},Abstract:function(e){r.description=e.textContent},Title:function(e){r.title=e.textContent},WGS84BoundingBox:function(e){r.extent=function(e){var t,r,n,o,s,u=Object(i.a)(e.children);try{for(u.s();!(s=u.n()).done;){var c=s.value;switch(c.localName){case"LowerCorner":var p=c.textContent.split(" ").map((function(e){return Number.parseFloat(e)})),l=Object(a.a)(p,2);t=l[0],r=l[1];break;case"UpperCorner":var f=c.textContent.split(" ").map((function(e){return Number.parseFloat(e)})),d=Object(a.a)(f,2);n=d[0],o=d[1]}}}catch(y){u.e(y)}finally{u.f()}return{xmin:t,ymin:r,xmax:n,ymax:o,spatialReference:O.b}}(e)},DefaultSRS:u,DefaultCRS:u,OtherSRS:u,OtherCRS:u}),r.title||(r.title=r.name),(t=r.supportedSpatialReferences).push.apply(t,Object(o.a)(n)),r}}})}(r));return{operations:W(r),get featureTypes(){return Array.from(n())},readFeatureTypes:n}}var J=new Set(["json","application/json","geojson","application/json; subtype=geojson"]);function W(e){var t=!1,r={GetCapabilities:{url:""},DescribeFeatureType:{url:""},GetFeature:{url:"",outputFormat:null,supportsPagination:!1}};if(Object(x.b)(e,{OperationsMetadata:{Operation:function(e){switch(e.getAttribute("name")){case"GetCapabilities":return{DCP:{HTTP:{Get:function(e){r.GetCapabilities.url=e.getAttribute(T)}}}};case"DescribeFeatureType":return{DCP:{HTTP:{Get:function(e){r.DescribeFeatureType.url=e.getAttribute(T)}}}};case"GetFeature":return{DCP:{HTTP:{Get:function(e){r.GetFeature.url=e.getAttribute(T)}}},Parameter:function(e){if("outputFormat"===e.getAttribute("name"))return{AllowedValues:{Value:function(e){var t=e.textContent;J.has(t.toLowerCase())&&(r.GetFeature.outputFormat=t)}}}}}}},Constraint:function(e){switch(e.getAttribute("name")){case"KVPEncoding":return{DefaultValue:function(e){t="true"===e.textContent.toLowerCase()}};case"ImplementsResultPaging":return{DefaultValue:function(e){r.GetFeature.supportsPagination="true"===e.textContent.toLowerCase()}}}}}}),!t)throw new f.a("wfs-layer:kvp-encoding-not-supported","WFS service doesn't support key/value pair (KVP) encoding");if(Object(y.j)(r.GetFeature.outputFormat))throw new f.a("wfs-layer:geojson-not-supported","WFS service doesn't support GeoJSON output format");return r}function _(e,t){Object(v.x)(e)&&(Object(v.s)(e,t.operations.DescribeFeatureType.url,!0)&&(t.operations.DescribeFeatureType.url=Object(v.L)(t.operations.DescribeFeatureType.url)),Object(v.s)(e,t.operations.GetFeature.url,!0)&&(t.operations.GetFeature.url=Object(v.L)(t.operations.GetFeature.url)))}function Y(e,t,r){return Object(d.b)(e,(function(e){return r?e.name===t&&e.namespaceUri===r:e.typeName===t||e.name===t}))}function Q(e,t,r){return X.apply(this,arguments)}function X(){return X=Object(u.a)(p.a.mark((function e(t,r,n){var a,i,o,s,u,c,l,f,d,y,b,v=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=v.length>3&&void 0!==v[3]?v[3]:{},e.next=3,V(t,r,n,i);case 3:return o=e.sent,s=o.featureType,u=o.extent,e.next=8,H(t,s.typeName,i);case 8:return c=e.sent,l=c.fields,f=c.geometryType,d=c.swapXY,y=c.objectIdField,b=c.geometryField,e.abrupt("return",{url:t.operations.GetCapabilities.url,name:s.name,namespaceUri:s.namespaceUri,fields:l,geometryField:b,geometryType:f,objectIdField:y,spatialReference:null!==(a=i.spatialReference)&&void 0!==a?a:F.a.WGS84,extent:u,swapXY:d,wfsCapabilities:t,customParameters:i.customParameters});case 15:case"end":return e.stop()}}),e)}))),X.apply(this,arguments)}function V(e,t,r){return z.apply(this,arguments)}function z(){return z=Object(u.a)(p.a.mark((function e(t,r,a){var i,o,s,u,c,l,d=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=d.length>3&&void 0!==d[3]?d[3]:{},o=i.spatialReference,s=void 0===o?F.a.WGS84:o,u=t.readFeatureTypes(),c=r?Y(u,r,a):u.next().value,!Object(y.j)(c)){e.next=4;break}throw r?new f.a(E,"The type '".concat(r,"' could not be found in the service")):new f.a(I,"The service is empty");case 4:if(l=new S.a(Object(n.a)(Object(n.a)({},c.extent),{},{spatialReference:s})),Object(O.d)(s,O.b)){e.next=15;break}return e.prev=6,e.next=9,Object(m.d)(O.b,s,void 0,i);case 9:l=Object(m.g)(l,O.b),e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(6),new f.a(U,"Projection not supported");case 15:return e.abrupt("return",{extent:l,spatialReference:s,featureType:c});case 16:case"end":return e.stop()}}),e,null,[[6,12]])}))),z.apply(this,arguments)}function H(e,t){return $.apply(this,arguments)}function $(){return $=Object(u.a)(p.a.mark((function e(t,r){var i,o,s,u,c,l,d,v,m,O,h=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=h.length>2&&void 0!==h[2]?h[2]:{},e.next=3,Object(b.g)([ee(t.operations.DescribeFeatureType.url,r,i),Z(t,r,i)]);case 3:if(o=e.sent,s=Object(a.a)(o,2),u=s[0],c=s[1],!u.error&&!c.error){e.next=9;break}throw new f.a(R,"An error occurred while getting info about the feature type '".concat(r,"'"),{error:u.error||c.error});case 9:if(l=u.value,d=l.fields,v=l.errors,m=u.value.geometryType||c.value.geometryType,O=c.value.swapXY,!Object(y.j)(m)){e.next=12;break}throw new f.a(G,"The geometry type could not be determined for type '".concat(r),{typeName:r,geometryType:m,fields:d,errors:v});case 12:return e.abrupt("return",Object(n.a)(Object(n.a)({},B(d)),{},{geometryType:m,swapXY:O}));case 13:case"end":return e.stop()}}),e)}))),$.apply(this,arguments)}function B(e){var t,r=e.find((function(e){return"geometry"===e.type})),n=e.find((function(e){return"oid"===e.type}));return e=e.filter((function(e){return"geometry"!==e.type})),n||(n=new k.a({name:C,type:"oid",alias:C}),e.unshift(n)),{geometryField:null!==(t=null===r||void 0===r?void 0:r.name)&&void 0!==t?t:null,objectIdField:n.name,fields:e}}function Z(e,t){return K.apply(this,arguments)}function K(){return K=Object(u.a)(p.a.mark((function e(t,r){var i,o,s,u,c,f,d,y,b,v,m,O,j,w,x=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=x.length>2&&void 0!==x[2]?x[2]:{},u=!1,e.next=4,Promise.all([ae(t.operations.GetFeature.url,r,t.operations.GetFeature.outputFormat,Object(n.a)(Object(n.a)({},o),{},{count:1})),Object(l.default)(t.operations.GetFeature.url,{responseType:"text",query:oe(r,void 0,Object(n.a)(Object(n.a)({},o),{},{count:1})),signal:null===o||void 0===o?void 0:o.signal})]);case 4:if(c=e.sent,f=Object(a.a)(c,2),d=f[0],y=f[1],!(b="FeatureCollection"===d.type&&(null===(i=d.features[0])||void 0===i?void 0:i.geometry))){e.next=22;break}e.t0=(s=h.a.fromJSON(Object(g.b)(b.type)),b.type),e.next="Point"===e.t0?13:"LineString"===e.t0||"MultiPoint"===e.t0?15:"MultiLineString"===e.t0||"Polygon"===e.t0?17:"MultiPolygon"===e.t0?19:20;break;case 13:return v=b.coordinates,e.abrupt("break",20);case 15:return v=b.coordinates[0],e.abrupt("break",20);case 17:return v=b.coordinates[0][0],e.abrupt("break",20);case 19:v=b.coordinates[0][0][0];case 20:(m=/<[^>]*pos[^>]*> *(-?\d+(?:\.\d+)?) (-?\d+(?:\.\d+)?)/.exec(y.data))&&(O=v[0].toFixed(3),j=v[1].toFixed(3),w=parseFloat(m[1]).toFixed(3),O===parseFloat(m[2]).toFixed(3)&&j===w&&(u=!0));case 22:return e.abrupt("return",{geometryType:s,swapXY:u});case 23:case"end":return e.stop()}}),e)}))),K.apply(this,arguments)}function ee(e,t,r){return te.apply(this,arguments)}function te(){return(te=Object(u.a)(p.a.mark((function e(t,r,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=re,e.t1=r,e.next=4,Object(l.default)(t,{responseType:"text",query:Object(n.a)({SERVICE:"WFS",REQUEST:"DescribeFeatureType",VERSION:P,TYPENAME:r},null===a||void 0===a?void 0:a.customParameters),signal:null===a||void 0===a?void 0:a.signal});case 4:return e.t2=e.sent.data,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(e,t){var r=ue(e).name,n=se(t);ce(n);var a=Object(d.b)(Object(x.a)(n.firstElementChild,{element:function(e){return{name:e.getAttribute("name"),typeName:ue(e.getAttribute("type")).name}}}),(function(e){return e.name===r}));if(Object(y.k)(a)){var o=Object(d.b)(Object(x.a)(n.firstElementChild,{complexType:function(e){return e}}),(function(e){return e.getAttribute("name")===a.typeName}));if(Object(y.k)(o))return function(e){var t,r,n,a,o=[],s=[],u=Object(x.a)(e,{complexContent:{extension:{sequence:{element:function(e){return e}}}}}),c=Object(i.a)(u);try{for(c.s();!(a=c.n()).done;){var p=a.value,l=p.getAttribute("name");if(l){var d=void 0,y=void 0;if(p.hasAttribute("type")?d=ue(p.getAttribute("type")).name:Object(x.b)(p,{simpleType:{restriction:function(e){return d=ue(e.getAttribute("base")).name,{maxLength:function(e){y=+e.getAttribute("value")}}}}}),d){var b="true"===p.getAttribute("nillable"),v=!1;switch(d.toLowerCase()){case"integer":case"nonpositiveinteger":case"negativeinteger":case"long":case"int":case"short":case"byte":case"nonnegativeinteger":case"unsignedlong":case"unsignedint":case"unsignedshort":case"unsignedbyte":case"positiveinteger":s.push(new k.a({name:l,alias:l,type:"integer",nullable:b}));break;case"float":case"double":case"decimal":s.push(new k.a({name:l,alias:l,type:"double",nullable:b}));break;case"boolean":case"string":case"gyearmonth":case"gyear":case"gmonthday":case"gday":case"gmonth":case"anyuri":case"qname":case"notation":case"normalizedstring":case"token":case"language":case"idrefs":case"entities":case"nmtoken":case"nmtokens":case"name":case"ncname":case"id":case"idref":case"entity":case"duration":case"time":s.push(new k.a({name:l,alias:l,type:"string",nullable:b,length:null!==(t=y)&&void 0!==t?t:255}));break;case"datetime":case"date":s.push(new k.a({name:l,alias:l,type:"date",nullable:b,length:null!==(r=y)&&void 0!==r?r:36}));break;case"pointpropertytype":n="point",v=!0;break;case"multipointpropertytype":n="multipoint",v=!0;break;case"curvepropertytype":case"multicurvepropertytype":case"multilinestringpropertytype":n="polyline",v=!0;break;case"surfacepropertytype":case"multisurfacepropertytype":case"multipolygonpropertytype":n="polygon",v=!0;break;case"geometrypropertytype":case"multigeometrypropertytype":v=!0,o.push(new f.a(G,"geometry type '".concat(d,"' is not supported"),{type:(new XMLSerializer).serializeToString(e)}));break;default:o.push(new f.a(D,"Unknown field type '".concat(d,"'"),{type:(new XMLSerializer).serializeToString(e)}))}v&&s.push(new k.a({name:l,alias:l,type:"geometry",nullable:b}))}}}}catch(g){c.e(g)}finally{c.f()}for(var m=0,O=s;m<O.length;m++){var h=O[m];if("integer"===h.type&&!h.nullable&&ne.has(h.name.toLowerCase())){h.type="oid";break}}return{geometryType:n,fields:s,errors:o}}(o)}throw new f.a(E,"Type '".concat(e,"' not found in document"),{document:(new XMLSerializer).serializeToString(n)})}var ne=new Set(["objectid","fid"]);function ae(e,t,r,n){return ie.apply(this,arguments)}function ie(){return(ie=Object(u.a)(p.a.mark((function e(t,r,n,a){var i,o,s,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.default)(t,{responseType:"text",query:oe(r,n,a),signal:null===a||void 0===a?void 0:a.signal});case 2:if(i=e.sent,o=(o=i.data).replace(/": +(-?\d+),(\d+)(,)?/g,'": $1.$2$3'),e.prev=5,null===a||void 0===a||null===(s=a.dateFields)||void 0===s||!s.length){e.next=9;break}return u=new Set(a.dateFields),e.abrupt("return",JSON.parse(o,(function(e,t){return u.has(e)?j(t):t})));case 9:return e.abrupt("return",JSON.parse(o));case 12:throw e.prev=12,e.t0=e.catch(5),new f.a(N,"Error while parsing the\xa0response",{response:o,error:e.t0});case 15:case"end":return e.stop()}}),e,null,[[5,12]])})))).apply(this,arguments)}function oe(e,t,r){return Object(n.a)({SERVICE:"WFS",REQUEST:"GetFeature",VERSION:P,TYPENAMES:e,OUTPUTFORMAT:t,SRSNAME:"EPSG:4326",STARTINDEX:null===r||void 0===r?void 0:r.startIndex,COUNT:null===r||void 0===r?void 0:r.count},null===r||void 0===r?void 0:r.customParameters)}function se(e){return(new DOMParser).parseFromString(e.trim(),"text/xml")}function ue(e){var t=e.split(":"),r=Object(a.a)(t,2),n=r[0],i=r[1];return{prefix:i?n:"",name:null!==i&&void 0!==i?i:n}}function ce(e){var t,r;if(Object(x.b)(e.firstElementChild,{Exception:function(e){return t=e.getAttribute("exceptionCode"),{ExceptionText:function(e){r=e.textContent}}}}),t)throw new f.a("wfs-layer:".concat(t),r)}}}]);