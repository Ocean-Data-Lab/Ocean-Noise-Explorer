{"version":3,"sources":["../node_modules/@arcgis/core/layers/support/TileMatrixSet.js","../node_modules/@arcgis/core/layers/support/TileInfoTilemapCache.js","../node_modules/@arcgis/core/layers/support/WMTSStyle.js","../node_modules/@arcgis/core/layers/support/WMTSSublayer.js","../node_modules/@arcgis/core/layers/support/wmtsUtils.js","../node_modules/@arcgis/core/layers/WMTSLayer.js","../node_modules/@arcgis/core/layers/WebTileLayer.js","../node_modules/@arcgis/core/layers/support/WMTSLayerInfo.js","../node_modules/@arcgis/core/layers/ogc/xmlUtils.js","../node_modules/@arcgis/core/layers/ogc/crsUtils.js"],"names":["l","i","a","lods","length","this","tileInfo","minLOD","maxLOD","t","lodAt","cols","rows","e","getAvailability","s","level","row","col","o","updateTileInfo","upsampleTile","n","fullExtent","id","hasOwnProperty","clone","r","type","json","read","source","prototype","String","p","title","description","legendUrl","isDefault","keywords","slice","h","fullExtents","imageFormats","layer","styles","tileMatrixSetId","tileMatrixSets","_get","_set","fromJSON","map","filter","includes","console","error","getItemAt","find","imageFormat","styleId","readOnly","ofType","value","write","ignoreOrigin","O","m","c","u","replace","DOMParser","parseFromString","documentElement","text","Map","f","querySelector","getElementsByTagName","Array","call","url","indexOf","d","serviceMode","x","some","w","attributes","nodeValue","getAttribute","M","substring","T","y","S","test","R","g","V","b","set","formats","E","C","copyright","dimensionMap","layerMap","layers","tileUrl","forEach","dpi","scale","resolution","U","spatialReference","wkid","nodeType","Node","ELEMENT_NODE","childNodes","nodeName","push","textContent","split","get","dimensions","dimensions2","toLowerCase","template","format","resourceType","xmin","parseFloat","ymin","xmax","ymax","BoundingBox","I","LowerCorner","Number","UpperCorner","abstract","minCol","maxCol","minRow","maxRow","A","N","parseInt","D","v","F","toJSON","size","origin","L","pop","CRS84","CRS83","CRS27","k","levelValue","values","Math","PI","metersPerDegree","W","Set","_sublayersHandles","customParameters","customLayerParameters","operationalLayerType","resourceInfo","sublayers","version","own","activeLayer","removeAll","add","on","item","addResolvingPromise","loadFromPortal","supportedTypes","catch","then","_fetchService","Promise","resolve","templateUrl","wmtsInfo","_getLowerCasedUrlParams","layerIdentifier","tileMatrixSet","isArray","style","getUrlTemplate","_mergeParams","toArray","_override","_clearOverride","substr","_getTileMatrixSetById","j","urlTemplate","getTileUrl","responseType","data","_","_appendCustomLayerParameters","ssl","_getCapabilities","_getCapabilitiesUrl","findSublayerById","_appendParameters","query","path","_appendCustomParameters","Object","keys","has","origins","P","target","service","WebMercator","legendEnabled","isReference","popupEnabled","subDomains","compressionQuality","equals","authority","scheme","charAt","signal","refreshParameters","levelValues","tileServers","urlPath","z","nonNullable","Boolean","enabled","overridePolicy","children","localName"],"mappings":"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","file":"static/js/91.15ec87e9.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import{JSONSupport as o}from\"../../core/JSONSupport.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";import s from\"../../geometry/Extent.js\";import i from\"./TileInfo.js\";var l;let n=l=class extends o{constructor(t){super(t),this.fullExtent=null,this.id=null,this.tileInfo=null}clone(){const t=new l;return this.hasOwnProperty(\"fullExtent\")&&(t.fullExtent=this.fullExtent&&this.fullExtent.clone()),this.hasOwnProperty(\"id\")&&(t.id=this.id),this.hasOwnProperty(\"tileInfo\")&&(t.tileInfo=this.tileInfo&&this.tileInfo.clone()),t}};t([r({type:s,json:{read:{source:\"fullExtent\"}}})],n.prototype,\"fullExtent\",void 0),t([r({type:String,json:{read:{source:\"id\"}}})],n.prototype,\"id\",void 0),t([r({type:i,json:{read:{source:\"tileInfo\"}}})],n.prototype,\"tileInfo\",void 0),n=l=t([e(\"esri.layer.support.TileMatrixSet\")],n);const p=n;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{waitTick as i}from\"../../core/promiseUtils.js\";class l{constructor(i,l=0,a=i.lods.length-1){this.tileInfo=i,this.minLOD=l,this.maxLOD=a}getAvailability(i,l,a){const t=this.tileInfo.lodAt(i);return!t||i<this.minLOD||i>this.maxLOD?\"unavailable\":t.cols&&t.rows?a>=t.cols[0]&&a<=t.cols[1]&&l>=t.rows[0]&&l<=t.rows[1]?\"available\":\"unavailable\":\"available\"}async fetchAvailability(l,a,t,e){return await i(e),this.getAvailability(l,a,t)}async fetchAvailabilityUpsample(l,a,t,e,s){await i(s),e.level=l,e.row=a,e.col=t;const o=this.tileInfo;for(o.updateTileInfo(e);;){const i=this.getAvailability(e.level,e.row,e.col);if(\"unavailable\"!==i)return i;if(!o.upsampleTile(e))return\"unavailable\"}}}export{l as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import{JSONSupport as s}from\"../../core/JSONSupport.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";var o;let i=o=class extends s{constructor(r){super(r),this.id=null,this.title=null,this.description=null,this.legendUrl=null}clone(){const r=new o;return this.hasOwnProperty(\"description\")&&(r.description=this.description),this.hasOwnProperty(\"id\")&&(r.id=this.id),this.hasOwnProperty(\"isDefault\")&&(r.isDefault=this.isDefault),this.hasOwnProperty(\"keywords\")&&(r.keywords=this.keywords&&this.keywords.slice()),this.hasOwnProperty(\"legendUrl\")&&(r.legendUrl=this.legendUrl),this.hasOwnProperty(\"title\")&&(r.title=this.title),r}};r([e({json:{read:{source:\"id\"}}})],i.prototype,\"id\",void 0),r([e({json:{read:{source:\"title\"}}})],i.prototype,\"title\",void 0),r([e({json:{read:{source:\"abstract\"}}})],i.prototype,\"description\",void 0),r([e({json:{read:{source:\"legendUrl\"}}})],i.prototype,\"legendUrl\",void 0),r([e({json:{read:{source:\"isDefault\"}}})],i.prototype,\"isDefault\",void 0),r([e({json:{read:{source:\"keywords\"}}})],i.prototype,\"keywords\",void 0),i=o=r([t(\"esri.layer.support.WMTSStyle\")],i);const p=i;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Collection.js\";import{JSONSupport as s}from\"../../core/JSONSupport.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{reader as i}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import o from\"../../geometry/Extent.js\";import a from\"./TileMatrixSet.js\";import n from\"./WMTSStyle.js\";var p;let h=p=class extends s{constructor(t){super(t),this.fullExtent=null,this.fullExtents=null,this.imageFormats=null,this.id=null,this.layer=null,this.styles=null,this.tileMatrixSetId=null,this.tileMatrixSets=null}get description(){return this._get(\"description\")}set description(t){this._set(\"description\",t)}readFullExtent(t,e){return(t=e.fullExtent)?o.fromJSON(t):null}readFullExtents(t,e){return e.fullExtents?.length?e.fullExtents.map((t=>o.fromJSON(t))):e.tileMatrixSets.map((t=>o.fromJSON(t.fullExtent))).filter((t=>t))}get imageFormat(){let t=this._get(\"imageFormat\");return t||(t=this.imageFormats&&this.imageFormats.length?this.imageFormats[0]:\"\"),t}set imageFormat(t){const e=this.imageFormats;t&&(t.includes(\"image/\")||e&&!e.includes(t))&&(t.includes(\"image/\")||(t=\"image/\"+t),e&&!e.includes(t))?console.error(\"The layer doesn't support the format of \"+t):this._set(\"imageFormat\",t)}get styleId(){let t=this._get(\"styleId\");return t||(t=this.styles&&this.styles.length?this.styles.getItemAt(0).id:\"\"),t}set styleId(t){this._set(\"styleId\",t)}get title(){return this._get(\"title\")}set title(t){this._set(\"title\",t)}get tileMatrixSet(){return this.tileMatrixSets?this.tileMatrixSets.find((t=>t.id===this.tileMatrixSetId)):null}clone(){const t=new p;return this.hasOwnProperty(\"description\")&&(t.description=this.description),this.hasOwnProperty(\"imageFormats\")&&(t.imageFormats=this.imageFormats&&this.imageFormats.slice()),this.hasOwnProperty(\"imageFormat\")&&(t.imageFormat=this.imageFormat),this.hasOwnProperty(\"fullExtent\")&&(t.fullExtent=this.fullExtent&&this.fullExtent.clone()),this.hasOwnProperty(\"id\")&&(t.id=this.id),this.hasOwnProperty(\"layer\")&&(t.layer=this.layer),this.hasOwnProperty(\"styleId\")&&(t.styleId=this.styleId),this.hasOwnProperty(\"styles\")&&(t.styles=this.styles&&this.styles.clone()),this.hasOwnProperty(\"tileMatrixSetId\")&&(t.tileMatrixSetId=this.tileMatrixSetId),this.hasOwnProperty(\"tileMatrixSets\")&&(t.tileMatrixSets=this.tileMatrixSets.clone()),this.hasOwnProperty(\"title\")&&(t.title=this.title),t}};t([r()],h.prototype,\"description\",null),t([r()],h.prototype,\"fullExtent\",void 0),t([i(\"fullExtent\",[\"fullExtent\"])],h.prototype,\"readFullExtent\",null),t([r({readOnly:!0})],h.prototype,\"fullExtents\",void 0),t([i(\"fullExtents\",[\"fullExtents\",\"tileMatrixSets\"])],h.prototype,\"readFullExtents\",null),t([r()],h.prototype,\"imageFormat\",null),t([r({json:{read:{source:\"formats\"}}})],h.prototype,\"imageFormats\",void 0),t([r()],h.prototype,\"id\",void 0),t([r()],h.prototype,\"layer\",void 0),t([r()],h.prototype,\"styleId\",null),t([r({type:e.ofType(n),json:{read:{source:\"styles\"}}})],h.prototype,\"styles\",void 0),t([r({value:null,json:{write:{ignoreOrigin:!0}}})],h.prototype,\"title\",null),t([r()],h.prototype,\"tileMatrixSetId\",void 0),t([r({readOnly:!0})],h.prototype,\"tileMatrixSet\",null),t([r({type:e.ofType(a),json:{read:{source:\"tileMatrixSets\"}}})],h.prototype,\"tileMatrixSets\",void 0),h=p=t([l(\"esri.layers.support.WMTSSublayer\")],h);const m=h;export{m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{isSome as t}from\"../../core/maybe.js\";import n from\"../../geometry/Extent.js\";import i from\"../../geometry/Point.js\";import{getReferenceEllipsoidFromWKID as r}from\"../../geometry/projectionEllipsoid.js\";import o from\"../../geometry/support/WKIDUnitConversion.js\";import{isAxesOrderReversedForWkid as l}from\"../ogc/crsUtils.js\";import{visitXML as s}from\"../ogc/xmlUtils.js\";import a from\"./TileInfo.js\";const c=90.71428571428571;function u(t){const n=t.replace(/ows:/gi,\"\");if(!m(\"Contents\",(new DOMParser).parseFromString(n,\"text/xml\").documentElement))throw new e(\"wmtslayer:wmts-capabilities-xml-is-not-valid\",\"the wmts get capabilities response is not compliant\",{text:t})}function p(t,n){t=t.replace(/ows:/gi,\"\");const i=(new DOMParser).parseFromString(t,\"text/xml\").documentElement,r=new Map,o=new Map,l=m(\"Contents\",i);if(!l)throw new e(\"wmtslayer:wmts-capabilities-xml-is-not-valid\");const s=m(\"OperationsMetadata\",i)?.querySelector(\"[name='GetTile']\"),a=s?.getElementsByTagName(\"Get\"),c=a&&Array.prototype.slice.call(a),u=n?.url?.indexOf(\"https\")>-1??!1;let p,f,d=n.serviceMode,x=n&&n.url;if(c&&c.length&&c.some((e=>{const t=m(\"Constraint\",e);return!t||w(\"AllowedValues\",\"Value\",d,t)?(x=e.attributes[0].nodeValue,!0):(!t||w(\"AllowedValues\",\"Value\",\"RESTful\",t)||w(\"AllowedValues\",\"Value\",\"REST\",t)?f=e.attributes[0].nodeValue:t&&!w(\"AllowedValues\",\"Value\",\"KVP\",t)||(p=e.attributes[0].nodeValue),!1)})),!x)if(f)x=f,d=\"RESTful\";else if(p)x=p,d=\"KVP\";else{const e=m(\"ServiceMetadataURL\",i);x=e&&e.getAttribute(\"xlink:href\")}const M=x.indexOf(\"1.0.0/\");-1===M&&\"RESTful\"===d?x+=\"/\":M>-1&&(x=x.substring(0,M)),\"KVP\"===d&&(x+=M>-1?\"\":\"?\"),u&&(x=x.replace(/^http:/i,\"https:\"));const T=h(\"ServiceIdentification>ServiceTypeVersion\",i),y=h(\"ServiceIdentification>AccessConstraints\",i),S=/^none$/i.test(y)?null:y,R=g(\"Layer\",l),V=g(\"TileMatrixSet\",l),b=R.map((e=>{const t=h(\"Identifier\",e);return r.set(t,e),C(t,e,V,u,T)}));return{copyright:S,dimensionMap:o,layerMap:r,layers:b,serviceMode:d,tileUrl:x}}function f(e){return e.layers.forEach((e=>{e.tileMatrixSets.forEach((e=>{const t=e.tileInfo;96!==t.dpi&&(t.lods.forEach((n=>{n.scale=96*n.scale/t.dpi,n.resolution=U(t.spatialReference.wkid,n.scale*c/96,e.id)})),t.dpi=96)}))})),e}function d(e){return e.nodeType===Node.ELEMENT_NODE}function m(e,t){for(let n=0;n<t.childNodes.length;n++){const i=t.childNodes[n];if(d(i)&&i.nodeName===e)return i}return null}function g(e,t){const n=[];for(let i=0;i<t.childNodes.length;i++){const r=t.childNodes[i];d(r)&&r.nodeName===e&&n.push(r)}return n}function x(e,t){const n=[];for(let i=0;i<t.childNodes.length;i++){const r=t.childNodes[i];d(r)&&r.nodeName===e&&n.push(r)}return n.map((e=>e.textContent))}function h(e,t){return e.split(\">\").forEach((e=>{t&&(t=m(e,t))})),t&&t.textContent}function w(e,t,n,i){let r;return Array.prototype.slice.call(i.childNodes).some((i=>{if(i.nodeName.includes(e)){const e=m(t,i),o=e&&e.textContent;if(o===n||n.split(\":\")&&n.split(\":\")[1]===o)return r=i,!0}return!1})),r}function C(e,t,n,i,r){const o=h(\"Abstract\",t),l=x(\"Format\",t);return{id:e,fullExtent:R(t),fullExtents:V(t),description:o,formats:l,styles:b(t,i),title:h(\"Title\",t),tileMatrixSets:E(r,t,n)}}function M(e,t){const n=[],i=e.layerMap?.get(t);if(!i)return;const r=g(\"ResourceURL\",i),o=g(\"Dimension\",i);let l,s,a,c;return o.length&&(l=h(\"Identifier\",o[0]),s=x(\"Default\",o[0])||x(\"Value\",o[0])),o.length>1&&(a=h(\"Identifier\",o[1]),c=x(\"Default\",o[1])||x(\"Value\",o[1])),e.dimensionMap.set(t,{dimensions:s,dimensions2:c}),r.forEach((e=>{let t=e.getAttribute(\"template\");if(\"tile\"===e.getAttribute(\"resourceType\")){if(l&&s.length)if(t.includes(\"{\"+l+\"}\"))t=t.replace(\"{\"+l+\"}\",\"{dimensionValue}\");else{const e=t.toLowerCase().indexOf(\"{\"+l.toLowerCase()+\"}\");e>-1&&(t=t.substring(0,e)+\"{dimensionValue}\"+t.substring(e+l.length+2))}if(a&&c.length)if(t.includes(\"{\"+a+\"}\"))t=t.replace(\"{\"+a+\"}\",\"{dimensionValue2}\");else{const e=t.toLowerCase().indexOf(\"{\"+a.toLowerCase()+\"}\");e>-1&&(t=t.substring(0,e)+\"{dimensionValue2}\"+t.substring(e+a.length+2))}n.push({template:t,format:e.getAttribute(\"format\"),resourceType:\"tile\"})}})),n}function T(e,t,n,i,r,o,l,s){const a=y(e,t,i);if(!(a?.length>0))return\"\";const{dimensionMap:c}=e,u=c.get(t).dimensions?.[0],p=c.get(t).dimensions2?.[0];return a[l%a.length].template.replace(/\\{Style\\}/gi,r).replace(/\\{TileMatrixSet\\}/gi,n).replace(/\\{TileMatrix\\}/gi,o).replace(/\\{TileRow\\}/gi,\"\"+l).replace(/\\{TileCol\\}/gi,\"\"+s).replace(/\\{dimensionValue\\}/gi,u).replace(/\\{dimensionValue2\\}/gi,p)}function y(e,t,n){const i=M(e,t),r=i.filter((e=>e.format===n));return r.length?r:i}function S(e,t,n,i){const{dimensionMap:r}=e,o=M(e,t);let l=\"\";if(o&&o.length>0){const e=r.get(t).dimensions&&r.get(t).dimensions[0],s=r.get(t).dimensions2&&r.get(t).dimensions2[0];l=o[0].template,l.indexOf(\".xxx\")===l.length-4&&(l=l.slice(0,l.length-4)),l=l.replace(/\\{Style\\}/gi,i),l=l.replace(/\\{TileMatrixSet\\}/gi,n),l=l.replace(/\\{TileMatrix\\}/gi,\"{level}\"),l=l.replace(/\\{TileRow\\}/gi,\"{row}\"),l=l.replace(/\\{TileCol\\}/gi,\"{col}\"),l=l.replace(/\\{dimensionValue\\}/gi,e),l=l.replace(/\\{dimensionValue2\\}/gi,s)}return l}function R(e){const t=m(\"WGS84BoundingBox\",e),n=t?h(\"LowerCorner\",t).split(\" \"):[\"-180\",\"-90\"],i=t?h(\"UpperCorner\",t).split(\" \"):[\"180\",\"90\"];return{xmin:parseFloat(n[0]),ymin:parseFloat(n[1]),xmax:parseFloat(i[0]),ymax:parseFloat(i[1]),spatialReference:{wkid:4326}}}function V(e){const t=[];return s(e,{BoundingBox:e=>{if(!e.getAttribute(\"crs\"))return;const n=e.getAttribute(\"crs\").toLowerCase(),i=I(n),r=n.includes(\"epsg\")&&l(i.wkid);let o,a,c,u;s(e,{LowerCorner:e=>{[o,a]=e.textContent.split(\" \").map((e=>Number.parseFloat(e))),r&&([o,a]=[a,o])},UpperCorner:e=>{[c,u]=e.textContent.split(\" \").map((e=>Number.parseFloat(e))),r&&([c,u]=[u,c])}}),t.push({xmin:o,ymin:a,xmax:c,ymax:u,spatialReference:i})}}),t}function b(e,t){return g(\"Style\",e).map((e=>{const n=m(\"LegendURL\",e),i=m(\"Keywords\",e),r=i&&x(\"Keyword\",i);let o=n&&n.getAttribute(\"xlink:href\");t&&(o=o&&o.replace(/^http:/i,\"https:\"));return{abstract:h(\"Abstract\",e),id:h(\"Identifier\",e),isDefault:\"true\"===e.getAttribute(\"isDefault\"),keywords:r,legendUrl:o,title:h(\"Title\",e)}}))}function E(e,t,n){return g(\"TileMatrixSetLink\",t).map((t=>L(e,t,n)))}function L(e,t,n){const i=m(\"TileMatrixSet\",t).textContent,r=x(\"TileMatrix\",t),o=n.find((e=>{const t=m(\"Identifier\",e),n=t&&t.textContent;return!!(n===i||i.split(\":\")&&i.split(\":\")[1]===n)})),l=m(\"TileMatrixSetLimits\",t),s=l&&g(\"TileMatrixLimits\",l),c=new Map;if(s?.length)for(const a of s){const e=m(\"TileMatrix\",a).textContent,t=+m(\"MinTileRow\",a).textContent,n=+m(\"MaxTileRow\",a).textContent,i=+m(\"MinTileCol\",a).textContent,r=+m(\"MaxTileCol\",a).textContent;c.set(e,{minCol:i,maxCol:r,minRow:t,maxRow:n})}const u=h(\"SupportedCRS\",o).toLowerCase(),p=N(o,u),f=p.spatialReference,d=m(\"TileMatrix\",o),C=[parseInt(h(\"TileWidth\",d),10),parseInt(h(\"TileHeight\",d),10)],M=[];if(r.length)r.forEach(((e,t)=>{const n=w(\"TileMatrix\",\"Identifier\",e,o);M.push(D(n,u,t,i,c))}));else{g(\"TileMatrix\",o).forEach(((e,t)=>{M.push(D(e,u,t,i,c))}))}const T=F(e,o,p,C,M[0]).toJSON(),y=new a({dpi:96,spatialReference:f,size:C,origin:p,lods:M}).toJSON();return{id:i,fullExtent:T,tileInfo:y}}function I(e){e=e.toLowerCase();let n=parseInt(e.split(\":\").pop(),10);900913!==n&&3857!==n||(n=102100);const i=k(e);return t(i)&&(n=i),{wkid:n}}function N(e,t){return A(m(\"TileMatrix\",e),t)}function A(e,t){const n=I(t),[r,o]=h(\"TopLeftCorner\",e).split(\" \").map((e=>parseFloat(e))),s=t.includes(\"epsg\")&&l(n.wkid);return new i(s?{x:o,y:r,spatialReference:n}:{x:r,y:o,spatialReference:n})}function F(e,t,i,r,o){const l=m(\"BoundingBox\",t);let s,a,c,u,p,f;if(l&&(s=h(\"LowerCorner\",l).split(\" \"),a=h(\"UpperCorner\",l).split(\" \")),s&&s.length>1&&a&&a.length>1)c=parseFloat(s[0]),p=parseFloat(s[1]),u=parseFloat(a[0]),f=parseFloat(a[1]);else{const e=m(\"TileMatrix\",t),n=parseInt(h(\"MatrixWidth\",e),10),l=parseInt(h(\"MatrixHeight\",e),10);c=i.x,f=i.y,u=c+n*r[0]*o.resolution,p=f-l*r[1]*o.resolution}return v(e,i.spatialReference)?new n(p,c,f,u,i.spatialReference):new n(c,p,u,f,i.spatialReference)}function v(e,t){return\"1.0.0\"===e&&l(t.wkid)}var O;function k(e){return e.includes(\"crs84\")||e.includes(\"crs:84\")?O.CRS84:e.includes(\"crs83\")||e.includes(\"crs:83\")?O.CRS83:e.includes(\"crs27\")||e.includes(\"crs:27\")?O.CRS27:null}function D(e,t,n,i,r){const o=I(t),l=h(\"Identifier\",e);let s=parseFloat(h(\"ScaleDenominator\",e));const a=U(o.wkid,s,i);s*=96/c;const u=+h(\"MatrixWidth\",e),p=+h(\"MatrixHeight\",e),{maxCol:f=u-1,maxRow:d=p-1,minCol:m=0,minRow:g=0}=r.get(l)??{},{x,y:w}=A(e,t);return{cols:[m,f],level:n,levelValue:l,origin:[x,w],scale:s,resolution:a,rows:[g,d]}}function U(e,t,n){let i;return i=o.hasOwnProperty(\"\"+e)?o.values[o[e]]:\"default028mm\"===n?6370997*Math.PI/180:r(e).metersPerDegree,7*t/25e3/i}!function(e){e[e.CRS84=4326]=\"CRS84\",e[e.CRS83=4269]=\"CRS83\",e[e.CRS27=4267]=\"CRS27\"}(O||(O={}));export{T as getTileUrlFromResourceUrls,S as getTileUrlTemplateFromResourceUrls,y as getTileUrlTemplates,p as parseCapabilities,f as parseResourceInfo,u as validateCapabilities};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"../request.js\";import r from\"../core/Collection.js\";import i from\"../core/Error.js\";import s from\"../core/Handles.js\";import{clone as a}from\"../core/lang.js\";import{MultiOriginJSONMixin as o}from\"../core/MultiOriginJSONSupport.js\";import{getDeepValue as l}from\"../core/object.js\";import{throwIfAbortError as n}from\"../core/promiseUtils.js\";import{watch as m,sync as p}from\"../core/reactiveUtils.js\";import{urlToObject as c,objectToQuery as u}from\"../core/urlUtils.js\";import{property as y}from\"../core/accessorSupport/decorators/property.js\";import\"../core/accessorSupport/ensureType.js\";import{reader as d}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as h}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as f}from\"../core/accessorSupport/decorators/writer.js\";import v from\"../geometry/Extent.js\";import g from\"./Layer.js\";import w from\"./WebTileLayer.js\";import{BlendLayer as L}from\"./mixins/BlendLayer.js\";import{OperationalLayer as I}from\"./mixins/OperationalLayer.js\";import{PortalLayer as S}from\"./mixins/PortalLayer.js\";import{RefreshableLayer as M}from\"./mixins/RefreshableLayer.js\";import{ScaleRangeLayer as T}from\"./mixins/ScaleRangeLayer.js\";import P from\"./support/TileInfo.js\";import b from\"./support/TileInfoTilemapCache.js\";import{WMTSLayerInfo as j}from\"./support/WMTSLayerInfo.js\";import x from\"./support/WMTSSublayer.js\";import{getTileUrlFromResourceUrls as _,getTileUrlTemplateFromResourceUrls as E,validateCapabilities as C,parseCapabilities as U,parseResourceInfo as R}from\"./support/wmtsUtils.js\";const O={\"image/png\":\".png\",\"image/png8\":\".png\",\"image/png24\":\".png\",\"image/png32\":\".png\",\"image/jpg\":\".jpg\",\"image/jpeg\":\".jpeg\",\"image/gif\":\".gif\",\"image/bmp\":\".bmp\",\"image/tiff\":\".tif\",\"image/jpgpng\":\"\",\"image/jpegpng\":\"\",\"image/unknown\":\"\"},W=new Set([\"version\",\"service\",\"request\",\"layer\",\"style\",\"format\",\"tilematrixset\",\"tilematrix\",\"tilerow\",\"tilecol\"]);let A=class extends(L(M(T(I(S(o(g))))))){constructor(...e){super(...e),this._sublayersHandles=new s,this.copyright=\"\",this.customParameters=null,this.customLayerParameters=null,this.fullExtent=null,this.operationalLayerType=\"WebTiledLayer\",this.resourceInfo=null,this.serviceMode=\"RESTful\",this.sublayers=null,this.type=\"wmts\",this.version=\"1.0.0\",this.own([m((()=>this.activeLayer),((e,t)=>{t&&(t.layer=null),e&&(e.layer=this)}),p),m((()=>this.sublayers),((e,t)=>{t&&(t.forEach((e=>{e.layer=null})),this._sublayersHandles.removeAll(),this._sublayersHandles=null),e&&(e.forEach((e=>{e.layer=this})),this._sublayersHandles||(this._sublayersHandles=new s),this._sublayersHandles.add([e.on(\"after-add\",(({item:e})=>{e.layer=this})),e.on(\"after-remove\",(({item:e})=>{e.layer=null}))]))}),p)])}normalizeCtorArgs(e,t){return\"string\"==typeof e?{url:e,...t}:e}load(e){if(\"KVP\"===this.serviceMode||\"RESTful\"===this.serviceMode)return this.addResolvingPromise(this.loadFromPortal({supportedTypes:[\"WMTS\"]},e).catch(n).then((()=>this._fetchService(e))).catch((e=>{throw n(e),new i(\"wmtslayer:unsupported-service-data\",\"Invalid response from the WMTS service.\",{error:e})}))),Promise.resolve(this);console.error(\"WMTS mode could only be 'KVP' or 'RESTful'\")}get activeLayer(){return this._get(\"activeLayer\")}set activeLayer(e){this._set(\"activeLayer\",e)}readActiveLayerFromService(e,t,r){this.activeLayer||(this.activeLayer=new x);let i=t.layers.find((e=>e.id===this.activeLayer.id));return i||(i=t.layers[0]),this.activeLayer.read(i,r),this.activeLayer}readActiveLayerFromItemOrWebDoc(e,t){const{templateUrl:r,wmtsInfo:i}=t,s=r?this._getLowerCasedUrlParams(r):null,a=i?.layerIdentifier;let o=null;const l=i?.tileMatrixSet;l&&(Array.isArray(l)?l.length&&(o=l[0]):o=l);const n=s?.format,m=s?.style;return new x({id:a,imageFormat:n,styleId:m,tileMatrixSetId:o})}writeActiveLayer(e,t,r,i){const s=this.activeLayer;t.templateUrl=this.getUrlTemplate(s.id,s.tileMatrixSetId,s.imageFormat,s.styleId);const a=l(\"tileMatrixSet.tileInfo\",s);t.tileInfo=a?a.toJSON(i):null,t.wmtsInfo={...t.wmtsInfo,layerIdentifier:s.id,tileMatrixSet:s.tileMatrixSetId}}readCustomParameters(e,t){const r=t.wmtsInfo;return r?this._mergeParams(r.customParameters,r.url):null}get fullExtents(){return this.activeLayer.fullExtents}readServiceMode(e,t){return t.templateUrl.includes(\"?\")?\"KVP\":\"RESTful\"}readSublayersFromService(e,t,r){return F(t.layers,r)}get supportedSpatialReferences(){return this.activeLayer.tileMatrixSets.map((e=>e.tileInfo.spatialReference)).toArray()}get tilemapCache(){const e=this.activeLayer?.tileMatrixSet?.tileInfo;return new b(e)}get title(){return this.activeLayer?.title??\"Layer\"}set title(e){e?this._override(\"title\",e):this._clearOverride(\"title\")}get url(){return this._get(\"url\")}set url(e){e&&\"/\"===e.substr(-1)?this._set(\"url\",e.slice(0,-1)):this._set(\"url\",e)}createWebTileLayer(e){const t=this.getUrlTemplate(this.activeLayer.id,this.activeLayer.tileMatrixSetId,this.activeLayer.imageFormat,this.activeLayer.styleId),r=this._getTileMatrixSetById(e.tileMatrixSetId).tileInfo,i=e.fullExtent,s=new j({layerIdentifier:e.id,tileMatrixSet:e.tileMatrixSetId,url:this.url});return this.customLayerParameters&&(s.customLayerParameters=this.customLayerParameters),this.customParameters&&(s.customParameters=this.customParameters),new w({fullExtent:i,urlTemplate:t,tileInfo:r,wmtsInfo:s})}fetchTile(e,r,i){const s=this.getTileUrl(e,r,i);return t(s,{responseType:\"image\"}).then((e=>e.data))}findSublayerById(e){return this.sublayers.find((t=>t.id===e))}getTileUrl(e,t,r){const i=this._getTileMatrixSetById(this.activeLayer.tileMatrixSetId).tileInfo.lods[e],s=i?i.levelValue?i.levelValue:`${i.level}`:`${e}`;let a=this.resourceInfo?\"\":_({dimensionMap:this.dimensionMap,layerMap:this.layerMap},this.activeLayer.id,this.activeLayer.tileMatrixSetId,this.activeLayer.imageFormat,this.activeLayer.styleId,s,t,r);if(!a){a=this.getUrlTemplate(this.activeLayer.id,this.activeLayer.tileMatrixSetId,this.activeLayer.imageFormat,this.activeLayer.styleId).replace(/\\{level\\}/gi,s).replace(/\\{row\\}/gi,`${t}`).replace(/\\{col\\}/gi,`${r}`)}return a=this._appendCustomLayerParameters(a),a}getUrlTemplate(e,t,r,i){if(!this.resourceInfo){const r=E({dimensionMap:this.dimensionMap,layerMap:this.layerMap},e,t,i);if(r)return r}if(\"KVP\"===this.serviceMode)return this.url+\"?SERVICE=WMTS&VERSION=\"+this.version+\"&REQUEST=GetTile&LAYER=\"+e+\"&STYLE=\"+i+\"&FORMAT=\"+r+\"&TILEMATRIXSET=\"+t+\"&TILEMATRIX={level}&TILEROW={row}&TILECOL={col}\";if(\"RESTful\"===this.serviceMode){let s=\"\";return O[r.toLowerCase()]&&(s=O[r.toLowerCase()]),this.url+e+\"/\"+i+\"/\"+t+\"/{level}/{row}/{col}\"+s}return\"\"}async _fetchService(e){let t;if(this.resourceInfo)\"KVP\"===this.resourceInfo.serviceMode&&(this.url+=this.url.includes(\"?\")?\"\":\"?\"),t={ssl:!1,data:this.resourceInfo};else try{t=await this._getCapabilities(this.serviceMode,e),C(t.data)}catch{const s=\"KVP\"===this.serviceMode?\"RESTful\":\"KVP\";try{t=await this._getCapabilities(s,e),C(t.data),this.serviceMode=s}catch(r){throw new i(\"wmtslayer:unsupported-service-data\",\"Services does not support RESTful or KVP service modes.\",{error:r})}}this.resourceInfo?t.data=R(t.data):t.data=U(t.data,{serviceMode:this.serviceMode,url:this.url}),t.data&&this.read(t.data,{origin:\"service\"})}async _getCapabilities(e,r){const i=this._getCapabilitiesUrl(e);return await t(i,{...r,responseType:\"text\"})}_getTileMatrixSetById(e){return this.findSublayerById(this.activeLayer.id).tileMatrixSets.find((t=>t.id===e))}_appendCustomParameters(e){return this._appendParameters(e,this.customParameters)}_appendCustomLayerParameters(e){return this._appendParameters(e,{...a(this.customParameters),...this.customLayerParameters})}_appendParameters(e,t){const r=c(e),i={...r.query,...t},s=u(i);return\"\"===s?r.path:`${r.path}?${s}`}_getCapabilitiesUrl(e){this.url=this.url.split(\"?\")[0];const t=\"KVP\"===e?`${this.url}?request=GetCapabilities&service=WMTS&version=${this.version}`:`${this.url}/${this.version}/WMTSCapabilities.xml`;return this._appendCustomParameters(t)}_getLowerCasedUrlParams(e){if(!e)return null;const t=c(e).query;if(!t)return null;const r={};return Object.keys(t).forEach((e=>{r[e.toLowerCase()]=t[e]})),r}_mergeParams(e,t){const r=this._getLowerCasedUrlParams(t);if(r){const t=Object.keys(r);t.length&&(e=e?a(e):{},t.forEach((t=>{e.hasOwnProperty(t)||W.has(t)||(e[t]=r[t])})))}return e}};function F(e,t){return e.map((e=>{const r=new x;return r.read(e,t),r}))}e([y()],A.prototype,\"dimensionMap\",void 0),e([y()],A.prototype,\"layerMap\",void 0),e([y({type:x,json:{origins:{\"web-document\":{write:{ignoreOrigin:!0}}}}})],A.prototype,\"activeLayer\",null),e([d(\"service\",\"activeLayer\",[\"layers\"])],A.prototype,\"readActiveLayerFromService\",null),e([d([\"web-document\",\"portal-item\"],\"activeLayer\",[\"wmtsInfo\"])],A.prototype,\"readActiveLayerFromItemOrWebDoc\",null),e([f([\"web-document\",\"portal-item\"],\"activeLayer\",{templateUrl:{type:String},tileInfo:{type:P},\"wmtsInfo.layerIdentifier\":{type:String},\"wmtsInfo.tileMatrixSet\":{type:String}})],A.prototype,\"writeActiveLayer\",null),e([y({type:String,value:\"\",json:{write:!0}})],A.prototype,\"copyright\",void 0),e([y({type:[\"show\",\"hide\"]})],A.prototype,\"listMode\",void 0),e([y({json:{read:!0,write:!0}})],A.prototype,\"blendMode\",void 0),e([y({json:{origins:{\"web-document\":{read:{source:[\"wmtsInfo.customParameters\",\"wmtsInfo.url\"]},write:{target:\"wmtsInfo.customParameters\"}},\"portal-item\":{read:{source:[\"wmtsInfo.customParameters\",\"wmtsInfo.url\"]},write:{target:\"wmtsInfo.customParameters\"}}}}})],A.prototype,\"customParameters\",void 0),e([d([\"portal-item\",\"web-document\"],\"customParameters\")],A.prototype,\"readCustomParameters\",null),e([y({json:{origins:{\"web-document\":{read:{source:\"wmtsInfo.customLayerParameters\"},write:{target:\"wmtsInfo.customLayerParameters\"}},\"portal-item\":{read:{source:\"wmtsInfo.customLayerParameters\"},write:{target:\"wmtsInfo.customLayerParameters\"}}}}})],A.prototype,\"customLayerParameters\",void 0),e([y({type:v,json:{write:{ignoreOrigin:!0},origins:{\"web-document\":{read:{source:\"fullExtent\"}},\"portal-item\":{read:{source:\"fullExtent\"}}}}})],A.prototype,\"fullExtent\",void 0),e([y({readOnly:!0})],A.prototype,\"fullExtents\",null),e([y({type:[\"WebTiledLayer\"]})],A.prototype,\"operationalLayerType\",void 0),e([y()],A.prototype,\"resourceInfo\",void 0),e([y()],A.prototype,\"serviceMode\",void 0),e([d([\"portal-item\",\"web-document\"],\"serviceMode\",[\"templateUrl\"])],A.prototype,\"readServiceMode\",null),e([y({type:r.ofType(x)})],A.prototype,\"sublayers\",void 0),e([d(\"service\",\"sublayers\",[\"layers\"])],A.prototype,\"readSublayersFromService\",null),e([y({readOnly:!0})],A.prototype,\"supportedSpatialReferences\",null),e([y({readOnly:!0})],A.prototype,\"tilemapCache\",null),e([y({json:{read:{source:\"title\"}}})],A.prototype,\"title\",null),e([y({json:{read:!1},readOnly:!0,value:\"wmts\"})],A.prototype,\"type\",void 0),e([y({json:{origins:{service:{read:{source:\"tileUrl\"}},\"web-document\":{read:{source:\"wmtsInfo.url\"},write:{target:\"wmtsInfo.url\"}},\"portal-item\":{read:{source:\"wmtsInfo.url\"},write:{target:\"wmtsInfo.url\"}}}}})],A.prototype,\"url\",null),e([y()],A.prototype,\"version\",void 0),A=e([h(\"esri.layers.WMTSLayer\")],A);const V=A;export{V as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../geometry.js\";import t from\"../request.js\";import r from\"../core/Error.js\";import{MultiOriginJSONMixin as l}from\"../core/MultiOriginJSONSupport.js\";import{replace as o}from\"../core/string.js\";import{Url as s,isProtocolRelative as i,normalize as n}from\"../core/urlUtils.js\";import{property as a}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import\"../core/accessorSupport/ensureType.js\";import{reader as p}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as u}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as m}from\"../core/accessorSupport/decorators/writer.js\";import c from\"./Layer.js\";import{BlendLayer as y}from\"./mixins/BlendLayer.js\";import{OperationalLayer as f}from\"./mixins/OperationalLayer.js\";import{PortalLayer as h}from\"./mixins/PortalLayer.js\";import{RefreshableLayer as d}from\"./mixins/RefreshableLayer.js\";import{ScaleRangeLayer as v}from\"./mixins/ScaleRangeLayer.js\";import w from\"./support/LOD.js\";import g from\"./support/TileInfo.js\";import{WMTSLayerInfo as j}from\"./support/WMTSLayerInfo.js\";import b from\"../geometry/Extent.js\";import T from\"../geometry/SpatialReference.js\";import S from\"../geometry/Point.js\";let R=class extends(y(d(v(f(h(l(c))))))){constructor(...e){super(...e),this.copyright=\"\",this.fullExtent=new b(-20037508.342787,-20037508.34278,20037508.34278,20037508.342787,T.WebMercator),this.legendEnabled=!1,this.isReference=null,this.popupEnabled=!1,this.spatialReference=T.WebMercator,this.subDomains=null,this.tileInfo=new g({size:[256,256],dpi:96,format:\"png8\",compressionQuality:0,origin:new S({x:-20037508.342787,y:20037508.342787,spatialReference:T.WebMercator}),spatialReference:T.WebMercator,lods:[new w({level:0,scale:591657527.591555,resolution:156543.033928}),new w({level:1,scale:295828763.795777,resolution:78271.5169639999}),new w({level:2,scale:147914381.897889,resolution:39135.7584820001}),new w({level:3,scale:73957190.948944,resolution:19567.8792409999}),new w({level:4,scale:36978595.474472,resolution:9783.93962049996}),new w({level:5,scale:18489297.737236,resolution:4891.96981024998}),new w({level:6,scale:9244648.868618,resolution:2445.98490512499}),new w({level:7,scale:4622324.434309,resolution:1222.99245256249}),new w({level:8,scale:2311162.217155,resolution:611.49622628138}),new w({level:9,scale:1155581.108577,resolution:305.748113140558}),new w({level:10,scale:577790.554289,resolution:152.874056570411}),new w({level:11,scale:288895.277144,resolution:76.4370282850732}),new w({level:12,scale:144447.638572,resolution:38.2185141425366}),new w({level:13,scale:72223.819286,resolution:19.1092570712683}),new w({level:14,scale:36111.909643,resolution:9.55462853563415}),new w({level:15,scale:18055.954822,resolution:4.77731426794937}),new w({level:16,scale:9027.977411,resolution:2.38865713397468}),new w({level:17,scale:4513.988705,resolution:1.19432856685505}),new w({level:18,scale:2256.994353,resolution:.597164283559817}),new w({level:19,scale:1128.497176,resolution:.298582141647617}),new w({level:20,scale:564.248588,resolution:.14929107082380833}),new w({level:21,scale:282.124294,resolution:.07464553541190416}),new w({level:22,scale:141.062147,resolution:.03732276770595208}),new w({level:23,scale:70.5310735,resolution:.01866138385297604})]}),this.type=\"web-tile\",this.urlTemplate=null,this.wmtsInfo=null}normalizeCtorArgs(e,t){return\"string\"==typeof e?{urlTemplate:e,...t}:e}load(e){const t=this.loadFromPortal({supportedTypes:[\"WMTS\"]},e).then((()=>{let e=\"\";if(this.urlTemplate)if(this.spatialReference.equals(this.tileInfo.spatialReference)){const t=new s(this.urlTemplate);!(!!this.subDomains&&this.subDomains.length>0)&&t.authority.includes(\"{subDomain}\")&&(e=\"is missing 'subDomains' property\")}else e=\"spatialReference must match tileInfo.spatialReference\";else e=\"is missing the required 'urlTemplate' property value\";if(e)throw new r(\"web-tile-layer:load\",`WebTileLayer (title: '${this.title}', id: '${this.id}') ${e}`)}));return this.addResolvingPromise(t),Promise.resolve(this)}get levelValues(){const e=[];if(!this.tileInfo)return null;for(const t of this.tileInfo.lods)e[t.level]=t.levelValue||t.level;return e}readSpatialReference(e,t){return e||t.fullExtent&&t.fullExtent.spatialReference&&T.fromJSON(t.fullExtent.spatialReference)}get tileServers(){if(!this.urlTemplate)return null;const e=[],{urlTemplate:t,subDomains:r}=this,l=new s(t),o=l.scheme?l.scheme+\"://\":\"//\",i=o+l.authority+\"/\";if(l.authority.includes(\"{subDomain}\")){if(r&&r.length>0&&l.authority.split(\".\").length>1)for(const s of r)e.push(o+l.authority.replace(/\\{subDomain\\}/gi,s)+\"/\")}else e.push(i);return e.map((e=>(\"/\"!==e.charAt(e.length-1)&&(e+=\"/\"),e)))}get urlPath(){if(!this.urlTemplate)return null;const e=this.urlTemplate,t=new s(e),r=(t.scheme?t.scheme+\"://\":\"//\")+t.authority+\"/\";return e.substring(r.length)}readUrlTemplate(e,t){return e||t.templateUrl}writeUrlTemplate(e,t){e&&i(e)&&(e=\"https:\"+e),e&&(e=e.replace(/\\{z\\}/gi,\"{level}\").replace(/\\{x\\}/gi,\"{col}\").replace(/\\{y\\}/gi,\"{row}\"),e=n(e)),t.templateUrl=e}fetchTile(e,r,l,o={}){const{signal:s}=o,i=this.getTileUrl(e,r,l),n={responseType:\"image\",signal:s,query:{...this.refreshParameters}};return t(i,n).then((e=>e.data))}getTileUrl(e,t,r){const l=this.levelValues[e];return this.tileServers[t%this.tileServers.length]+o(this.urlPath,{level:l,z:l,col:r,x:r,row:t,y:t})}};e([a({type:String,value:\"\",json:{write:!0}})],R.prototype,\"copyright\",void 0),e([a({type:b,json:{write:!0},nonNullable:!0})],R.prototype,\"fullExtent\",void 0),e([a({readOnly:!0,json:{read:!1,write:!1}})],R.prototype,\"legendEnabled\",void 0),e([a({type:[\"show\",\"hide\"]})],R.prototype,\"listMode\",void 0),e([a({json:{read:!0,write:!0}})],R.prototype,\"blendMode\",void 0),e([a()],R.prototype,\"levelValues\",null),e([a({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],R.prototype,\"isReference\",void 0),e([a({type:[\"WebTiledLayer\"],value:\"WebTiledLayer\"})],R.prototype,\"operationalLayerType\",void 0),e([a({readOnly:!0,json:{read:!1,write:!1}})],R.prototype,\"popupEnabled\",void 0),e([a({type:T})],R.prototype,\"spatialReference\",void 0),e([p(\"spatialReference\",[\"spatialReference\",\"fullExtent.spatialReference\"])],R.prototype,\"readSpatialReference\",null),e([a({type:[String],json:{write:!0}})],R.prototype,\"subDomains\",void 0),e([a({type:g,json:{write:!0}})],R.prototype,\"tileInfo\",void 0),e([a({readOnly:!0})],R.prototype,\"tileServers\",null),e([a({json:{read:!1}})],R.prototype,\"type\",void 0),e([a()],R.prototype,\"urlPath\",null),e([a({type:String,json:{origins:{\"portal-item\":{read:{source:\"url\"}}}}})],R.prototype,\"urlTemplate\",void 0),e([p(\"urlTemplate\",[\"urlTemplate\",\"templateUrl\"])],R.prototype,\"readUrlTemplate\",null),e([m(\"urlTemplate\",{templateUrl:{type:String}})],R.prototype,\"writeUrlTemplate\",null),e([a({type:j,json:{write:!0}})],R.prototype,\"wmtsInfo\",void 0),R=e([u(\"esri.layers.WebTileLayer\")],R);const x=R;export{x as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import{JSONSupport as t}from\"../../core/JSONSupport.js\";import{clone as e}from\"../../core/lang.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";var i;let p=i=class extends t{constructor(r){super(r)}clone(){return new i({customLayerParameters:e(this.customLayerParameters),customParameters:e(this.customParameters),layerIdentifier:this.layerIdentifier,tileMatrixSet:this.tileMatrixSet,url:this.url})}};r([o({json:{type:Object,write:!0}})],p.prototype,\"customLayerParameters\",void 0),r([o({json:{type:Object,write:!0}})],p.prototype,\"customParameters\",void 0),r([o({type:String,json:{write:!0}})],p.prototype,\"layerIdentifier\",void 0),r([o({type:String,json:{write:!0}})],p.prototype,\"tileMatrixSet\",void 0),r([o({type:String,json:{write:!0}})],p.prototype,\"url\",void 0),p=i=r([s(\"esri.layer.support.WMTSLayerInfo\")],p);export{p as WMTSLayerInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nfunction o(n,c){for(const e of n.children)if(e.localName in c){const n=c[e.localName];if(\"function\"==typeof n){const c=n(e);c&&o(e,c)}else o(e,n)}}function*n(o,c){for(const e of o.children)if(e.localName in c){const o=c[e.localName];\"function\"==typeof o?yield o(e):yield*n(e,o)}}export{n as iterateXML,o as visitXML};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nconst n=[[3819,3819],[3821,3824],[3889,3889],[3906,3906],[4001,4025],[4027,4036],[4039,4047],[4052,4055],[4074,4075],[4080,4081],[4120,4176],[4178,4185],[4188,4216],[4218,4289],[4291,4304],[4306,4319],[4322,4326],[4463,4463],[4470,4470],[4475,4475],[4483,4483],[4490,4490],[4555,4558],[4600,4646],[4657,4765],[4801,4811],[4813,4821],[4823,4824],[4901,4904],[5013,5013],[5132,5132],[5228,5229],[5233,5233],[5246,5246],[5252,5252],[5264,5264],[5324,5340],[5354,5354],[5360,5360],[5365,5365],[5370,5373],[5381,5381],[5393,5393],[5451,5451],[5464,5464],[5467,5467],[5489,5489],[5524,5524],[5527,5527],[5546,5546],[2044,2045],[2081,2083],[2085,2086],[2093,2093],[2096,2098],[2105,2132],[2169,2170],[2176,2180],[2193,2193],[2200,2200],[2206,2212],[2319,2319],[2320,2462],[2523,2549],[2551,2735],[2738,2758],[2935,2941],[2953,2953],[3006,3030],[3034,3035],[3038,3051],[3058,3059],[3068,3068],[3114,3118],[3126,3138],[3150,3151],[3300,3301],[3328,3335],[3346,3346],[3350,3352],[3366,3366],[3389,3390],[3416,3417],[3833,3841],[3844,3850],[3854,3854],[3873,3885],[3907,3910],[4026,4026],[4037,4038],[4417,4417],[4434,4434],[4491,4554],[4839,4839],[5048,5048],[5105,5130],[5253,5259],[5269,5275],[5343,5349],[5479,5482],[5518,5519],[5520,5520],[20004,20032],[20064,20092],[21413,21423],[21473,21483],[21896,21899],[22171,22177],[22181,22187],[22191,22197],[25884,25884],[27205,27232],[27391,27398],[27492,27492],[28402,28432],[28462,28492],[30161,30179],[30800,30800],[31251,31259],[31275,31279],[31281,31290],[31466,31700]];function o(o){return n.some((([n,t])=>o>=n&&o<=t))}export{o as isAxesOrderReversedForWkid};\n"],"sourceRoot":""}